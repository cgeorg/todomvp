!function(t){function n(r){if(e[r])return e[r].exports;var o=e[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}var e={};return n.m=t,n.c=e,n.p="",n(0)}([function(t,n,e){"use strict";var r=function(t){return t&&t.__esModule?t["default"]:t},o=r(e(2)),i=r(e(53)),u=r(e(54)),s=r(e(52)),c=r(e(51)),a=r(e(55)),f=o.createDOMUser(document.body);f.inject(u),u.inject(i),i.inject(s,c,a),s.inject(f),a.inject(s,i)},function(t){function n(t){return t&&"Widget"===t.type}t.exports=n},function(t,n,e){"use strict";var r=e(16),o=e(3),i=e(10),u=e(30),s=e(29),c=e(32),a=e(34),f=e(12),l=e(31),h=e(33),p={createDataFlowNode:function(t){return new i(t)},createDataFlowSource:function(t){return new u(t)},createDataFlowSink:function(t){return new s(t)},createModel:function(t){return new c(t)},createView:function(t){return new a(t)},createIntent:function(t){return new l(t)},createDOMUser:function(t){return new f(t)},registerCustomElement:function(t,n){f.registerCustomElement(t,n)},vdomPropHook:function(t){return new h(t)},Rx:o,h:r.h};t.exports=p},function(t,n,e){var r;(function(t,o,i){(function(u){function c(t){for(var n=[],e=0,r=t.length;r>e;e++)n.push(t[e]);return n}function a(t,n){if(Bn&&n.stack&&"object"==typeof t&&null!==t&&t.stack&&-1===t.stack.indexOf(Jn)){for(var e=[],r=n;r;r=r.source)r.stack&&e.unshift(r.stack);e.unshift(t.stack);var o=e.join("\n"+Jn+"\n");t.stack=f(o)}}function f(t){for(var n=t.split("\n"),e=[],r=0,o=n.length;o>r;r++){var i=n[r];l(i)||h(i)||!i||e.push(i)}return e.join("\n")}function l(t){var n=v(t);if(!n)return!1;var e=n[0],r=n[1];return e===Gn&&r>=Kn&&ko>=r}function h(t){return-1!==t.indexOf("(module.js:")||-1!==t.indexOf("(node.js:")}function p(){if(Bn)try{throw new Error}catch(t){var n=t.stack.split("\n"),e=n[0].indexOf("@")>0?n[1]:n[2],r=v(e);if(!r)return;return Gn=r[0],r[1]}}function v(t){var n=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(t);if(n)return[n[1],Number(n[2])];var e=/at ([^ ]+):(\d+):(?:\d+)$/.exec(t);if(e)return[e[1],Number(e[2])];var r=/.*@(.+):(\d+)$/.exec(t);return r?[r[1],Number(r[2])]:void 0}function d(t){var n=[];if(!De(t))return n;ke.nonEnumArgs&&t.length&&je(t)&&(t=Pe.call(t));var e=ke.enumPrototypes&&"function"==typeof t,r=ke.enumErrorProps&&(t===Ce||t instanceof Error);for(var o in t)e&&"prototype"==o||r&&("message"==o||"name"==o)||n.push(o);if(ke.nonEnumShadows&&t!==Ne){var i=t.constructor,u=-1,s=fe;if(t===(i&&i.prototype))var c=t===Se?we:t===Ce?de:_e.call(t),a=Ae[c];for(;++u<s;)o=ae[u],a&&a[o]||!Ee.call(t,o)||n.push(o)}return n}function m(t,n,e){for(var r=-1,o=e(t),i=o.length;++r<i;){var u=o[r];if(n(t[u],u,t)===!1)break}return t}function b(t,n){return m(t,n,d)}function y(t){return"function"!=typeof t.toString&&"string"==typeof(t+"")}function g(t,n,e,r){if(t===n)return 0!==t||1/t==1/n;var o=typeof t,i=typeof n;if(t===t&&(null==t||null==n||"function"!=o&&"object"!=o&&"function"!=i&&"object"!=i))return!1;var u=_e.call(t),s=_e.call(n);if(u==le&&(u=ye),s==le&&(s=ye),u!=s)return!1;switch(u){case pe:case ve:return+t==+n;case be:return t!=+t?n!=+n:0==t?1/t==1/n:t==+n;case ge:case we:return t==String(n)}var c=u==he;if(!c){if(u!=ye||!ke.nodeClass&&(y(t)||y(n)))return!1;var a=!ke.argsObject&&je(t)?Object:t.constructor,f=!ke.argsObject&&je(n)?Object:n.constructor;if(!(a==f||Ee.call(t,"constructor")&&Ee.call(n,"constructor")||Un(a)&&a instanceof a&&Un(f)&&f instanceof f||!("constructor"in t&&"constructor"in n)))return!1}e||(e=[]),r||(r=[]);for(var l=e.length;l--;)if(e[l]==t)return r[l]==n;var h=0,p=!0;if(e.push(t),r.push(n),c){if(l=t.length,h=n.length,p=h==l)for(;h--;){var v=n[h];if(!(p=g(t[h],v,e,r)))break}}else b(n,function(n,o,i){return Ee.call(i,o)?(h++,p=Ee.call(t,o)&&g(t[o],n,e,r)):void 0}),p&&b(t,function(t,n,e){return Ee.call(e,n)?p=--h>-1:void 0});return e.pop(),r.pop(),p}function w(t,n){for(var e=new Array(t),r=0;t>r;r++)e[r]=n();return e}function _(){try{return Re.apply(this,arguments)}catch(t){return $e.e=t,$e}}function E(t){if(!Un(t))throw new TypeError("fn must be a function");return Re=t,_}function x(t){throw t}function C(t,n){this.id=t,this.value=n}function N(t,n){this.scheduler=t,this.disposable=n,this.isDisposed=!1}function S(t,n){n.isDisposed||(n.isDisposed=!0,n.disposable.dispose())}function O(t){this.observer=t,this.a=[],this.isStopped=!1}function A(){this._s=s}function k(){this._s=s,this._l=s.length,this._i=0}function D(t){this._a=t}function j(t){this._a=t,this._l=W(t),this._i=0}function R(t){return"number"==typeof t&&kn.isFinite(t)}function T(t){var n,e=t[re];if(!e&&"string"==typeof t)return n=new A(t),n[re]();if(!e&&t.length!==u)return n=new D(t),n[re]();if(!e)throw new TypeError("Object is not iterable");return t[re]()}function P(t){var n=+t;return 0===n?n:isNaN(n)?n:0>n?-1:1}function W(t){var n=+t.length;return isNaN(n)?0:0!==n&&R(n)?(n=P(n)*Math.floor(Math.abs(n)),0>=n?0:n>Tr?Tr:n):n}function q(t,n){this.observer=t,this.parent=n}function I(t,n){return qn(t)||(t=rr),new Wr(n,t)}function $(t,n){return new xo(function(e){var r=new Ke,o=new Je;return o.setDisposable(r),r.setDisposable(t.subscribe(function(t){e.onNext(t)},function(t){try{var r=n(t)}catch(i){return e.onError(i)}Fn(r)&&(r=Or(r));var u=new Ke;o.setDisposable(u),u.setDisposable(r.subscribe(e))},function(t){e.onCompleted(t)})),o},t)}function M(t,n){var e=this;return new xo(function(r){var o=0,i=t.length;return e.subscribe(function(e){if(i>o){var u,s=t[o++];try{u=n(e,s)}catch(c){return r.onError(c)}r.onNext(u)}else r.onCompleted()},function(t){r.onError(t)},function(){r.onCompleted()})},e)}function V(){return!1}function z(){return[]}function F(t,n,e){var r=ce(n,e,3);return t.map(function(n,e){var o=r(n,e,t);return Fn(o)&&(o=Or(o)),(ue(o)||ie(o))&&(o=Pr(o)),o}).concatAll()}function L(t,n,e){for(var r=0,o=t.length;o>r;r++)if(e(t[r],n))return r;return-1}function U(t){this.comparer=t,this.set=[]}function B(t,n,e){this.observer=t,this.selector=n,this.source=e,this.i=0,this.isStopped=!1}function H(t,n,e){var r=ce(n,e,3);return t.map(function(n,e){var o=r(n,e,t);return Fn(o)&&(o=Or(o)),(ue(o)||ie(o))&&(o=Pr(o)),o}).mergeAll()}function G(t,n,e){this.observer=t,this.predicate=n,this.source=e,this.i=0,this.isStopped=!1}function K(t,n,e){return new xo(function(r){var o=!1,i=null,u=[];return t.subscribe(function(t){var s,c;try{c=n(t)}catch(a){return void r.onError(a)}if(s=0,o)try{s=e(c,i)}catch(f){return void r.onError(f)}else o=!0,i=c;s>0&&(i=c,u=[]),s>=0&&u.push(t)},function(t){r.onError(t)},function(){r.onNext(u),r.onCompleted()})},t)}function J(t){if(0===t.length)throw new Qn;return t[0]}function Q(t,n,e,r){if(0>n)throw new Yn;return new xo(function(o){var i=n;return t.subscribe(function(t){0===i--&&(o.onNext(t),o.onCompleted())},function(t){o.onError(t)},function(){e?(o.onNext(r),o.onCompleted()):o.onError(new Yn)})},t)}function X(t,n,e){return new xo(function(r){var o=e,i=!1;return t.subscribe(function(t){i?r.onError(new Error("Sequence contains more than one element")):(o=t,i=!0)},function(t){r.onError(t)},function(){i||n?(r.onNext(o),r.onCompleted()):r.onError(new Qn)})},t)}function Y(t,n,e){return new xo(function(r){return t.subscribe(function(t){r.onNext(t),r.onCompleted()},function(t){r.onError(t)},function(){n?(r.onNext(e),r.onCompleted()):r.onError(new Qn)})},t)}function Z(t,n,e){return new xo(function(r){var o=e,i=!1;return t.subscribe(function(t){o=t,i=!0},function(t){r.onError(t)},function(){i||n?(r.onNext(o),r.onCompleted()):r.onError(new Qn)})},t)}function tn(t,n,e,r){var o=ce(n,e,3);return new xo(function(n){var e=0;return t.subscribe(function(i){var u;try{u=o(i,e,t)}catch(s){return void n.onError(s)}u?(n.onNext(r?e:i),n.onCompleted()):e++},function(t){n.onError(t)},function(){n.onNext(r?-1:u),n.onCompleted()})},t)}function nn(t,n){return Array.isArray(t)?en.call(n,t):sn(t)?eo(t.call(n)):cn(t)?eo(t):un(t)?rn(t):Fn(t)?on(t):typeof t===to?t:De(t)||Array.isArray(t)?en.call(n,t):t}function en(t){var n=this;return function(e){function r(t,r){if(!o)try{if(t=nn(t,n),typeof t!==to)return s[r]=t,--u||e(null,s);t.call(n,function(t,n){if(!o){if(t)return o=!0,e(t);s[r]=n,--u||e(null,s)}})}catch(i){o=!0,e(i)}}var o,i=Object.keys(t),u=i.length,s=new t.constructor;if(!u)return void sr.schedule(function(){e(null,s)});for(var c=0,a=i.length;a>c;c++)r(t[i[c]],i[c])}}function rn(t){return function(n){var e,r=!1;t.subscribe(function(t){e=t,r=!0},n,function(){r&&n(null,e)})}}function on(t){return function(n){t.then(function(t){n(null,t)},n)}}function un(t){return t&&typeof t.subscribe===to}function sn(t){return t&&t.constructor&&"GeneratorFunction"===t.constructor.name}function cn(t){return t&&typeof t.next===to&&typeof t[no]===to}function an(t){t&&sr.schedule(function(){throw t})}function fn(t,n,e){if(t.addEventListener)return t.addEventListener(n,e,!1),Ue(function(){t.removeEventListener(n,e,!1)});throw new Error("No listener found")}function ln(t,n,e){var r=new ze;if("[object NodeList]"===Object.prototype.toString.call(t))for(var o=0,i=t.length;i>o;o++)r.add(ln(t.item(o),n,e));else t&&r.add(fn(t,n,e));return r}function hn(t,n,e){return new xo(function(r){function o(t,n){a[n]=t;var o;if(u[n]=!0,s||(s=u.every(In))){if(i)return void r.onError(i);try{o=e.apply(null,a)}catch(f){return void r.onError(f)}r.onNext(o)}c&&a[1]&&r.onCompleted()}var i,u=[!1,!1],s=!1,c=!1,a=new Array(2);return new ze(t.subscribe(function(t){o(t,0)},function(t){a[1]?r.onError(t):i=t},function(){c=!0,a[1]&&r.onCompleted()}),n.subscribe(function(t){o(t,1)},function(t){r.onError(t)},function(){c=!0,o(!0,1)}))},t)}function pn(t,n){return t.groupJoin(this,n,Dr,function(t,n){return n})}function vn(t){var n=this;return new xo(function(e){var r=new So,o=new ze,i=new Qe(o);return e.onNext(Ie(r,i)),o.add(n.subscribe(function(t){r.onNext(t)},function(t){r.onError(t),e.onError(t)},function(){r.onCompleted(),e.onCompleted()})),Fn(t)&&(t=Or(t)),o.add(t.subscribe(function(){r.onCompleted(),r=new So,e.onNext(Ie(r,i))},function(t){r.onError(t),e.onError(t)},function(){r.onCompleted(),e.onCompleted()})),i},n)}function dn(t){var n=this;return new xo(function(e){function r(){var n;try{n=t()}catch(i){return void e.onError(i)}Fn(n)&&(n=Or(n));var c=new Ke;o.setDisposable(c),c.setDisposable(n.take(1).subscribe(Wn,function(t){s.onError(t),e.onError(t)},function(){s.onCompleted(),s=new So,e.onNext(Ie(s,u)),r()}))}var o=new Je,i=new ze(o),u=new Qe(i),s=new So;return e.onNext(Ie(s,u)),i.add(n.subscribe(function(t){s.onNext(t)},function(t){s.onError(t),e.onError(t)},function(){s.onCompleted(),e.onCompleted()})),r(),u},n)}function mn(t,n){return new vr(function(){return new pr(function(){return t()?{done:!1,value:n}:{done:!0,value:u}})})}function bn(t){this.patterns=t}function yn(t,n){this.expression=t,this.selector=n}function gn(t,n,e){var r=t.get(n);if(!r){var o=new wo(n,e);return t.set(n,o),o}return r}function wn(t,n,e){this.joinObserverArray=t,this.onNext=n,this.onCompleted=e,this.joinObservers=new go;for(var r=0,o=this.joinObserverArray.length;o>r;r++){var i=this.joinObserverArray[r];this.joinObservers.set(i,i)}}function _n(t,n){return new xo(function(e){return n.scheduleWithAbsolute(t,function(){e.onNext(0),e.onCompleted()})})}function En(t,n,e){return new xo(function(r){var o=t,i=Ze(n);return e.scheduleRecursiveWithAbsoluteAndState(0,o,function(t,n){if(i>0){var u=e.now();o+=i,u>=o&&(o=u+i)}r.onNext(t),n(t+1,o)})})}function xn(t,n){return new xo(function(e){return n.scheduleWithRelative(Ze(t),function(){e.onNext(0),e.onCompleted()})})}function Cn(t,n,e){return t===n?new xo(function(t){return e.schedulePeriodicWithState(0,n,function(n){return t.onNext(n),n+1})}):kr(function(){return En(e.now()+t,n,e)})}function Nn(t,n,e){return new xo(function(r){var o,i=!1,u=new Je,s=null,c=[],a=!1;return o=t.materialize().timestamp(e).subscribe(function(t){var o,f;"E"===t.value.kind?(c=[],c.push(t),s=t.value.exception,f=!a):(c.push({value:t.value,timestamp:t.timestamp+n}),f=!i,i=!0),f&&(null!==s?r.onError(s):(o=new Ke,u.setDisposable(o),o.setDisposable(e.scheduleRecursiveWithRelative(n,function(t){var n,o,u,f;if(null===s){a=!0;do u=null,c.length>0&&c[0].timestamp-e.now()<=0&&(u=c.shift().value),null!==u&&u.accept(r);while(null!==u);f=!1,o=0,c.length>0?(f=!0,o=Math.max(0,c[0].timestamp-e.now())):i=!1,n=s,a=!1,null!==n?r.onError(n):f&&t(o)}}))))}),new ze(o,u)},t)}function Sn(t,n,e){return kr(function(){return Nn(t,n-e.now(),e)})}function On(t,n){return new xo(function(e){function r(){u&&(u=!1,e.onNext(i)),o&&e.onCompleted()}var o,i,u;return new ze(t.subscribe(function(t){u=!0,i=t},e.onError.bind(e),function(){o=!0}),n.subscribe(r,e.onError.bind(e),r))},t)}var An={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},kn=An[typeof window]&&window||this,Dn=An[typeof n]&&n&&!n.nodeType&&n,jn=An[typeof t]&&t&&!t.nodeType&&t,Rn=jn&&jn.exports===Dn&&Dn,Tn=An[typeof o]&&o;!Tn||Tn.global!==Tn&&Tn.window!==Tn||(kn=Tn);var Pn={internals:{},config:{Promise:kn.Promise},helpers:{}},Wn=Pn.helpers.noop=function(){},qn=(Pn.helpers.notDefined=function(t){return"undefined"==typeof t},Pn.helpers.isScheduler=function(t){return t instanceof Pn.Scheduler}),In=Pn.helpers.identity=function(t){return t},$n=(Pn.helpers.pluck=function(t){return function(n){return n[t]}},Pn.helpers.just=function(t){return function(){return t}},Pn.helpers.defaultNow=Date.now),Mn=Pn.helpers.defaultComparer=function(t,n){return Te(t,n)},Vn=Pn.helpers.defaultSubComparer=function(t,n){return t>n?1:n>t?-1:0},zn=(Pn.helpers.defaultKeySerializer=function(t){return t.toString()},Pn.helpers.defaultError=function(t){throw t}),Fn=Pn.helpers.isPromise=function(t){return!!t&&"function"==typeof t.then},Ln=(Pn.helpers.asArray=function(){return Array.prototype.slice.call(arguments)},Pn.helpers.not=function(t){return!t}),Un=Pn.helpers.isFunction=function(){var t=function(t){return"function"==typeof t||!1};return t(/x/)&&(t=function(t){return"function"==typeof t&&"[object Function]"==_e.call(t)}),t}();Pn.config.longStackSupport=!1;var Bn=!1;try{throw new Error}catch(Hn){Bn=!!Hn.stack}var Gn,Kn=p(),Jn="From previous event:",Qn=Pn.EmptyError=function(){this.message="Sequence contains no elements.",Error.call(this)};Qn.prototype=Error.prototype;var Xn=Pn.ObjectDisposedError=function(){this.message="Object has been disposed",Error.call(this)};Xn.prototype=Error.prototype;var Yn=Pn.ArgumentOutOfRangeError=function(){this.message="Argument out of range",Error.call(this)};Yn.prototype=Error.prototype;var Zn=Pn.NotSupportedError=function(t){this.message=t||"This operation is not supported",Error.call(this)};Zn.prototype=Error.prototype;var te=Pn.NotImplementedError=function(t){this.message=t||"This operation is not implemented",Error.call(this)};te.prototype=Error.prototype;var ne=Pn.helpers.notImplemented=function(){throw new te},ee=Pn.helpers.notSupported=function(){throw new Zn},re="function"==typeof Symbol&&Symbol.iterator||"_es6shim_iterator_";kn.Set&&"function"==typeof(new kn.Set)["@@iterator"]&&(re="@@iterator");var oe=Pn.doneEnumerator={done:!0,value:u},ie=Pn.helpers.isIterable=function(t){return t[re]!==u},ue=Pn.helpers.isArrayLike=function(t){return t&&t.length!==u};Pn.helpers.iterator=re;var se,ce=Pn.internals.bindCallback=function(t,n,e){if("undefined"==typeof n)return t;switch(e){case 0:return function(){return t.call(n)};case 1:return function(e){return t.call(n,e)};case 2:return function(e,r){return t.call(n,e,r)};case 3:return function(e,r,o){return t.call(n,e,r,o)}}return function(){return t.apply(n,arguments)}},ae=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],fe=ae.length,le="[object Arguments]",he="[object Array]",pe="[object Boolean]",ve="[object Date]",de="[object Error]",me="[object Function]",be="[object Number]",ye="[object Object]",ge="[object RegExp]",we="[object String]",_e=Object.prototype.toString,Ee=Object.prototype.hasOwnProperty,xe=_e.call(arguments)==le,Ce=Error.prototype,Ne=Object.prototype,Se=String.prototype,Oe=Ne.propertyIsEnumerable;try{se=!(_e.call(document)==ye&&!({toString:0}+""))}catch(Hn){se=!0}var Ae={};Ae[he]=Ae[ve]=Ae[be]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0},Ae[pe]=Ae[we]={constructor:!0,toString:!0,valueOf:!0},Ae[de]=Ae[me]=Ae[ge]={constructor:!0,toString:!0},Ae[ye]={constructor:!0};var ke={};!function(){var t=function(){this.x=1},n=[];t.prototype={valueOf:1,y:1};for(var e in new t)n.push(e);for(e in arguments);ke.enumErrorProps=Oe.call(Ce,"message")||Oe.call(Ce,"name"),ke.enumPrototypes=Oe.call(t,"prototype"),ke.nonEnumArgs=0!=e,ke.nonEnumShadows=!/valueOf/.test(n)}(1);var De=Pn.internals.isObject=function(t){var n=typeof t;return t&&("function"==n||"object"==n)||!1},je=function(t){return t&&"object"==typeof t?_e.call(t)==le:!1};xe||(je=function(t){return t&&"object"==typeof t?Ee.call(t,"callee"):!1});var Re,Te=Pn.internals.isEqual=function(t,n){return g(t,n,[],[])},Pe=({}.hasOwnProperty,Array.prototype.slice),We=this.inherits=Pn.internals.inherits=function(t,n){function e(){this.constructor=t}e.prototype=n.prototype,t.prototype=new e},qe=Pn.internals.addProperties=function(t){for(var n=[],e=1,r=arguments.length;r>e;e++)n.push(arguments[e]);for(var o=0,i=n.length;i>o;o++){var u=n[o];for(var s in u)t[s]=u[s]}},Ie=Pn.internals.addRef=function(t,n){return new xo(function(e){return new ze(n.getDisposable(),t.subscribe(e))})},$e={e:{}};C.prototype.compareTo=function(t){var n=this.value.compareTo(t.value);return 0===n&&(n=this.id-t.id),n};var Me=Pn.internals.PriorityQueue=function(t){this.items=new Array(t),this.length=0},Ve=Me.prototype;Ve.isHigherPriority=function(t,n){return this.items[t].compareTo(this.items[n])<0},Ve.percolate=function(t){if(!(t>=this.length||0>t)){var n=t-1>>1;if(!(0>n||n===t)&&this.isHigherPriority(t,n)){var e=this.items[t];this.items[t]=this.items[n],this.items[n]=e,this.percolate(n)}}},Ve.heapify=function(t){if(+t||(t=0),!(t>=this.length||0>t)){var n=2*t+1,e=2*t+2,r=t;if(n<this.length&&this.isHigherPriority(n,r)&&(r=n),e<this.length&&this.isHigherPriority(e,r)&&(r=e),r!==t){var o=this.items[t];this.items[t]=this.items[r],this.items[r]=o,this.heapify(r)}}},Ve.peek=function(){return this.items[0].value},Ve.removeAt=function(t){this.items[t]=this.items[--this.length],this.items[this.length]=u,this.heapify()},Ve.dequeue=function(){var t=this.peek();return this.removeAt(0),t},Ve.enqueue=function(t){var n=this.length++;this.items[n]=new C(Me.count++,t),this.percolate(n)},Ve.remove=function(t){for(var n=0;n<this.length;n++)if(this.items[n].value===t)return this.removeAt(n),!0;return!1},Me.count=0;var ze=Pn.CompositeDisposable=function(){var t,n,e=[];if(Array.isArray(arguments[0]))e=arguments[0],n=e.length;else for(n=arguments.length,e=new Array(n),t=0;n>t;t++)e[t]=arguments[t];for(t=0;n>t;t++)if(!He(e[t]))throw new TypeError("Not a disposable");this.disposables=e,this.isDisposed=!1,this.length=e.length},Fe=ze.prototype;Fe.add=function(t){this.isDisposed?t.dispose():(this.disposables.push(t),this.length++)},Fe.remove=function(t){var n=!1;if(!this.isDisposed){var e=this.disposables.indexOf(t);-1!==e&&(n=!0,this.disposables.splice(e,1),this.length--,t.dispose())}return n},Fe.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;for(var t=this.disposables.length,n=new Array(t),e=0;t>e;e++)n[e]=this.disposables[e];for(this.disposables=[],this.length=0,e=0;t>e;e++)n[e].dispose()}};var Le=Pn.Disposable=function(t){this.isDisposed=!1,this.action=t||Wn};Le.prototype.dispose=function(){this.isDisposed||(this.action(),this.isDisposed=!0)};var Ue=Le.create=function(t){return new Le(t)},Be=Le.empty={dispose:Wn},He=Le.isDisposable=function(t){return t&&Un(t.dispose)},Ge=Le.checkDisposed=function(t){if(t.isDisposed)throw new Xn},Ke=Pn.SingleAssignmentDisposable=function(){function t(){this.isDisposed=!1,this.current=null}var n=t.prototype;return n.getDisposable=function(){return this.current},n.setDisposable=function(t){var n=this.isDisposed;if(!n){var e=this.current;this.current=t}e&&e.dispose(),n&&t&&t.dispose()},n.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;var t=this.current;this.current=null}t&&t.dispose()},t}(),Je=Pn.SerialDisposable=Ke,Qe=Pn.RefCountDisposable=function(){function t(t){this.disposable=t,this.disposable.count++,this.isInnerDisposed=!1}function n(t){this.underlyingDisposable=t,this.isDisposed=!1,this.isPrimaryDisposed=!1,this.count=0}return t.prototype.dispose=function(){this.disposable.isDisposed||this.isInnerDisposed||(this.isInnerDisposed=!0,this.disposable.count--,0===this.disposable.count&&this.disposable.isPrimaryDisposed&&(this.disposable.isDisposed=!0,this.disposable.underlyingDisposable.dispose()))},n.prototype.dispose=function(){this.isDisposed||this.isPrimaryDisposed||(this.isPrimaryDisposed=!0,0===this.count&&(this.isDisposed=!0,this.underlyingDisposable.dispose()))},n.prototype.getDisposable=function(){return this.isDisposed?Be:new t(this)},n}();N.prototype.dispose=function(){this.scheduler.scheduleWithState(this,S)};var Xe=Pn.internals.ScheduledItem=function(t,n,e,r,o){this.scheduler=t,this.state=n,this.action=e,this.dueTime=r,this.comparer=o||Vn,this.disposable=new Ke};Xe.prototype.invoke=function(){this.disposable.setDisposable(this.invokeCore())},Xe.prototype.compareTo=function(t){return this.comparer(this.dueTime,t.dueTime)},Xe.prototype.isCancelled=function(){return this.disposable.isDisposed},Xe.prototype.invokeCore=function(){return this.action(this.scheduler,this.state)};var Ye=Pn.Scheduler=function(){function t(t,n,e,r){this.now=t,this._schedule=n,this._scheduleRelative=e,this._scheduleAbsolute=r}function n(t,n){return n(),Be}var e=t.prototype;return e.schedule=function(t){return this._schedule(t,n)},e.scheduleWithState=function(t,n){return this._schedule(t,n)},e.scheduleWithRelative=function(t,e){return this._scheduleRelative(e,t,n)},e.scheduleWithRelativeAndState=function(t,n,e){return this._scheduleRelative(t,n,e)},e.scheduleWithAbsolute=function(t,e){return this._scheduleAbsolute(e,t,n)},e.scheduleWithAbsoluteAndState=function(t,n,e){return this._scheduleAbsolute(t,n,e)},t.now=$n,t.normalize=function(t){return 0>t&&(t=0),t},t}(),Ze=Ye.normalize;!function(t){function n(t,n){function e(n){o(n,function(n){var r=!1,o=!1,u=t.scheduleWithState(n,function(t,n){return r?i.remove(u):o=!0,e(n),Be});o||(i.add(u),r=!0)})}var r=n[0],o=n[1],i=new ze;return e(r),i}function e(t,n,e){function r(n){i(n,function(n,o){var i=!1,s=!1,c=t[e](n,o,function(t,n){return i?u.remove(c):s=!0,r(n),Be});s||(u.add(c),i=!0)})}var o=n[0],i=n[1],u=new ze;return r(o),u}function r(t,n){t(function(e){n(t,e)})}t.scheduleRecursive=function(t){return this.scheduleRecursiveWithState(t,function(t,n){t(function(){n(t)})})},t.scheduleRecursiveWithState=function(t,e){return this.scheduleWithState([t,e],n)},t.scheduleRecursiveWithRelative=function(t,n){return this.scheduleRecursiveWithRelativeAndState(n,t,r)},t.scheduleRecursiveWithRelativeAndState=function(t,n,r){return this._scheduleRelative([t,r],n,function(t,n){return e(t,n,"scheduleWithRelativeAndState")})},t.scheduleRecursiveWithAbsolute=function(t,n){return this.scheduleRecursiveWithAbsoluteAndState(n,t,r)},t.scheduleRecursiveWithAbsoluteAndState=function(t,n,r){return this._scheduleAbsolute([t,r],n,function(t,n){return e(t,n,"scheduleWithAbsoluteAndState")})}}(Ye.prototype),function(){Ye.prototype.schedulePeriodic=function(t,n){return this.schedulePeriodicWithState(null,t,n)},Ye.prototype.schedulePeriodicWithState=function(t,n,e){if("undefined"==typeof kn.setInterval)throw new Zn;n=Ze(n);var r=t,o=kn.setInterval(function(){r=e(r)},n);return Ue(function(){kn.clearInterval(o)})}}(Ye.prototype),function(t){t.catchError=t["catch"]=function(t){return new cr(this,t)}}(Ye.prototype);var tr,nr=Pn.internals.SchedulePeriodicRecursive=function(){function t(t,n){n(0,this._period);try{this._state=this._action(this._state)}catch(e){throw this._cancel.dispose(),e}}function n(t,n,e,r){this._scheduler=t,this._state=n,this._period=e,this._action=r}return n.prototype.start=function(){var n=new Ke;return this._cancel=n,n.setDisposable(this._scheduler.scheduleRecursiveWithRelativeAndState(0,this._period,t.bind(this))),n},n}(),er=Ye.immediate=function(){function t(t,n){return n(this,t)}return new Ye($n,t,ee,ee)}(),rr=Ye.currentThread=function(){function t(){for(;e.length>0;){var t=e.dequeue();!t.isCancelled()&&t.invoke()}}function n(n,r){var o=new Xe(this,n,r,this.now());if(e)e.enqueue(o);else{e=new Me(4),e.enqueue(o);var i=E(t)();if(e=null,i===$e)return x(i.e)}return o.disposable}var e,r=new Ye($n,n,ee,ee);return r.scheduleRequired=function(){return!e},r}(),or=function(){var t,n=Wn;if("WScript"in this)t=function(t,n){WScript.Sleep(n),t()};else{if(!kn.setTimeout)throw new Zn;t=kn.setTimeout,n=kn.clearTimeout}return{setTimeout:t,clearTimeout:n}}(),ir=or.setTimeout,ur=or.clearTimeout;!function(){function t(t){delete u[t]}function n(e){if(s)ir(function(){n(e)},0);else{var r=u[e];if(r){s=!0;var o=E(r)();if(t(e),s=!1,o===$e)return x(o.e)}}}function e(){if(!kn.postMessage||kn.importScripts)return!1;var t=!1,n=kn.onmessage;return kn.onmessage=function(){t=!0},kn.postMessage("","*"),kn.onmessage=n,t}function r(t){"string"==typeof t.data&&t.data.substring(0,f.length)===f&&n(t.data.substring(f.length))}var o=1,u={},s=!1,c=RegExp("^"+String(_e).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),a="function"==typeof(a=Tn&&Rn&&Tn.setImmediate)&&!c.test(a)&&a;if(Un(a))tr=function(t){var e=o++;return u[e]=t,a(function(){n(e)}),e};else if("undefined"!=typeof i&&"[object process]"==={}.toString.call(i))tr=function(t){var e=o++;return u[e]=t,i.nextTick(function(){n(e)}),e};else if(e()){var f="ms.rx.schedule"+Math.random();kn.addEventListener?kn.addEventListener("message",r,!1):kn.attachEvent("onmessage",r,!1),tr=function(t){var n=o++;return u[n]=t,kn.postMessage(f+currentId,"*"),n}}else if(kn.MessageChannel){var l=new kn.MessageChannel;l.port1.onmessage=function(t){n(t.data)},tr=function(t){var n=o++;return u[n]=t,l.port2.postMessage(n),n}}else tr="document"in kn&&"onreadystatechange"in kn.document.createElement("script")?function(t){var e=kn.document.createElement("script"),r=o++;return u[r]=t,e.onreadystatechange=function(){n(r),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},kn.document.documentElement.appendChild(e),r}:function(t){var e=o++;return u[e]=t,ir(function(){n(e)},0),e}}();var sr=Ye.timeout=Ye["default"]=function(){function t(t,n){var e=this,r=new Ke,o=tr(function(){r.isDisposed||r.setDisposable(n(e,t))});return new ze(r,Ue(function(){clearMethod(o)}))}function n(t,n,e){var r=this,o=Ye.normalize(n);if(0===o)return r.scheduleWithState(t,e);var i=new Ke,u=ir(function(){i.isDisposed||i.setDisposable(e(r,t))},o);return new ze(i,Ue(function(){ur(u)}))}function e(t,n,e){return this.scheduleWithRelativeAndState(t,n-this.now(),e)}return new Ye($n,t,n,e)}(),cr=function(t){function n(t,n){return this._scheduler.scheduleWithState(t,this._wrap(n))}function e(t,n,e){return this._scheduler.scheduleWithRelativeAndState(t,n,this._wrap(e))}function r(t,n,e){return this._scheduler.scheduleWithAbsoluteAndState(t,n,this._wrap(e))}function o(o,i){this._scheduler=o,this._handler=i,this._recursiveOriginal=null,this._recursiveWrapper=null,t.call(this,this._scheduler.now.bind(this._scheduler),n,e,r)}return We(o,t),o.prototype._clone=function(t){return new o(t,this._handler)},o.prototype._wrap=function(t){var n=this;return function(e,r){try{return t(n._getRecursiveWrapper(e),r)}catch(o){if(!n._handler(o))throw o;return Be}}},o.prototype._getRecursiveWrapper=function(t){if(this._recursiveOriginal!==t){this._recursiveOriginal=t;var n=this._clone(t);n._recursiveOriginal=t,n._recursiveWrapper=n,this._recursiveWrapper=n}return this._recursiveWrapper},o.prototype.schedulePeriodicWithState=function(t,n,e){var r=this,o=!1,i=new Ke;return i.setDisposable(this._scheduler.schedulePeriodicWithState(t,n,function(t){if(o)return null;try{return e(t)}catch(n){if(o=!0,!r._handler(n))throw n;return i.dispose(),null}})),i},o}(Ye),ar=Pn.Notification=function(){function t(t,n,e,r,o,i){this.kind=t,this.value=n,this.exception=e,this._accept=r,this._acceptObservable=o,this.toString=i}return t.prototype.accept=function(t,n,e){return t&&"object"==typeof t?this._acceptObservable(t):this._accept(t,n,e)},t.prototype.toObservable=function(t){var n=this;return qn(t)||(t=er),new xo(function(e){return t.scheduleWithState(n,function(t,n){n._acceptObservable(e),"N"===n.kind&&e.onCompleted()})})},t}(),fr=ar.createOnNext=function(){function t(t){return t(this.value)}function n(t){return t.onNext(this.value)}function e(){return"OnNext("+this.value+")"}return function(r){return new ar("N",r,null,t,n,e)}}(),lr=ar.createOnError=function(){function t(t,n){return n(this.exception)}function n(t){return t.onError(this.exception)}function e(){return"OnError("+this.exception+")"}return function(r){return new ar("E",null,r,t,n,e)}}(),hr=ar.createOnCompleted=function(){function t(t,n,e){return e()}function n(t){return t.onCompleted()}function e(){return"OnCompleted()"}return function(){return new ar("C",null,null,t,n,e)}}(),pr=Pn.internals.Enumerator=function(t){this._next=t};pr.prototype.next=function(){return this._next()},pr.prototype[re]=function(){return this};var vr=Pn.internals.Enumerable=function(t){this._iterator=t};vr.prototype[re]=function(){return this._iterator()},vr.prototype.concat=function(){var t=this;return new xo(function(n){var e,r=t[re](),o=new Je,i=er.scheduleRecursive(function(t){if(!e){try{var i=r.next()}catch(u){return n.onError(u)}if(i.done)return n.onCompleted();var s=i.value;Fn(s)&&(s=Or(s));var c=new Ke;o.setDisposable(c),c.setDisposable(s.subscribe(function(t){n.onNext(t)},function(t){n.onError(t)},t))}});return new ze(o,i,Ue(function(){e=!0}))})},vr.prototype.catchError=function(){var t=this;return new xo(function(n){var e,r=t[re](),o=new Je,i=er.scheduleRecursiveWithState(null,function(t,i){if(!e){try{var u=r.next()}catch(s){return observer.onError(s)}if(u.done)return void(null!==t?n.onError(t):n.onCompleted());var c=u.value;Fn(c)&&(c=Or(c));var a=new Ke;o.setDisposable(a),a.setDisposable(c.subscribe(function(t){n.onNext(t)},i,function(){n.onCompleted()}))}});return new ze(o,i,Ue(function(){e=!0}))})},vr.prototype.catchErrorWhen=function(t){var n=this;return new xo(function(e){var r,o,i=new So,u=new So,s=t(i),c=s.subscribe(u),a=n[re](),f=new Je,l=er.scheduleRecursive(function(t){if(!r){try{var n=a.next()}catch(s){return e.onError(s)}if(n.done)return void(o?e.onError(o):e.onCompleted());var c=n.value;Fn(c)&&(c=Or(c));var l=new Ke,h=new Ke;f.setDisposable(new ze(h,l)),l.setDisposable(c.subscribe(function(t){e.onNext(t)},function(n){h.setDisposable(u.subscribe(t,function(t){e.onError(t)},function(){e.onCompleted()})),i.onNext(n)},function(){e.onCompleted()}))}});return new ze(c,f,l,Ue(function(){r=!0}))})};var dr=vr.repeat=function(t,n){return null==n&&(n=-1),new vr(function(){var e=n;return new pr(function(){return 0===e?oe:(e>0&&e--,{done:!1,value:t})})})},mr=vr.of=function(t,n,e){if(n)var r=ce(n,e,3);return new vr(function(){var e=-1;return new pr(function(){return++e<t.length?{done:!1,value:n?r(t[e],e,t):t[e]}:oe})})},br=Pn.Observer=function(){};br.prototype.toNotifier=function(){var t=this;return function(n){return n.accept(t)}},br.prototype.asObserver=function(){return new _r(this.onNext.bind(this),this.onError.bind(this),this.onCompleted.bind(this))},br.prototype.checked=function(){return new Er(this)};var yr=br.create=function(t,n,e){return t||(t=Wn),n||(n=zn),e||(e=Wn),new _r(t,n,e)};br.fromNotifier=function(t,n){return new _r(function(e){return t.call(n,fr(e))},function(e){return t.call(n,lr(e))},function(){return t.call(n,hr())})},br.prototype.notifyOn=function(t){return new Cr(t,this)},br.prototype.makeSafe=function(t){return new AnonymousSafeObserver(this._onNext,this._onError,this._onCompleted,t)};var gr,wr=Pn.internals.AbstractObserver=function(t){function n(){this.isStopped=!1,t.call(this)}return We(n,t),n.prototype.next=ne,n.prototype.error=ne,n.prototype.completed=ne,n.prototype.onNext=function(t){this.isStopped||this.next(t)
},n.prototype.onError=function(t){this.isStopped||(this.isStopped=!0,this.error(t))},n.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.completed())},n.prototype.dispose=function(){this.isStopped=!0},n.prototype.fail=function(t){return this.isStopped?!1:(this.isStopped=!0,this.error(t),!0)},n}(br),_r=Pn.AnonymousObserver=function(t){function n(n,e,r){t.call(this),this._onNext=n,this._onError=e,this._onCompleted=r}return We(n,t),n.prototype.next=function(t){this._onNext(t)},n.prototype.error=function(t){this._onError(t)},n.prototype.completed=function(){this._onCompleted()},n}(wr),Er=function(t){function n(n){t.call(this),this._observer=n,this._state=0}We(n,t);var e=n.prototype;return e.onNext=function(t){this.checkAccess();var n=E(this._observer.onNext).call(this._observer,t);this._state=0,n===$e&&x(n.e)},e.onError=function(t){this.checkAccess();var n=E(this._observer.onError).call(this._observer,t);this._state=2,n===$e&&x(n.e)},e.onCompleted=function(){this.checkAccess();var t=E(this._observer.onCompleted).call(this._observer);this._state=2,t===$e&&x(t.e)},e.checkAccess=function(){if(1===this._state)throw new Error("Re-entrancy detected");if(2===this._state)throw new Error("Observer completed");0===this._state&&(this._state=1)},n}(br),xr=Pn.internals.ScheduledObserver=function(t){function n(n,e){t.call(this),this.scheduler=n,this.observer=e,this.isAcquired=!1,this.hasFaulted=!1,this.queue=[],this.disposable=new Je}return We(n,t),n.prototype.next=function(t){var n=this;this.queue.push(function(){n.observer.onNext(t)})},n.prototype.error=function(t){var n=this;this.queue.push(function(){n.observer.onError(t)})},n.prototype.completed=function(){var t=this;this.queue.push(function(){t.observer.onCompleted()})},n.prototype.ensureActive=function(){var t=!1,n=this;!this.hasFaulted&&this.queue.length>0&&(t=!this.isAcquired,this.isAcquired=!0),t&&this.disposable.setDisposable(this.scheduler.scheduleRecursive(function(t){var e;if(!(n.queue.length>0))return void(n.isAcquired=!1);e=n.queue.shift();try{e()}catch(r){throw n.queue=[],n.hasFaulted=!0,r}t()}))},n.prototype.dispose=function(){t.prototype.dispose.call(this),this.disposable.dispose()},n}(wr),Cr=function(t){function n(n,e,r){t.call(this,n,e),this._cancel=r}return We(n,t),n.prototype.next=function(n){t.prototype.next.call(this,n),this.ensureActive()},n.prototype.error=function(n){t.prototype.error.call(this,n),this.ensureActive()},n.prototype.completed=function(){t.prototype.completed.call(this),this.ensureActive()},n.prototype.dispose=function(){t.prototype.dispose.call(this),this._cancel&&this._cancel.dispose(),this._cancel=null},n}(xr),Nr=Pn.Observable=function(){function t(t){if(Pn.config.longStackSupport&&Bn){try{throw new Error}catch(n){this.stack=n.stack.substring(n.stack.indexOf("\n")+1)}var e=this;this._subscribe=function(n){var r=n.onError.bind(n);return n.onError=function(t){a(t,e),r(t)},t.call(e,n)}}else this._subscribe=t}return gr=t.prototype,gr.subscribe=gr.forEach=function(t,n,e){return this._subscribe("object"==typeof t?t:yr(t,n,e))},gr.subscribeOnNext=function(t,n){return this._subscribe(yr("undefined"!=typeof n?function(e){t.call(n,e)}:t))},gr.subscribeOnError=function(t,n){return this._subscribe(yr(null,"undefined"!=typeof n?function(e){t.call(n,e)}:t))},gr.subscribeOnCompleted=function(t,n){return this._subscribe(yr(null,null,"undefined"!=typeof n?function(){t.call(n)}:t))},t}(),Sr=Pn.ObservableBase=function(t){function n(t){return t&&Un(t.dispose)?t:Un(t)?Ue(t):Be}function e(t,e){var r=e[0],o=e[1],i=E(o.subscribeCore).call(o,r);return i!==$e||r.fail($e.e)?void r.setDisposable(n(i)):x($e.e)}function r(t){var n=new Co(t),r=[n,this];return rr.scheduleRequired()?rr.scheduleWithState(r,e):e(null,r),n}function o(){t.call(this,r)}return We(o,t),o.prototype.subscribeCore=ne,o}(Nr);gr.observeOn=function(t){var n=this;return new xo(function(e){return n.subscribe(new Cr(t,e))},n)},gr.subscribeOn=function(t){var n=this;return new xo(function(e){var r=new Ke,o=new Je;return o.setDisposable(r),r.setDisposable(t.schedule(function(){o.setDisposable(new N(t,n.subscribe(e)))})),o},n)};var Or=Nr.fromPromise=function(t){return kr(function(){var n=new Pn.AsyncSubject;return t.then(function(t){n.onNext(t),n.onCompleted()},n.onError.bind(n)),n})};gr.toPromise=function(t){if(t||(t=Pn.config.Promise),!t)throw new Zn("Promise type not provided nor in Rx.config.Promise");var n=this;return new t(function(t,e){var r,o=!1;n.subscribe(function(t){r=t,o=!0},e,function(){o&&t(r)})})};var Ar=function(t){function n(n){this.source=n,t.call(this)}return We(n,t),n.prototype.subscribeCore=function(t){return this.source.subscribe(new O(t))},n}(Sr);O.prototype.onNext=function(t){this.isStopped||this.a.push(t)},O.prototype.onError=function(t){this.isStopped||(this.isStopped=!0,this.observer.onError(t))},O.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.observer.onNext(this.a),this.observer.onCompleted())},O.prototype.dispose=function(){this.isStopped=!0},O.prototype.fail=function(t){return this.isStopped?!1:(this.isStopped=!0,this.observer.onError(t),!0)},gr.toArray=function(){return new Ar(this)},Nr.create=Nr.createWithDisposable=function(t,n){return new xo(t,n)};var kr=Nr.defer=function(t){return new xo(function(n){var e;try{e=t()}catch(r){return zr(r).subscribe(n)}return Fn(e)&&(e=Or(e)),e.subscribe(n)})},Dr=Nr.empty=function(t){return qn(t)||(t=er),new xo(function(n){return t.schedule(function(){n.onCompleted()})})},jr=function(t){function n(n,e,r){this.iterable=n,this.mapper=e,this.scheduler=r,t.call(this)}return We(n,t),n.prototype.subscribeCore=function(t){var n=new Rr(t,this);return n.run()},n}(Sr),Rr=function(){function t(t,n){this.observer=t,this.parent=n}return t.prototype.run=function(){function t(t,n){try{var i=e.next()}catch(u){return r.onError(u)}if(i.done)return r.onCompleted();var s=i.value;if(o)try{s=o(s,t)}catch(u){return r.onError(u)}r.onNext(s),n(t+1)}var n=Object(this.parent.iterable),e=T(n),r=this.observer,o=this.parent.mapper;return this.parent.scheduler.scheduleRecursiveWithState(0,t)},t}(),Tr=Math.pow(2,53)-1;A.prototype[re]=function(){return new k(this._s)},k.prototype[re]=function(){return this},k.prototype.next=function(){return this._i<this._l?{done:!1,value:this._s.charAt(this._i++)}:oe},D.prototype[re]=function(){return new j(this._a)},j.prototype[re]=function(){return this},j.prototype.next=function(){return this._i<this._l?{done:!1,value:this._a[this._i++]}:oe};var Pr=Nr.from=function(t,n,e,r){if(null==t)throw new Error("iterable cannot be null.");if(n&&!Un(n))throw new Error("mapFn when provided must be a function");if(n)var o=ce(n,e,2);return qn(r)||(r=rr),new jr(t,o,r)},Wr=function(t){function n(n,e){this.args=n,this.scheduler=e,t.call(this)}return We(n,t),n.prototype.subscribeCore=function(t){var n=new q(t,this);return n.run()},n}(Sr);q.prototype.run=function(){function t(t,o){r>t?(n.onNext(e[t]),o(t+1)):n.onCompleted()}var n=this.observer,e=this.parent.args,r=e.length;return this.parent.scheduler.scheduleRecursiveWithState(0,t)};var qr=Nr.fromArray=function(t,n){return qn(n)||(n=rr),new Wr(t,n)};Nr.generate=function(t,n,e,r,o){return qn(o)||(o=rr),new xo(function(i){var u=!0,s=t;return o.scheduleRecursive(function(t){var o,c;try{u?u=!1:s=e(s),o=n(s),o&&(c=r(s))}catch(a){return void i.onError(a)}o?(i.onNext(c),t()):i.onCompleted()})})},Nr.of=function(){for(var t=arguments.length,n=new Array(t),e=0;t>e;e++)n[e]=arguments[e];return new Wr(n,rr)},Nr.ofWithScheduler=function(t){for(var n=arguments.length,e=new Array(n-1),r=1;n>r;r++)e[r-1]=arguments[r];return new Wr(e,t)},Nr.ofArrayChanges=function(t){if(!Array.isArray(t))throw new TypeError("Array.observe only accepts arrays.");if("function"!=typeof Array.observe&&"function"!=typeof Array.unobserve)throw new TypeError("Array.observe is not supported on your platform");return new xo(function(n){function e(t){for(var e=0,r=t.length;r>e;e++)n.onNext(t[e])}return Array.observe(t,e),function(){Array.unobserve(t,e)}})},Nr.ofObjectChanges=function(t){if(null==t)throw new TypeError("object must not be null or undefined.");if("function"!=typeof Object.observe&&"function"!=typeof Object.unobserve)throw new TypeError("Array.observe is not supported on your platform");return new xo(function(n){function e(t){for(var e=0,r=t.length;r>e;e++)n.onNext(t[e])}return Object.observe(t,e),function(){Object.unobserve(t,e)}})};var Ir=Nr.never=function(){return new xo(function(){return Be})};Nr.pairs=function(t,n){return n||(n=Pn.Scheduler.currentThread),new xo(function(e){var r=Object.keys(t),o=r.length;return n.scheduleRecursiveWithState(0,function(n,i){if(o>n){var u=r[n];e.onNext([u,t[u]]),i(n+1)}else e.onCompleted()})})};var $r=function(t){function n(n,e,r){this.start=n,this.count=e,this.scheduler=r,t.call(this)}return We(n,t),n.prototype.subscribeCore=function(t){var n=new Mr(t,this);return n.run()},n}(Sr),Mr=function(){function t(t,n){this.observer=t,this.parent=n}return t.prototype.run=function(){function t(t,o){e>t?(r.onNext(n+t),o(t+1)):r.onCompleted()}var n=this.parent.start,e=this.parent.count,r=this.observer;return this.parent.scheduler.scheduleRecursiveWithState(0,t)},t}();Nr.range=function(t,n,e){return qn(e)||(e=rr),new $r(t,n,e)},Nr.repeat=function(t,n,e){return qn(e)||(e=rr),Vr(t,e).repeat(null==n?-1:n)};var Vr=Nr["return"]=Nr.just=function(t,n){return qn(n)||(n=er),new xo(function(e){return n.schedule(function(){e.onNext(t),e.onCompleted()})})};Nr.returnValue=function(){return Vr.apply(null,arguments)};var zr=Nr["throw"]=Nr.throwError=function(t,n){return qn(n)||(n=er),new xo(function(e){return n.schedule(function(){e.onError(t)})})};Nr.throwException=function(){return Nr.throwError.apply(null,arguments)},Nr.using=function(t,n){return new xo(function(e){var r,o,i=Be;try{r=t(),r&&(i=r),o=n(r)}catch(u){return new ze(zr(u).subscribe(e),i)}return new ze(o.subscribe(e),i)})},gr.amb=function(t){var n=this;return new xo(function(e){function r(){i||(i=u,a.dispose())}function o(){i||(i=s,c.dispose())}var i,u="L",s="R",c=new Ke,a=new Ke;return Fn(t)&&(t=Or(t)),c.setDisposable(n.subscribe(function(t){r(),i===u&&e.onNext(t)},function(t){r(),i===u&&e.onError(t)},function(){r(),i===u&&e.onCompleted()})),a.setDisposable(t.subscribe(function(t){o(),i===s&&e.onNext(t)},function(t){o(),i===s&&e.onError(t)},function(){o(),i===s&&e.onCompleted()})),new ze(c,a)})},Nr.amb=function(){function t(t,n){return t.amb(n)}var n=Ir(),e=[];if(Array.isArray(arguments[0]))e=arguments[0];else for(var r=0,o=arguments.length;o>r;r++)e.push(arguments[r]);for(var r=0,o=e.length;o>r;r++)n=t(n,e[r]);return n},gr["catch"]=gr.catchError=gr.catchException=function(t){return"function"==typeof t?$(this,t):Fr([this,t])};var Fr=Nr.catchError=Nr["catch"]=Nr.catchException=function(){var t=[];if(Array.isArray(arguments[0]))t=arguments[0];else for(var n=0,e=arguments.length;e>n;n++)t.push(arguments[n]);return mr(t).catchError()};gr.combineLatest=function(){for(var t=arguments.length,n=new Array(t),e=0;t>e;e++)n[e]=arguments[e];return Array.isArray(n[0])?n[0].unshift(this):n.unshift(this),Lr.apply(this,n)};var Lr=Nr.combineLatest=function(){for(var t=arguments.length,n=new Array(t),e=0;t>e;e++)n[e]=arguments[e];var r=n.pop();return Array.isArray(n[0])&&(n=n[0]),new xo(function(t){function e(n){if(s[n]=!0,c||(c=s.every(In))){try{var e=r.apply(null,f)}catch(o){return t.onError(o)}t.onNext(e)}else a.filter(function(t,e){return e!==n}).every(In)&&t.onCompleted()}function o(n){a[n]=!0,a.every(In)&&t.onCompleted()}for(var i=n.length,u=function(){return!1},s=w(i,u),c=!1,a=w(i,u),f=new Array(i),l=new Array(i),h=0;i>h;h++)!function(r){var i=n[r],u=new Ke;Fn(i)&&(i=Or(i)),u.setDisposable(i.subscribe(function(t){f[r]=t,e(r)},function(n){t.onError(n)},function(){o(r)})),l[r]=u}(h);return new ze(l)},this)};gr.concat=function(){for(var t=[],n=0,e=arguments.length;e>n;n++)t.push(arguments[n]);return t.unshift(this),Ur.apply(null,t)};var Ur=Nr.concat=function(){var t;if(Array.isArray(arguments[0]))t=arguments[0];else{t=new Array(arguments.length);for(var n=0,e=arguments.length;e>n;n++)t[n]=arguments[n]}return mr(t).concat()};gr.concatAll=gr.concatObservable=function(){return this.merge(1)};var Br=function(t){function n(n,e){this.source=n,this.maxConcurrent=e,t.call(this)}return We(n,t),n.prototype.subscribeCore=function(t){var n=new ze;return n.add(this.source.subscribe(new Hr(t,this.maxConcurrent,n))),n},n}(Sr),Hr=function(){function t(t,n,e){this.o=t,this.max=n,this.g=e,this.done=!1,this.q=[],this.activeCount=0,this.isStopped=!1}function n(t,n){this.parent=t,this.sad=n,this.isStopped=!1}return t.prototype.handleSubscribe=function(t){var e=new Ke;this.g.add(e),Fn(t)&&(t=Or(t)),e.setDisposable(t.subscribe(new n(this,e)))},t.prototype.onNext=function(t){this.isStopped||(this.activeCount<this.max?(this.activeCount++,this.handleSubscribe(t)):this.q.push(t))},t.prototype.onError=function(t){this.isStopped||(this.isStopped=!0,this.o.onError(t))},t.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.done=!0,0===this.activeCount&&this.o.onCompleted())},t.prototype.dispose=function(){this.isStopped=!0},t.prototype.fail=function(t){return this.isStopped?!1:(this.isStopped=!0,this.o.onError(t),!0)},n.prototype.onNext=function(t){this.isStopped||this.parent.o.onNext(t)},n.prototype.onError=function(t){this.isStopped||(this.isStopped=!0,this.parent.o.onError(t))},n.prototype.onCompleted=function(){if(!this.isStopped){this.isStopped=!0;var t=this.parent;t.g.remove(this.sad),t.q.length>0?t.handleSubscribe(t.q.shift()):(t.activeCount--,t.done&&0===t.activeCount&&t.o.onCompleted())}},n.prototype.dispose=function(){this.isStopped=!0},n.prototype.fail=function(t){return this.isStopped?!1:(this.isStopped=!0,this.parent.o.onError(t),!0)},t}();gr.merge=function(t){return"number"!=typeof t?Gr(this,t):new Br(this,t)};var Gr=Nr.merge=function(){var t,n,e=[],r=arguments.length;if(arguments[0])if(qn(arguments[0]))for(t=arguments[0],n=1;r>n;n++)e.push(arguments[n]);else for(t=er,n=0;r>n;n++)e.push(arguments[n]);else for(t=er,n=1;r>n;n++)e.push(arguments[n]);return Array.isArray(e[0])&&(e=e[0]),I(t,e).mergeAll()},Kr=function(t){function n(n){this.source=n,t.call(this)}return We(n,t),n.prototype.subscribeCore=function(t){var n=new ze,e=new Ke;return n.add(e),e.setDisposable(this.source.subscribe(new Jr(t,n))),n},n}(Sr),Jr=function(){function t(t,n){this.o=t,this.g=n,this.isStopped=!1,this.done=!1}function n(t,n,e){this.parent=t,this.g=n,this.sad=e,this.isStopped=!1}return t.prototype.onNext=function(t){if(!this.isStopped){var e=new Ke;this.g.add(e),Fn(t)&&(t=Or(t)),e.setDisposable(t.subscribe(new n(this,this.g,e)))}},t.prototype.onError=function(t){this.isStopped||(this.isStopped=!0,this.o.onError(t))},t.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.done=!0,1===this.g.length&&this.o.onCompleted())},t.prototype.dispose=function(){this.isStopped=!0},t.prototype.fail=function(t){return this.isStopped?!1:(this.isStopped=!0,this.o.onError(t),!0)},n.prototype.onNext=function(t){this.isStopped||this.parent.o.onNext(t)},n.prototype.onError=function(t){this.isStopped||(this.isStopped=!0,this.parent.o.onError(t))},n.prototype.onCompleted=function(){if(!this.isStopped){var t=this.parent;this.isStopped=!0,t.g.remove(this.sad),t.done&&1===t.g.length&&t.o.onCompleted()}},n.prototype.dispose=function(){this.isStopped=!0},n.prototype.fail=function(t){return this.isStopped?!1:(this.isStopped=!0,this.parent.o.onError(t),!0)},t}();gr.mergeAll=gr.mergeObservable=function(){return new Kr(this)};var Qr=Pn.CompositeError=function(t){this.name="NotImplementedError",this.innerErrors=t,this.message="This contains multiple errors. Check the innerErrors",Error.call(this)};Qr.prototype=Error.prototype,Nr.mergeDelayError=function(){var t;if(Array.isArray(arguments[0]))t=arguments[0];else{var n=arguments.length;t=new Array(n);for(var e=0;n>e;e++)t[e]=arguments[e]}var r=I(null,t);return new xo(function(t){function n(){0===u.length?t.onCompleted():t.onError(1===u.length?u[0]:new Qr(u))}var e=new ze,o=new Ke,i=!1,u=[];return e.add(o),o.setDisposable(r.subscribe(function(r){var o=new Ke;e.add(o),Fn(r)&&(r=Or(r)),o.setDisposable(r.subscribe(function(n){t.onNext(n)},function(t){u.push(t),e.remove(o),i&&1===e.length&&n()},function(){e.remove(o),i&&1===e.length&&n()}))},function(t){u.push(t),i=!0,1===e.length&&n()},function(){i=!0,1===e.length&&n()})),e})},gr.onErrorResumeNext=function(t){if(!t)throw new Error("Second observable is required");return Xr([this,t])};var Xr=Nr.onErrorResumeNext=function(){var t=[];if(Array.isArray(arguments[0]))t=arguments[0];else for(var n=0,e=arguments.length;e>n;n++)t.push(arguments[n]);return new xo(function(n){var e=0,r=new Je,o=er.scheduleRecursive(function(o){var i,u;e<t.length?(i=t[e++],Fn(i)&&(i=Or(i)),u=new Ke,r.setDisposable(u),u.setDisposable(i.subscribe(n.onNext.bind(n),o,o))):n.onCompleted()});return new ze(r,o)})};gr.skipUntil=function(t){var n=this;return new xo(function(e){var r=!1,o=new ze(n.subscribe(function(t){r&&e.onNext(t)},function(t){e.onError(t)},function(){r&&e.onCompleted()}));Fn(t)&&(t=Or(t));var i=new Ke;return o.add(i),i.setDisposable(t.subscribe(function(){r=!0,i.dispose()},function(t){e.onError(t)},function(){i.dispose()})),o},n)},gr["switch"]=gr.switchLatest=function(){var t=this;return new xo(function(n){var e=!1,r=new Je,o=!1,i=0,u=t.subscribe(function(t){var u=new Ke,s=++i;e=!0,r.setDisposable(u),Fn(t)&&(t=Or(t)),u.setDisposable(t.subscribe(function(t){i===s&&n.onNext(t)},function(t){i===s&&n.onError(t)},function(){i===s&&(e=!1,o&&n.onCompleted())}))},function(t){n.onError(t)},function(){o=!0,!e&&n.onCompleted()});return new ze(u,r)},t)},gr.takeUntil=function(t){var n=this;return new xo(function(e){return Fn(t)&&(t=Or(t)),new ze(n.subscribe(e),t.subscribe(function(){e.onCompleted()},function(t){e.onError(t)},Wn))},n)},gr.withLatestFrom=function(){for(var t=arguments.length,n=new Array(t),e=0;t>e;e++)n[e]=arguments[e];var r=n.pop(),o=this;if("undefined"==typeof o)throw new Error("Source observable not found for withLatestFrom().");if("function"!=typeof r)throw new Error("withLatestFrom() expects a resultSelector function.");return Array.isArray(n[0])&&(n=n[0]),new xo(function(t){for(var e=function(){return!1},i=n.length,u=w(i,e),s=!1,c=new Array(i),a=new Array(i+1),f=0;i>f;f++)!function(e){var r=n[e],o=new Ke;Fn(r)&&(r=Or(r)),o.setDisposable(r.subscribe(function(t){c[e]=t,u[e]=!0,s=u.every(In)},t.onError.bind(t),function(){})),a[e]=o}(f);var l=new Ke;return l.setDisposable(o.subscribe(function(n){var e,o=[n].concat(c);if(s){try{e=r.apply(null,o)}catch(i){return void t.onError(i)}t.onNext(e)}},t.onError.bind(t),function(){t.onCompleted()})),a[i]=l,new ze(a)},this)},gr.zip=function(){if(Array.isArray(arguments[0]))return M.apply(this,arguments);for(var t=arguments.length,n=new Array(t),e=0;t>e;e++)n[e]=arguments[e];var r=this,o=n.pop();return n.unshift(r),new xo(function(t){function e(n){var e,i;if(s.every(function(t){return t.length>0})){try{i=s.map(function(t){return t.shift()}),e=o.apply(r,i)}catch(u){return void t.onError(u)}t.onNext(e)}else c.filter(function(t,e){return e!==n}).every(In)&&t.onCompleted()}function i(n){c[n]=!0,c.every(function(t){return t})&&t.onCompleted()}for(var u=n.length,s=w(u,z),c=w(u,V),a=new Array(u),f=0;u>f;f++)!function(r){var o=n[r],u=new Ke;Fn(o)&&(o=Or(o)),u.setDisposable(o.subscribe(function(t){s[r].push(t),e(r)},function(n){t.onError(n)},function(){i(r)})),a[r]=u}(f);return new ze(a)},r)},Nr.zip=function(){for(var t=arguments.length,n=new Array(t),e=0;t>e;e++)n[e]=arguments[e];var r=n.shift();return r.zip.apply(r,n)},Nr.zipArray=function(){var t;if(Array.isArray(arguments[0]))t=arguments[0];else{var n=arguments.length;t=new Array(n);for(var e=0;n>e;e++)t[e]=arguments[e]}return new xo(function(n){function e(t){if(i.every(function(t){return t.length>0})){var e=i.map(function(t){return t.shift()});n.onNext(e)}else if(u.filter(function(n,e){return e!==t}).every(In))return void n.onCompleted()}function r(t){return u[t]=!0,u.every(In)?void n.onCompleted():void 0}for(var o=t.length,i=w(o,function(){return[]}),u=w(o,function(){return!1}),s=new Array(o),c=0;o>c;c++)!function(o){s[o]=new Ke,s[o].setDisposable(t[o].subscribe(function(t){i[o].push(t),e(o)},function(t){n.onError(t)},function(){r(o)}))}(c);return new ze(s)})},gr.asObservable=function(){var t=this;return new xo(function(n){return t.subscribe(n)},this)},gr.bufferWithCount=function(t,n){return"number"!=typeof n&&(n=t),this.windowWithCount(t,n).selectMany(function(t){return t.toArray()}).where(function(t){return t.length>0})},gr.dematerialize=function(){var t=this;return new xo(function(n){return t.subscribe(function(t){return t.accept(n)},function(t){n.onError(t)},function(){n.onCompleted()})},this)},gr.distinctUntilChanged=function(t,n){var e=this;return n||(n=Mn),new xo(function(r){var o,i=!1;return e.subscribe(function(e){var u=e;if(t)try{u=t(e)}catch(s){return void r.onError(s)}if(i)try{var c=n(o,u)}catch(s){return void r.onError(s)}i&&c||(i=!0,o=u,r.onNext(e))},function(t){r.onError(t)},function(){r.onCompleted()})},this)},gr["do"]=gr.tap=gr.doAction=function(t,n,e){var r=this,o="function"==typeof t||"undefined"==typeof t?yr(t||Wn,n||Wn,e||Wn):t;return new xo(function(t){return r.subscribe(function(n){try{o.onNext(n)}catch(e){t.onError(e)}t.onNext(n)},function(n){try{o.onError(n)}catch(e){t.onError(e)}t.onError(n)},function(){try{o.onCompleted()}catch(n){t.onError(n)}t.onCompleted()})},this)},gr.doOnNext=gr.tapOnNext=function(t,n){return this.tap("undefined"!=typeof n?function(e){t.call(n,e)}:t)},gr.doOnError=gr.tapOnError=function(t,n){return this.tap(Wn,"undefined"!=typeof n?function(e){t.call(n,e)}:t)},gr.doOnCompleted=gr.tapOnCompleted=function(t,n){return this.tap(Wn,null,"undefined"!=typeof n?function(){t.call(n)}:t)},gr["finally"]=gr.ensure=function(t){var n=this;return new xo(function(e){var r;try{r=n.subscribe(e)}catch(o){throw t(),o}return Ue(function(){try{r.dispose()}catch(n){throw n}finally{t()}})},this)},gr.finallyAction=function(t){return this.ensure(t)},gr.ignoreElements=function(){var t=this;return new xo(function(n){return t.subscribe(Wn,function(t){n.onError(t)},function(){n.onCompleted()})},t)},gr.materialize=function(){var t=this;return new xo(function(n){return t.subscribe(function(t){n.onNext(fr(t))},function(t){n.onNext(lr(t)),n.onCompleted()},function(){n.onNext(hr()),n.onCompleted()})},t)},gr.repeat=function(t){return dr(this,t).concat()},gr.retry=function(t){return dr(this,t).catchError()},gr.retryWhen=function(t){return dr(this).catchErrorWhen(t)},gr.scan=function(){var t,n,e=!1,r=this;return 2===arguments.length?(e=!0,t=arguments[0],n=arguments[1]):n=arguments[0],new xo(function(o){var i,u,s;return r.subscribe(function(r){!s&&(s=!0);try{i?u=n(u,r):(u=e?n(t,r):r,i=!0)}catch(c){return void o.onError(c)}o.onNext(u)},function(t){o.onError(t)},function(){!s&&e&&o.onNext(t),o.onCompleted()})},r)},gr.skipLast=function(t){if(0>t)throw new Yn;var n=this;return new xo(function(e){var r=[];return n.subscribe(function(n){r.push(n),r.length>t&&e.onNext(r.shift())},function(t){e.onError(t)},function(){e.onCompleted()})},n)},gr.startWith=function(){var t,n=0;arguments.length&&qn(arguments[0])?(t=arguments[0],n=1):t=er;for(var e=[],r=n,o=arguments.length;o>r;r++)e.push(arguments[r]);return mr([qr(e,t),this]).concat()},gr.takeLast=function(t){if(0>t)throw new Yn;var n=this;return new xo(function(e){var r=[];return n.subscribe(function(n){r.push(n),r.length>t&&r.shift()},function(t){e.onError(t)},function(){for(;r.length>0;)e.onNext(r.shift());e.onCompleted()})},n)},gr.takeLastBuffer=function(t){var n=this;return new xo(function(e){var r=[];return n.subscribe(function(n){r.push(n),r.length>t&&r.shift()},function(t){e.onError(t)},function(){e.onNext(r),e.onCompleted()})},n)},gr.windowWithCount=function(t,n){var e=this;if(+t||(t=0),1/0===Math.abs(t)&&(t=0),0>=t)throw new Yn;if(null==n&&(n=t),+n||(n=0),1/0===Math.abs(n)&&(n=0),0>=n)throw new Yn;return new xo(function(r){function o(){var t=new So;c.push(t),r.onNext(Ie(t,u))}var i=new Ke,u=new Qe(i),s=0,c=[];return o(),i.setDisposable(e.subscribe(function(e){for(var r=0,i=c.length;i>r;r++)c[r].onNext(e);var u=s-t+1;u>=0&&u%n===0&&c.shift().onCompleted(),++s%n===0&&o()},function(t){for(;c.length>0;)c.shift().onError(t);r.onError(t)},function(){for(;c.length>0;)c.shift().onCompleted();r.onCompleted()})),u},e)},gr.selectConcat=gr.concatMap=function(t,n,e){return Un(t)&&Un(n)?this.concatMap(function(e,r){var o=t(e,r);return Fn(o)&&(o=Or(o)),(ue(o)||ie(o))&&(o=Pr(o)),o.map(function(t,o){return n(e,t,r,o)})}):Un(t)?F(this,t,e):F(this,function(){return t})},gr.concatMapObserver=gr.selectConcatObserver=function(t,n,e,r){var o=this,i=ce(t,r,2),u=ce(n,r,1),s=ce(e,r,0);return new xo(function(t){var n=0;return o.subscribe(function(e){var r;try{r=i(e,n++)}catch(o){return void t.onError(o)}Fn(r)&&(r=Or(r)),t.onNext(r)},function(n){var e;try{e=u(n)}catch(r){return void t.onError(r)}Fn(e)&&(e=Or(e)),t.onNext(e),t.onCompleted()},function(){var n;try{n=s()}catch(e){return void t.onError(e)}Fn(n)&&(n=Or(n)),t.onNext(n),t.onCompleted()})},this).concatAll()},gr.defaultIfEmpty=function(t){var n=this;return t===u&&(t=null),new xo(function(e){var r=!1;return n.subscribe(function(t){r=!0,e.onNext(t)},function(t){e.onError(t)},function(){!r&&e.onNext(t),e.onCompleted()})},n)},U.prototype.push=function(t){var n=-1===L(this.set,t,this.comparer);return n&&this.set.push(t),n},gr.distinct=function(t,n){var e=this;return n||(n=Mn),new xo(function(r){var o=new U(n);return e.subscribe(function(n){var e=n;if(t)try{e=t(n)}catch(i){return void r.onError(i)}o.push(e)&&r.onNext(n)},function(t){r.onError(t)},function(){r.onCompleted()})},this)},gr.groupBy=function(t,n,e){return this.groupByUntil(t,n,Ir,e)},gr.groupByUntil=function(t,n,e,r){var o=this;return n||(n=In),r||(r=Mn),new xo(function(i){function u(t){return function(n){n.onError(t)}}var s=new mo(0,r),c=new ze,a=new Qe(c);return c.add(o.subscribe(function(r){var o;try{o=t(r)}catch(f){return s.getValues().forEach(u(f)),void i.onError(f)}var l=!1,h=s.tryGetValue(o);if(h||(h=new So,s.set(o,h),l=!0),l){var p=new No(o,h,a),v=new No(o,h);try{duration=e(v)}catch(f){return s.getValues().forEach(u(f)),void i.onError(f)}i.onNext(p);var d=new Ke;c.add(d);var m=function(){s.remove(o)&&h.onCompleted(),c.remove(d)};d.setDisposable(duration.take(1).subscribe(Wn,function(t){s.getValues().forEach(u(t)),i.onError(t)},m))}var b;try{b=n(r)}catch(f){return s.getValues().forEach(u(f)),void i.onError(f)}h.onNext(b)},function(t){s.getValues().forEach(u(t)),i.onError(t)},function(){s.getValues().forEach(function(t){t.onCompleted()}),i.onCompleted()})),a},o)};var Yr=function(t){function n(n,e,r){this.source=n,this.selector=ce(e,r,3),t.call(this)}return We(n,t),n.prototype.internalMap=function(t,e){var r=this;return new n(this.source,function(n,e,o){return t(r.selector(n,e,o),e,o)},e)},n.prototype.subscribeCore=function(t){return this.source.subscribe(new B(t,this.selector,this))},n}(Sr);B.prototype.onNext=function(t){if(!this.isStopped){var n=E(this.selector).call(this,t,this.i++,this.source);return n===$e?this.observer.onError(n.e):void this.observer.onNext(n)}},B.prototype.onError=function(t){this.isStopped||(this.isStopped=!0,this.observer.onError(t))},B.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.observer.onCompleted())},B.prototype.dispose=function(){this.isStopped=!0},B.prototype.fail=function(t){return this.isStopped?!1:(this.isStopped=!0,this.observer.onError(t),!0)},gr.map=gr.select=function(t,n){var e="function"==typeof t?t:function(){return t};return this instanceof Yr?this.internalMap(e,n):new Yr(this,e,n)},gr.pluck=function(){var t=arguments,n=arguments.length;if(0===n)throw new Error("List of properties cannot be empty.");return this.map(function(e){for(var r=e,o=0;n>o;o++){var i=r[t[o]];if("undefined"==typeof i)return u;r=i}return r})},gr.selectMany=gr.flatMap=function(t,n,e){return Un(t)&&Un(n)?this.flatMap(function(e,r){var o=t(e,r);return Fn(o)&&(o=Or(o)),(ue(o)||ie(o))&&(o=Pr(o)),o.map(function(t,o){return n(e,t,r,o)})},e):Un(t)?H(this,t,e):H(this,function(){return t})},gr.flatMapObserver=gr.selectManyObserver=function(t,n,e,r){var o=this;return new xo(function(i){var u=0;return o.subscribe(function(n){var e;try{e=t.call(r,n,u++)}catch(o){return void i.onError(o)}Fn(e)&&(e=Or(e)),i.onNext(e)},function(t){var e;try{e=n.call(r,t)}catch(o){return void i.onError(o)}Fn(e)&&(e=Or(e)),i.onNext(e),i.onCompleted()},function(){var t;try{t=e.call(r)}catch(n){return void i.onError(n)}Fn(t)&&(t=Or(t)),i.onNext(t),i.onCompleted()})},o).mergeAll()},gr.selectSwitch=gr.flatMapLatest=gr.switchMap=function(t,n){return this.select(t,n).switchLatest()},gr.skip=function(t){if(0>t)throw new Yn;var n=this;return new xo(function(e){var r=t;return n.subscribe(function(t){0>=r?e.onNext(t):r--},function(t){e.onError(t)},function(){e.onCompleted()})},n)},gr.skipWhile=function(t,n){var e=this,r=ce(t,n,3);return new xo(function(t){var n=0,o=!1;return e.subscribe(function(i){if(!o)try{o=!r(i,n++,e)}catch(u){return void t.onError(u)}o&&t.onNext(i)},function(n){t.onError(n)},function(){t.onCompleted()})},e)},gr.take=function(t,n){if(0>t)throw new Yn;if(0===t)return Dr(n);var e=this;return new xo(function(n){var r=t;return e.subscribe(function(t){r-->0&&(n.onNext(t),0===r&&n.onCompleted())},function(t){n.onError(t)},function(){n.onCompleted()})},e)},gr.takeWhile=function(t,n){var e=this,r=ce(t,n,3);return new xo(function(t){var n=0,o=!0;return e.subscribe(function(i){if(o){try{o=r(i,n++,e)}catch(u){return void t.onError(u)}o?t.onNext(i):t.onCompleted()}},function(n){t.onError(n)},function(){t.onCompleted()})},e)};var Zr=function(t){function n(n,e,r){this.source=n,this.predicate=ce(e,r,3),t.call(this)}return We(n,t),n.prototype.subscribeCore=function(t){return this.source.subscribe(new G(t,this.predicate,this))},n.prototype.internalFilter=function(t,e){var r=this;return new n(this.source,function(n,e,o){return r.predicate(n,e,o)&&t(n,e,o)},e)},n}(Sr);G.prototype.onNext=function(t){if(!this.isStopped){var n=E(this.predicate).call(this,t,this.i++,this.source);return n===$e?this.observer.onError(n.e):void(n&&this.observer.onNext(t))}},G.prototype.onError=function(t){this.isStopped||(this.isStopped=!0,this.observer.onError(t))},G.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.observer.onCompleted())},G.prototype.dispose=function(){this.isStopped=!0},G.prototype.fail=function(t){return this.isStopped?!1:(this.isStopped=!0,this.observer.onError(t),!0)},gr.filter=gr.where=function(t,n){return this instanceof Zr?this.internalFilter(t,n):new Zr(this,t,n)},gr.aggregate=function(){var t,n,e=!1,r=this;return 2===arguments.length?(e=!0,n=arguments[0],t=arguments[1]):t=arguments[0],new xo(function(o){var i,u,s;return r.subscribe(function(r){!s&&(s=!0);try{i?u=t(u,r):(u=e?t(n,r):r,i=!0)}catch(c){return o.onError(c)}},function(t){o.onError(t)},function(){s&&o.onNext(u),!s&&e&&o.onNext(n),!s&&!e&&o.onError(new Qn),o.onCompleted()})},r)},gr.reduce=function(t){var n,e=!1,r=this;return 2===arguments.length&&(e=!0,n=arguments[1]),new xo(function(o){var i,u,s;return r.subscribe(function(r){!s&&(s=!0);try{i?u=t(u,r):(u=e?t(n,r):r,i=!0)}catch(c){return o.onError(c)}},function(t){o.onError(t)},function(){s&&o.onNext(u),!s&&e&&o.onNext(n),!s&&!e&&o.onError(new Qn),o.onCompleted()})},r)},gr.some=function(t,n){var e=this;return t?e.filter(t,n).some():new xo(function(t){return e.subscribe(function(){t.onNext(!0),t.onCompleted()},function(n){t.onError(n)},function(){t.onNext(!1),t.onCompleted()})},e)},gr.any=function(){return this.some.apply(this,arguments)},gr.isEmpty=function(){return this.any().map(Ln)},gr.every=function(t,n){return this.filter(function(n){return!t(n)},n).some().map(Ln)},gr.all=function(){return this.every.apply(this,arguments)},gr.includes=function(t,n){function e(t,n){return 0===t&&0===n||t===n||isNaN(t)&&isNaN(n)
}var r=this;return new xo(function(o){var i=0,u=+n||0;return 1/0===Math.abs(u)&&(u=0),0>u?(o.onNext(!1),o.onCompleted(),Be):r.subscribe(function(n){i++>=u&&e(n,t)&&(o.onNext(!0),o.onCompleted())},function(t){o.onError(t)},function(){o.onNext(!1),o.onCompleted()})},this)},gr.contains=function(t,n){gr.includes(t,n)},gr.count=function(t,n){return t?this.filter(t,n).count():this.reduce(function(t){return t+1},0)},gr.indexOf=function(t,n){var e=this;return new xo(function(r){var o=0,i=+n||0;return 1/0===Math.abs(i)&&(i=0),0>i?(r.onNext(-1),r.onCompleted(),Be):e.subscribe(function(n){o>=i&&n===t&&(r.onNext(o),r.onCompleted()),o++},function(t){r.onError(t)},function(){r.onNext(-1),r.onCompleted()})},e)},gr.sum=function(t,n){return t&&Un(t)?this.map(t,n).sum():this.reduce(function(t,n){return t+n},0)},gr.minBy=function(t,n){return n||(n=Vn),K(this,t,function(t,e){return-1*n(t,e)})},gr.min=function(t){return this.minBy(In,t).map(function(t){return J(t)})},gr.maxBy=function(t,n){return n||(n=Vn),K(this,t,n)},gr.max=function(t){return this.maxBy(In,t).map(function(t){return J(t)})},gr.average=function(t,n){return t&&Un(t)?this.map(t,n).average():this.reduce(function(t,n){return{sum:t.sum+n,count:t.count+1}},{sum:0,count:0}).map(function(t){if(0===t.count)throw new Qn;return t.sum/t.count})},gr.sequenceEqual=function(t,n){var e=this;return n||(n=Mn),new xo(function(r){var o=!1,i=!1,u=[],s=[],c=e.subscribe(function(t){var e,o;if(s.length>0){o=s.shift();try{e=n(o,t)}catch(c){return void r.onError(c)}e||(r.onNext(!1),r.onCompleted())}else i?(r.onNext(!1),r.onCompleted()):u.push(t)},function(t){r.onError(t)},function(){o=!0,0===u.length&&(s.length>0?(r.onNext(!1),r.onCompleted()):i&&(r.onNext(!0),r.onCompleted()))});(ue(t)||ie(t))&&(t=Pr(t)),Fn(t)&&(t=Or(t));var a=t.subscribe(function(t){var e;if(u.length>0){var i=u.shift();try{e=n(i,t)}catch(c){return void r.onError(c)}e||(r.onNext(!1),r.onCompleted())}else o?(r.onNext(!1),r.onCompleted()):s.push(t)},function(t){r.onError(t)},function(){i=!0,0===s.length&&(u.length>0?(r.onNext(!1),r.onCompleted()):o&&(r.onNext(!0),r.onCompleted()))});return new ze(c,a)},e)},gr.elementAt=function(t){return Q(this,t,!1)},gr.elementAtOrDefault=function(t,n){return Q(this,t,!0,n)},gr.single=function(t,n){return t&&Un(t)?this.where(t,n).single():X(this,!1)},gr.singleOrDefault=function(t,n,e){return t&&Un(t)?this.filter(t,e).singleOrDefault(null,n):X(this,!0,n)},gr.first=function(t,n){return t?this.where(t,n).first():Y(this,!1)},gr.firstOrDefault=function(t,n){return t?this.where(t).firstOrDefault(null,n):Y(this,!0,n)},gr.last=function(t,n){return t?this.where(t,n).last():Z(this,!1)},gr.lastOrDefault=function(t,n,e){return t?this.where(t,e).lastOrDefault(null,n):Z(this,!0,n)},gr.find=function(t,n){return tn(this,t,n,!1)},gr.findIndex=function(t,n){return tn(this,t,n,!0)},gr.toSet=function(){if("undefined"==typeof kn.Set)throw new TypeError;var t=this;return new xo(function(n){var e=new kn.Set;return t.subscribe(function(t){e.add(t)},function(t){n.onError(t)},function(){n.onNext(e),n.onCompleted()})},t)},gr.toMap=function(t,n){if("undefined"==typeof kn.Map)throw new TypeError;var e=this;return new xo(function(r){var o=new kn.Map;return e.subscribe(function(e){var i;try{i=t(e)}catch(u){return void r.onError(u)}var s=e;if(n)try{s=n(e)}catch(u){return void r.onError(u)}o.set(i,s)},function(t){r.onError(t)},function(){r.onNext(o),r.onCompleted()})},e)};var to="function",no="throw",De=Pn.internals.isObject,eo=Pn.spawn=function(t){var n=sn(t);return function(e){function r(t,n){sr.schedule(e.bind(i,t,n))}function o(t,n){var e;if(arguments.length>2)for(var n=[],s=1,c=arguments.length;c>s;s++)n.push(arguments[s]);if(t)try{e=u[no](t)}catch(a){return r(a)}if(!t)try{e=u.next(n)}catch(a){return r(a)}if(e.done)return r(null,e.value);if(e.value=nn(e.value,i),typeof e.value!==to)o(new TypeError("Rx.spawn only supports a function, Promise, Observable, Object or Array."));else{var f=!1;try{e.value.call(i,function(){f||(f=!0,o.apply(i,arguments))})}catch(a){sr.schedule(function(){f||(f=!0,o.call(i,a))})}}}var i=this,u=t;if(n){for(var s=[],c=0,a=arguments.length;a>c;c++)s.push(arguments[c]);var a=s.length,f=a&&typeof s[a-1]===to;e=f?s.pop():an,u=t.apply(this,s)}else e=e||an;o()}};Nr.start=function(t,n,e){return ro(t,n,e)()};var ro=Nr.toAsync=function(t,n,e){return qn(e)||(e=sr),function(){var r=arguments,o=new Oo;return e.schedule(function(){var e;try{e=t.apply(n,r)}catch(i){return void o.onError(i)}o.onNext(e),o.onCompleted()}),o.asObservable()}};Nr.fromCallback=function(t,n,e){return function(){for(var r=[],o=0,i=arguments.length;i>o;o++)r.push(arguments[o]);return new xo(function(o){function i(){var t=arguments;if(e){try{t=e(t)}catch(n){return o.onError(n)}o.onNext(t)}else t.length<=1?o.onNext.apply(o,t):o.onNext(t);o.onCompleted()}r.push(i),t.apply(n,r)}).publishLast().refCount()}},Nr.fromNodeCallback=function(t,n,e){return function(){for(var r=arguments.length,o=new Array(r),i=0;r>i;i++)o[i]=arguments[i];return new xo(function(r){function i(t){if(t)return void r.onError(t);for(var n=arguments.length,o=[],i=1;n>i;i++)o[i-1]=arguments[i];if(e){try{o=e(o)}catch(u){return r.onError(u)}r.onNext(o)}else o.length<=1?r.onNext.apply(r,o):r.onNext(o);r.onCompleted()}o.push(i),t.apply(n,o)}).publishLast().refCount()}},Pn.config.useNativeEvents=!1,Nr.fromEvent=function(t,n,e){return t.addListener?oo(function(e){t.addListener(n,e)},function(e){t.removeListener(n,e)},e):Pn.config.useNativeEvents||"function"!=typeof t.on||"function"!=typeof t.off?new xo(function(r){return ln(t,n,function(t){var n=t;if(e)try{n=e(arguments)}catch(o){return r.onError(o)}r.onNext(n)})}).publish().refCount():oo(function(e){t.on(n,e)},function(e){t.off(n,e)},e)};var oo=Nr.fromEventPattern=function(t,n,e){return new xo(function(r){function o(t){var n=t;if(e)try{n=e(arguments)}catch(o){return r.onError(o)}r.onNext(n)}var i=t(o);return Ue(function(){n&&n(o,i)})}).publish().refCount()};Nr.startAsync=function(t){var n;try{n=t()}catch(e){return zr(e)}return Or(n)};var io=function(t){function n(t){var n=this.source.publish(),e=n.subscribe(t),r=Be,o=this.pauser.distinctUntilChanged().subscribe(function(t){t?r=n.connect():(r.dispose(),r=Be)});return new ze(e,r,o)}function e(e,r){this.source=e,this.controller=new So,this.pauser=r&&r.subscribe?this.controller.merge(r):this.controller,t.call(this,n,e)}return We(e,t),e.prototype.pause=function(){this.controller.onNext(!1)},e.prototype.resume=function(){this.controller.onNext(!0)},e}(Nr);gr.pausable=function(t){return new io(this,t)};var uo=function(t){function n(t){var n,e=[],r=hn(this.source,this.pauser.distinctUntilChanged().startWith(!1),function(t,n){return{data:t,shouldFire:n}}).subscribe(function(r){if(n!==u&&r.shouldFire!=n){if(n=r.shouldFire,r.shouldFire)for(;e.length>0;)t.onNext(e.shift())}else n=r.shouldFire,r.shouldFire?t.onNext(r.data):e.push(r.data)},function(n){for(;e.length>0;)t.onNext(e.shift());t.onError(n)},function(){for(;e.length>0;)t.onNext(e.shift());t.onCompleted()});return r}function e(e,r){this.source=e,this.controller=new So,this.pauser=r&&r.subscribe?this.controller.merge(r):this.controller,t.call(this,n,e)}return We(e,t),e.prototype.pause=function(){this.controller.onNext(!1)},e.prototype.resume=function(){this.controller.onNext(!0)},e}(Nr);gr.pausableBuffered=function(t){return new uo(this,t)};var so=function(t){function n(t){return this.source.subscribe(t)}function e(e,r){t.call(this,n,e),this.subject=new co(r),this.source=e.multicast(this.subject).refCount()}return We(e,t),e.prototype.request=function(t){return null==t&&(t=-1),this.subject.request(t)},e}(Nr),co=function(t){function n(t){return this.subject.subscribe(t)}function e(e){null==e&&(e=!0),t.call(this,n),this.subject=new So,this.enableQueue=e,this.queue=e?[]:null,this.requestedCount=0,this.requestedDisposable=Be,this.error=null,this.hasFailed=!1,this.hasCompleted=!1}return We(e,t),qe(e.prototype,br,{onCompleted:function(){this.hasCompleted=!0,this.enableQueue&&0!==this.queue.length?this.queue.push(Pn.Notification.createOnCompleted()):this.subject.onCompleted()},onError:function(t){this.hasFailed=!0,this.error=t,this.enableQueue&&0!==this.queue.length?this.queue.push(Pn.Notification.createOnError(t)):this.subject.onError(t)},onNext:function(t){var n=!1;0===this.requestedCount?this.enableQueue&&this.queue.push(Pn.Notification.createOnNext(t)):(-1!==this.requestedCount&&0===this.requestedCount--&&this.disposeCurrentRequest(),n=!0),n&&this.subject.onNext(t)},_processRequest:function(t){if(this.enableQueue){for(;this.queue.length>=t&&t>0||this.queue.length>0&&"N"!==this.queue[0].kind;){var n=this.queue.shift();n.accept(this.subject),"N"===n.kind?t--:(this.disposeCurrentRequest(),this.queue=[])}return{numberOfItems:t,returnValue:0!==this.queue.length}}return{numberOfItems:t,returnValue:!1}},request:function(t){this.disposeCurrentRequest();var n=this,e=this._processRequest(t),t=e.numberOfItems;return e.returnValue?Be:(this.requestedCount=t,this.requestedDisposable=Ue(function(){n.requestedCount=0}),this.requestedDisposable)},disposeCurrentRequest:function(){this.requestedDisposable.dispose(),this.requestedDisposable=Be}}),e}(Nr);gr.controlled=function(t){return null==t&&(t=!0),new so(this,t)};var ao=function(t){function n(t){this.subscription=this.source.subscribe(new r(t,this,this.subscription));var n=this;return sr.schedule(function(){n.source.request(1)}),this.subscription}function e(e){t.call(this,n,e),this.source=e}We(e,t);var r=function(t){function n(n,e,r){t.call(this),this.observer=n,this.observable=e,this.cancel=r}We(n,t);var e=n.prototype;return e.completed=function(){this.observer.onCompleted(),this.dispose()},e.error=function(t){this.observer.onError(t),this.dispose()},e.next=function(t){this.observer.onNext(t);var n=this;sr.schedule(function(){n.observable.source.request(1)})},e.dispose=function(){this.observer=null,this.cancel&&(this.cancel.dispose(),this.cancel=null),t.prototype.dispose.call(this)},n}(wr);return e}(Nr);so.prototype.stopAndWait=function(){return new ao(this)};var fo=function(t){function n(t){this.subscription=this.source.subscribe(new r(t,this,this.subscription));var n=this;return sr.schedule(function(){n.source.request(n.windowSize)}),this.subscription}function e(e,r){t.call(this,n,e),this.source=e,this.windowSize=r}We(e,t);var r=function(t){function n(t,n,e){this.observer=t,this.observable=n,this.cancel=e,this.received=0}We(n,t);var e=n.prototype;return e.completed=function(){this.observer.onCompleted(),this.dispose()},e.error=function(t){this.observer.onError(t),this.dispose()},e.next=function(t){if(this.observer.onNext(t),this.received=++this.received%this.observable.windowSize,0===this.received){var n=this;sr.schedule(function(){n.observable.source.request(n.observable.windowSize)})}},e.dispose=function(){this.observer=null,this.cancel&&(this.cancel.dispose(),this.cancel=null),t.prototype.dispose.call(this)},n}(wr);return e}(Nr);so.prototype.windowed=function(t){return new fo(this,t)},gr.multicast=function(t,n){var e=this;return"function"==typeof t?new xo(function(r){var o=e.multicast(t());return new ze(n(o).subscribe(r),o.connect())},e):new vo(e,t)},gr.publish=function(t){return t&&Un(t)?this.multicast(function(){return new So},t):this.multicast(new So)},gr.share=function(){return this.publish().refCount()},gr.publishLast=function(t){return t&&Un(t)?this.multicast(function(){return new Oo},t):this.multicast(new Oo)},gr.publishValue=function(t,n){return 2===arguments.length?this.multicast(function(){return new ho(n)},t):this.multicast(new ho(t))},gr.shareValue=function(t){return this.publishValue(t).refCount()},gr.replay=function(t,n,e,r){return t&&Un(t)?this.multicast(function(){return new po(n,e,r)},t):this.multicast(new po(n,e,r))},gr.shareReplay=function(t,n,e){return this.replay(null,t,n,e).refCount()};var lo=function(t,n){this.subject=t,this.observer=n};lo.prototype.dispose=function(){if(!this.subject.isDisposed&&null!==this.observer){var t=this.subject.observers.indexOf(this.observer);this.subject.observers.splice(t,1),this.observer=null}};var ho=Pn.BehaviorSubject=function(t){function n(t){return Ge(this),this.isStopped?(this.hasError?t.onError(this.error):t.onCompleted(),Be):(this.observers.push(t),t.onNext(this.value),new lo(this,t))}function e(e){t.call(this,n),this.value=e,this.observers=[],this.isDisposed=!1,this.isStopped=!1,this.hasError=!1}return We(e,t),qe(e.prototype,br,{getValue:function(){if(Ge(this),this.hasError)throw this.error;return this.value},hasObservers:function(){return this.observers.length>0},onCompleted:function(){if(Ge(this),!this.isStopped){this.isStopped=!0;for(var t=0,n=c(this.observers),e=n.length;e>t;t++)n[t].onCompleted();this.observers.length=0}},onError:function(t){if(Ge(this),!this.isStopped){this.isStopped=!0,this.hasError=!0,this.error=t;for(var n=0,e=c(this.observers),r=e.length;r>n;n++)e[n].onError(t);this.observers.length=0}},onNext:function(t){if(Ge(this),!this.isStopped){this.value=t;for(var n=0,e=c(this.observers),r=e.length;r>n;n++)e[n].onNext(t)}},dispose:function(){this.isDisposed=!0,this.observers=null,this.value=null,this.exception=null}}),e}(Nr),po=Pn.ReplaySubject=function(t){function n(t,n){return Ue(function(){n.dispose(),!t.isDisposed&&t.observers.splice(t.observers.indexOf(n),1)})}function e(t){var e=new xr(this.scheduler,t),r=n(this,e);Ge(this),this._trim(this.scheduler.now()),this.observers.push(e);for(var o=0,i=this.q.length;i>o;o++)e.onNext(this.q[o].value);return this.hasError?e.onError(this.error):this.isStopped&&e.onCompleted(),e.ensureActive(),r}function r(n,r,i){this.bufferSize=null==n?o:n,this.windowSize=null==r?o:r,this.scheduler=i||rr,this.q=[],this.observers=[],this.isStopped=!1,this.isDisposed=!1,this.hasError=!1,this.error=null,t.call(this,e)}var o=Math.pow(2,53)-1;return We(r,t),qe(r.prototype,br.prototype,{hasObservers:function(){return this.observers.length>0},_trim:function(t){for(;this.q.length>this.bufferSize;)this.q.shift();for(;this.q.length>0&&t-this.q[0].interval>this.windowSize;)this.q.shift()},onNext:function(t){if(Ge(this),!this.isStopped){var n=this.scheduler.now();this.q.push({interval:n,value:t}),this._trim(n);for(var e=0,r=c(this.observers),o=r.length;o>e;e++){var i=r[e];i.onNext(t),i.ensureActive()}}},onError:function(t){if(Ge(this),!this.isStopped){this.isStopped=!0,this.error=t,this.hasError=!0;var n=this.scheduler.now();this._trim(n);for(var e=0,r=c(this.observers),o=r.length;o>e;e++){var i=r[e];i.onError(t),i.ensureActive()}this.observers.length=0}},onCompleted:function(){if(Ge(this),!this.isStopped){this.isStopped=!0;var t=this.scheduler.now();this._trim(t);for(var n=0,e=c(this.observers),r=e.length;r>n;n++){var o=e[n];o.onCompleted(),o.ensureActive()}this.observers.length=0}},dispose:function(){this.isDisposed=!0,this.observers=null}}),r}(Nr),vo=Pn.ConnectableObservable=function(t){function n(n,e){var r,o=!1,i=n.asObservable();this.connect=function(){return o||(o=!0,r=new ze(i.subscribe(e),Ue(function(){o=!1}))),r},t.call(this,function(t){return e.subscribe(t)})}return We(n,t),n.prototype.refCount=function(){var t,n=0,e=this;return new xo(function(r){var o=1===++n,i=e.subscribe(r);return o&&(t=e.connect()),function(){i.dispose(),0===--n&&t.dispose()}})},n}(Nr),mo=function(){function t(t){if(0===(1&t))return 2===t;for(var n=Math.sqrt(t),e=3;n>=e;){if(t%e===0)return!1;e+=2}return!0}function n(n){var e,r,o;for(e=0;e<s.length;++e)if(r=s[e],r>=n)return r;for(o=1|n;o<s[s.length-1];){if(t(o))return o;o+=2}return n}function e(t){var n=757602046;if(!t.length)return n;for(var e=0,r=t.length;r>e;e++){var o=t.charCodeAt(e);n=(n<<5)-n+o,n&=n}return n}function r(t){var n=668265261;return t=61^t^t>>>16,t+=t<<3,t^=t>>>4,t*=n,t^=t>>>15}function o(){return{key:null,value:null,next:0,hashCode:0}}function i(t,n){if(0>t)throw new Yn;t>0&&this._initialize(t),this.comparer=n||Mn,this.freeCount=0,this.size=0,this.freeList=-1}var s=[1,3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143,4194301,8388593,16777213,33554393,67108859,134217689,268435399,536870909,1073741789,2147483647],c="no such key",a="duplicate key",f=function(){var t=0;return function(n){if(null==n)throw new Error(c);if("string"==typeof n)return e(n);if("number"==typeof n)return r(n);if("boolean"==typeof n)return n===!0?1:0;if(n instanceof Date)return r(n.valueOf());if(n instanceof RegExp)return e(n.toString());if("function"==typeof n.valueOf){var o=n.valueOf();if("number"==typeof o)return r(o);if("string"==typeof o)return e(o)}if(n.hashCode)return n.hashCode();var i=17*t++;return n.hashCode=function(){return i},i}}(),l=i.prototype;return l._initialize=function(t){var e,r=n(t);for(this.buckets=new Array(r),this.entries=new Array(r),e=0;r>e;e++)this.buckets[e]=-1,this.entries[e]=o();this.freeList=-1},l.add=function(t,n){this._insert(t,n,!0)},l._insert=function(t,n,e){this.buckets||this._initialize(0);for(var r,o=2147483647&f(t),i=o%this.buckets.length,u=this.buckets[i];u>=0;u=this.entries[u].next)if(this.entries[u].hashCode===o&&this.comparer(this.entries[u].key,t)){if(e)throw new Error(a);return void(this.entries[u].value=n)}this.freeCount>0?(r=this.freeList,this.freeList=this.entries[r].next,--this.freeCount):(this.size===this.entries.length&&(this._resize(),i=o%this.buckets.length),r=this.size,++this.size),this.entries[r].hashCode=o,this.entries[r].next=this.buckets[i],this.entries[r].key=t,this.entries[r].value=n,this.buckets[i]=r},l._resize=function(){var t=n(2*this.size),e=new Array(t);for(i=0;i<e.length;++i)e[i]=-1;var r=new Array(t);for(i=0;i<this.size;++i)r[i]=this.entries[i];for(var i=this.size;t>i;++i)r[i]=o();for(var u=0;u<this.size;++u){var s=r[u].hashCode%t;r[u].next=e[s],e[s]=u}this.buckets=e,this.entries=r},l.remove=function(t){if(this.buckets)for(var n=2147483647&f(t),e=n%this.buckets.length,r=-1,o=this.buckets[e];o>=0;o=this.entries[o].next){if(this.entries[o].hashCode===n&&this.comparer(this.entries[o].key,t))return 0>r?this.buckets[e]=this.entries[o].next:this.entries[r].next=this.entries[o].next,this.entries[o].hashCode=-1,this.entries[o].next=this.freeList,this.entries[o].key=null,this.entries[o].value=null,this.freeList=o,++this.freeCount,!0;r=o}return!1},l.clear=function(){var t,n;if(!(this.size<=0)){for(t=0,n=this.buckets.length;n>t;++t)this.buckets[t]=-1;for(t=0;t<this.size;++t)this.entries[t]=o();this.freeList=-1,this.size=0}},l._findEntry=function(t){if(this.buckets)for(var n=2147483647&f(t),e=this.buckets[n%this.buckets.length];e>=0;e=this.entries[e].next)if(this.entries[e].hashCode===n&&this.comparer(this.entries[e].key,t))return e;return-1},l.count=function(){return this.size-this.freeCount},l.tryGetValue=function(t){var n=this._findEntry(t);return n>=0?this.entries[n].value:u},l.getValues=function(){var t=0,n=[];if(this.entries)for(var e=0;e<this.size;e++)this.entries[e].hashCode>=0&&(n[t++]=this.entries[e].value);return n},l.get=function(t){var n=this._findEntry(t);if(n>=0)return this.entries[n].value;throw new Error(c)},l.set=function(t,n){this._insert(t,n,!1)},l.containskey=function(t){return this._findEntry(t)>=0},i}();gr.join=function(t,n,e,r){var o=this;return new xo(function(i){var u=new ze,s=!1,c=!1,a=0,f=0,l=new mo,h=new mo;return u.add(o.subscribe(function(t){var e=a++,o=new Ke;l.add(e,t),u.add(o);var c,f=function(){l.remove(e)&&0===l.count()&&s&&i.onCompleted(),u.remove(o)};try{c=n(t)}catch(p){return void i.onError(p)}o.setDisposable(c.take(1).subscribe(Wn,i.onError.bind(i),f)),h.getValues().forEach(function(n){var e;try{e=r(t,n)}catch(o){return void i.onError(o)}i.onNext(e)})},i.onError.bind(i),function(){s=!0,(c||0===l.count())&&i.onCompleted()})),u.add(t.subscribe(function(t){var n=f++,o=new Ke;h.add(n,t),u.add(o);var s,a=function(){h.remove(n)&&0===h.count()&&c&&i.onCompleted(),u.remove(o)};try{s=e(t)}catch(p){return void i.onError(p)}o.setDisposable(s.take(1).subscribe(Wn,i.onError.bind(i),a)),l.getValues().forEach(function(n){var e;try{e=r(n,t)}catch(o){return void i.onError(o)}i.onNext(e)})},i.onError.bind(i),function(){c=!0,(s||0===h.count())&&i.onCompleted()})),u},o)},gr.groupJoin=function(t,n,e,r){var o=this;return new xo(function(i){function u(t){return function(n){n.onError(t)}}var s=new ze,c=new Qe(s),a=new mo,f=new mo,l=0,h=0;return s.add(o.subscribe(function(t){var e=new So,o=l++;a.add(o,e);var h;try{h=r(t,Ie(e,c))}catch(p){return a.getValues().forEach(u(p)),void i.onError(p)}i.onNext(h),f.getValues().forEach(function(t){e.onNext(t)});var v=new Ke;s.add(v);var d,m=function(){a.remove(o)&&e.onCompleted(),s.remove(v)};try{d=n(t)}catch(p){return a.getValues().forEach(u(p)),void i.onError(p)}v.setDisposable(d.take(1).subscribe(Wn,function(t){a.getValues().forEach(u(t)),i.onError(t)},m))},function(t){a.getValues().forEach(u(t)),i.onError(t)},i.onCompleted.bind(i))),s.add(t.subscribe(function(t){var n=h++;f.add(n,t);var r=new Ke;s.add(r);var o,c=function(){f.remove(n),s.remove(r)};try{o=e(t)}catch(l){return a.getValues().forEach(u(l)),void i.onError(l)}r.setDisposable(o.take(1).subscribe(Wn,function(t){a.getValues().forEach(u(t)),i.onError(t)},c)),a.getValues().forEach(function(n){n.onNext(t)})},function(t){a.getValues().forEach(u(t)),i.onError(t)})),c},o)},gr.buffer=function(){return this.window.apply(this,arguments).selectMany(function(t){return t.toArray()})},gr.window=function(t,n){return 1===arguments.length&&"function"!=typeof arguments[0]?vn.call(this,t):"function"==typeof t?dn.call(this,t):pn.call(this,t,n)},gr.pairwise=function(){var t=this;return new xo(function(n){var e,r=!1;return t.subscribe(function(t){r?n.onNext([e,t]):r=!0,e=t},n.onError.bind(n),n.onCompleted.bind(n))},t)},gr.partition=function(t,n){return[this.filter(t,n),this.filter(function(e,r,o){return!t.call(n,e,r,o)})]},gr.letBind=gr.let=function(t){return t(this)},Nr["if"]=Nr.ifThen=function(t,n,e){return kr(function(){return e||(e=Dr()),Fn(n)&&(n=Or(n)),Fn(e)&&(e=Or(e)),"function"==typeof e.now&&(e=Dr(e)),t()?n:e})},Nr["for"]=Nr.forIn=function(t,n,e){return mr(t,n,e).concat()};var bo=Nr["while"]=Nr.whileDo=function(t,n){return Fn(n)&&(n=Or(n)),mn(t,n).concat()};gr.doWhile=function(t){return Ur([this,bo(t,this)])},Nr["case"]=Nr.switchCase=function(t,n,e){return kr(function(){Fn(e)&&(e=Or(e)),e||(e=Dr()),"function"==typeof e.now&&(e=Dr(e));var r=n[t()];return Fn(r)&&(r=Or(r)),r||e})},gr.expand=function(t,n){qn(n)||(n=er);var e=this;return new xo(function(r){var o=[],i=new Je,u=new ze(i),s=0,c=!1,a=function(){var e=!1;o.length>0&&(e=!c,c=!0),e&&i.setDisposable(n.scheduleRecursive(function(n){var e;if(!(o.length>0))return void(c=!1);e=o.shift();var i=new Ke;u.add(i),i.setDisposable(e.subscribe(function(n){r.onNext(n);var e=null;try{e=t(n)}catch(i){r.onError(i)}o.push(e),s++,a()},r.onError.bind(r),function(){u.remove(i),s--,0===s&&r.onCompleted()})),n()}))};return o.push(e),s++,a(),u},this)},Nr.forkJoin=function(){var t=[];if(Array.isArray(arguments[0]))t=arguments[0];else for(var n=0,e=arguments.length;e>n;n++)t.push(arguments[n]);return new xo(function(n){var e=t.length;if(0===e)return n.onCompleted(),Be;for(var r=new ze,o=!1,i=new Array(e),u=new Array(e),s=new Array(e),c=0;e>c;c++)!function(c){var a=t[c];Fn(a)&&(a=Or(a)),r.add(a.subscribe(function(t){o||(i[c]=!0,s[c]=t)},function(t){o=!0,n.onError(t),r.dispose()},function(){if(!o){if(!i[c])return void n.onCompleted();u[c]=!0;for(var t=0;e>t;t++)if(!u[t])return;o=!0,n.onNext(s),n.onCompleted()}}))}(c);return r})},gr.forkJoin=function(t,n){var e=this;return new xo(function(r){var o,i,u=!1,s=!1,c=!1,a=!1,f=new Ke,l=new Ke;return Fn(t)&&(t=Or(t)),f.setDisposable(e.subscribe(function(t){c=!0,o=t},function(t){l.dispose(),r.onError(t)},function(){if(u=!0,s)if(c)if(a){var t;try{t=n(o,i)}catch(e){return void r.onError(e)}r.onNext(t),r.onCompleted()}else r.onCompleted();else r.onCompleted()})),l.setDisposable(t.subscribe(function(t){a=!0,i=t},function(t){f.dispose(),r.onError(t)},function(){if(s=!0,u)if(c)if(a){var t;try{t=n(o,i)}catch(e){return void r.onError(e)}r.onNext(t),r.onCompleted()}else r.onCompleted();else r.onCompleted()})),new ze(f,l)},e)},gr.manySelect=function(t,n){qn(n)||(n=er);var e=this;return kr(function(){var r;return e.map(function(t){var n=new yo(t);return r&&r.onNext(t),r=n,n}).tap(Wn,function(t){r&&r.onError(t)},function(){r&&r.onCompleted()}).observeOn(n).map(t)},e)};var yo=function(t){function n(t){var n=this,e=new ze;return e.add(rr.schedule(function(){t.onNext(n.head),e.add(n.tail.mergeAll().subscribe(t))})),e}function e(e){t.call(this,n),this.head=e,this.tail=new Oo}return We(e,t),qe(e.prototype,br,{onCompleted:function(){this.onNext(Nr.empty())},onError:function(t){this.onNext(Nr.throwError(t))},onNext:function(t){this.tail.onNext(t),this.tail.onCompleted()}}),e}(Nr),go=kn.Map||function(){function t(){this._keys=[],this._values=[]}return t.prototype.get=function(t){var n=this._keys.indexOf(t);return-1!==n?this._values[n]:u},t.prototype.set=function(t,n){var e=this._keys.indexOf(t);-1!==e&&(this._values[e]=n),this._values[this._keys.push(t)-1]=n},t.prototype.forEach=function(t,n){for(var e=0,r=this._keys.length;r>e;e++)t.call(n,this._values[e],this._keys[e])},t}();bn.prototype.and=function(t){return new bn(this.patterns.concat(t))},bn.prototype.thenDo=function(t){return new yn(this,t)},yn.prototype.activate=function(t,n,e){for(var r=this,o=[],i=0,u=this.expression.patterns.length;u>i;i++)o.push(gn(t,this.expression.patterns[i],n.onError.bind(n)));var s=new wn(o,function(){var t;try{t=r.selector.apply(r,arguments)}catch(e){return void n.onError(e)}n.onNext(t)},function(){for(var t=0,n=o.length;n>t;t++)o[t].removeActivePlan(s);e(s)});for(i=0,u=o.length;u>i;i++)o[i].addActivePlan(s);return s},wn.prototype.dequeue=function(){this.joinObservers.forEach(function(t){t.queue.shift()})},wn.prototype.match=function(){var t,n,e=!0;for(t=0,n=this.joinObserverArray.length;n>t;t++)if(0===this.joinObserverArray[t].queue.length){e=!1;break}if(e){var r=[],o=!1;for(t=0,n=this.joinObserverArray.length;n>t;t++)r.push(this.joinObserverArray[t].queue[0]),"C"===this.joinObserverArray[t].queue[0].kind&&(o=!0);if(o)this.onCompleted();else{this.dequeue();var i=[];for(t=0,n=r.length;t<r.length;t++)i.push(r[t].value);this.onNext.apply(this,i)}}};var wo=function(t){function n(n,e){t.call(this),this.source=n,this.onError=e,this.queue=[],this.activePlans=[],this.subscription=new Ke,this.isDisposed=!1}We(n,t);var e=n.prototype;return e.next=function(t){if(!this.isDisposed){if("E"===t.kind)return this.onError(t.exception);this.queue.push(t);for(var n=this.activePlans.slice(0),e=0,r=n.length;r>e;e++)n[e].match()}},e.error=Wn,e.completed=Wn,e.addActivePlan=function(t){this.activePlans.push(t)},e.subscribe=function(){this.subscription.setDisposable(this.source.materialize().subscribe(this))},e.removeActivePlan=function(t){this.activePlans.splice(this.activePlans.indexOf(t),1),0===this.activePlans.length&&this.dispose()},e.dispose=function(){t.prototype.dispose.call(this),this.isDisposed||(this.isDisposed=!0,this.subscription.dispose())},n}(wr);gr.and=function(t){return new bn([this,t])},gr.thenDo=function(t){return new bn([this]).thenDo(t)},Nr.when=function(){var t,n=arguments.length;if(Array.isArray(arguments[0]))t=arguments[0];else{t=new Array(n);for(var e=0;n>e;e++)t[e]=arguments[e]}return new xo(function(n){var e=[],r=new go,o=yr(function(t){n.onNext(t)},function(t){r.forEach(function(n){n.onError(t)}),n.onError(t)},function(){n.onCompleted()});try{for(var i=0,u=t.length;u>i;i++)e.push(t[i].activate(r,o,function(t){var r=e.indexOf(t);e.splice(r,1),0===e.length&&n.onCompleted()}))}catch(s){zr(s).subscribe(n)}var c=new ze;return r.forEach(function(t){t.subscribe(),c.add(t)}),c})};var _o=Nr.interval=function(t,n){return Cn(t,t,qn(n)?n:sr)},Eo=Nr.timer=function(t,n,e){var r;return qn(e)||(e=sr),n!==u&&"number"==typeof n?r=n:qn(n)&&(e=n),t instanceof Date&&r===u?_n(t.getTime(),e):t instanceof Date&&r!==u?(r=n,En(t.getTime(),r,e)):r===u?xn(t,e):Cn(t,r,e)};gr.delay=function(t,n){return qn(n)||(n=sr),t instanceof Date?Sn(this,t.getTime(),n):Nn(this,t,n)},gr.debounce=gr.throttleWithTimeout=function(t,n){qn(n)||(n=sr);var e=this;return new xo(function(r){var o,i=new Je,u=!1,s=0,c=e.subscribe(function(e){u=!0,o=e,s++;var c=s,a=new Ke;i.setDisposable(a),a.setDisposable(n.scheduleWithRelative(t,function(){u&&s===c&&r.onNext(o),u=!1}))},function(t){i.dispose(),r.onError(t),u=!1,s++},function(){i.dispose(),u&&r.onNext(o),r.onCompleted(),u=!1,s++});return new ze(c,i)},this)},gr.throttle=function(t,n){return this.debounce(t,n)},gr.windowWithTime=function(t,n,e){var r,o=this;return null==n&&(r=t),qn(e)||(e=sr),"number"==typeof n?r=n:qn(n)&&(r=t,e=n),new xo(function(n){function i(){var t=new Ke,o=!1,u=!1;l.setDisposable(t),a===c?(o=!0,u=!0):c>a?o=!0:u=!0;var p=o?a:c,v=p-h;h=p,o&&(a+=r),u&&(c+=r),t.setDisposable(e.scheduleWithRelative(v,function(){if(u){var t=new So;f.push(t),n.onNext(Ie(t,s))}o&&f.shift().onCompleted(),i()}))}var u,s,c=r,a=t,f=[],l=new Je,h=0;return u=new ze(l),s=new Qe(u),f.push(new So),n.onNext(Ie(f[0],s)),i(),u.add(o.subscribe(function(t){for(var n=0,e=f.length;e>n;n++)f[n].onNext(t)},function(t){for(var e=0,r=f.length;r>e;e++)f[e].onError(t);n.onError(t)},function(){for(var t=0,e=f.length;e>t;t++)f[t].onCompleted();n.onCompleted()})),s},o)},gr.windowWithTimeOrCount=function(t,n,e){var r=this;return qn(e)||(e=sr),new xo(function(o){function i(n){var r=new Ke;u.setDisposable(r),r.setDisposable(e.scheduleWithRelative(t,function(){if(n===f){a=0;var t=++f;l.onCompleted(),l=new So,o.onNext(Ie(l,c)),i(t)}}))}var u=new Je,s=new ze(u),c=new Qe(s),a=0,f=0,l=new So;return o.onNext(Ie(l,c)),i(0),s.add(r.subscribe(function(t){var e=0,r=!1;l.onNext(t),++a===n&&(r=!0,a=0,e=++f,l.onCompleted(),l=new So,o.onNext(Ie(l,c))),r&&i(e)},function(t){l.onError(t),o.onError(t)},function(){l.onCompleted(),o.onCompleted()})),c},r)},gr.bufferWithTime=function(){return this.windowWithTime.apply(this,arguments).selectMany(function(t){return t.toArray()})},gr.bufferWithTimeOrCount=function(t,n,e){return this.windowWithTimeOrCount(t,n,e).selectMany(function(t){return t.toArray()})},gr.timeInterval=function(t){var n=this;return qn(t)||(t=sr),kr(function(){var e=t.now();return n.map(function(n){var r=t.now(),o=r-e;return e=r,{value:n,interval:o}})})},gr.timestamp=function(t){return qn(t)||(t=sr),this.map(function(n){return{value:n,timestamp:t.now()}})},gr.sample=gr.throttleLatest=function(t,n){return qn(n)||(n=sr),"number"==typeof t?On(this,_o(t,n)):On(this,t)},gr.timeout=function(t,n,e){(null==n||"string"==typeof n)&&(n=zr(new Error(n||"Timeout"))),qn(e)||(e=sr);var r=this,o=t instanceof Date?"scheduleWithAbsolute":"scheduleWithRelative";return new xo(function(i){function u(){var r=s;l.setDisposable(e[o](t,function(){s===r&&(Fn(n)&&(n=Or(n)),a.setDisposable(n.subscribe(i)))}))}var s=0,c=new Ke,a=new Je,f=!1,l=new Je;return a.setDisposable(c),u(),c.setDisposable(r.subscribe(function(t){f||(s++,i.onNext(t),u())},function(t){f||(s++,i.onError(t))},function(){f||(s++,i.onCompleted())})),new ze(a,l)},r)},Nr.generateWithAbsoluteTime=function(t,n,e,r,o,i){return qn(i)||(i=sr),new xo(function(u){var s,c,a=!0,f=!1,l=t;return i.scheduleRecursiveWithAbsolute(i.now(),function(t){f&&u.onNext(s);try{a?a=!1:l=e(l),f=n(l),f&&(s=r(l),c=o(l))}catch(i){return void u.onError(i)}f?t(c):u.onCompleted()})})},Nr.generateWithRelativeTime=function(t,n,e,r,o,i){return qn(i)||(i=sr),new xo(function(u){var s,c,a=!0,f=!1,l=t;return i.scheduleRecursiveWithRelative(0,function(t){f&&u.onNext(s);try{a?a=!1:l=e(l),f=n(l),f&&(s=r(l),c=o(l))}catch(i){return void u.onError(i)}f?t(c):u.onCompleted()})})},gr.delaySubscription=function(t,n){return this.delayWithSelector(Eo(t,qn(n)?n:sr),Dr)},gr.delayWithSelector=function(t,n){var e,r,o=this;return"function"==typeof t?r=t:(e=t,r=n),new xo(function(t){var n=new ze,i=!1,u=function(){i&&0===n.length&&t.onCompleted()},s=new Je,c=function(){s.setDisposable(o.subscribe(function(e){var o;try{o=r(e)}catch(i){return void t.onError(i)}var s=new Ke;n.add(s),s.setDisposable(o.subscribe(function(){t.onNext(e),n.remove(s),u()
},t.onError.bind(t),function(){t.onNext(e),n.remove(s),u()}))},t.onError.bind(t),function(){i=!0,s.dispose(),u()}))};return e?s.setDisposable(e.subscribe(c,t.onError.bind(t),c)):c(),new ze(s,n)},this)},gr.timeoutWithSelector=function(t,n,e){1===arguments.length&&(n=t,t=Ir()),e||(e=zr(new Error("Timeout")));var r=this;return new xo(function(o){function i(t){function n(){return f===r}var r=f,i=new Ke;c.setDisposable(i),i.setDisposable(t.subscribe(function(){n()&&s.setDisposable(e.subscribe(o)),i.dispose()},function(t){n()&&o.onError(t)},function(){n()&&s.setDisposable(e.subscribe(o))}))}function u(){var t=!l;return t&&f++,t}var s=new Je,c=new Je,a=new Ke;s.setDisposable(a);var f=0,l=!1;return i(t),a.setDisposable(r.subscribe(function(t){if(u()){o.onNext(t);var e;try{e=n(t)}catch(r){return void o.onError(r)}i(Fn(e)?Or(e):e)}},function(t){u()&&o.onError(t)},function(){u()&&o.onCompleted()})),new ze(s,c)},r)},gr.debounceWithSelector=function(t){var n=this;return new xo(function(e){var r,o=!1,i=new Je,u=0,s=n.subscribe(function(n){var s;try{s=t(n)}catch(c){return void e.onError(c)}Fn(s)&&(s=Or(s)),o=!0,r=n,u++;var a=u,f=new Ke;i.setDisposable(f),f.setDisposable(s.subscribe(function(){o&&u===a&&e.onNext(r),o=!1,f.dispose()},e.onError.bind(e),function(){o&&u===a&&e.onNext(r),o=!1,f.dispose()}))},function(t){i.dispose(),e.onError(t),o=!1,u++},function(){i.dispose(),o&&e.onNext(r),e.onCompleted(),o=!1,u++});return new ze(s,i)},n)},gr.throttleWithSelector=function(){return this.debounceWithSelector.apply(this,arguments)},gr.skipLastWithTime=function(t,n){qn(n)||(n=sr);var e=this;return new xo(function(r){var o=[];return e.subscribe(function(e){var i=n.now();for(o.push({interval:i,value:e});o.length>0&&i-o[0].interval>=t;)r.onNext(o.shift().value)},function(t){r.onError(t)},function(){for(var e=n.now();o.length>0&&e-o[0].interval>=t;)r.onNext(o.shift().value);r.onCompleted()})},e)},gr.takeLastWithTime=function(t,n){var e=this;return qn(n)||(n=sr),new xo(function(r){var o=[];return e.subscribe(function(e){var r=n.now();for(o.push({interval:r,value:e});o.length>0&&r-o[0].interval>=t;)o.shift()},function(t){r.onError(t)},function(){for(var e=n.now();o.length>0;){var i=o.shift();e-i.interval<=t&&r.onNext(i.value)}r.onCompleted()})},e)},gr.takeLastBufferWithTime=function(t,n){var e=this;return qn(n)||(n=sr),new xo(function(r){var o=[];return e.subscribe(function(e){var r=n.now();for(o.push({interval:r,value:e});o.length>0&&r-o[0].interval>=t;)o.shift()},function(t){r.onError(t)},function(){for(var e=n.now(),i=[];o.length>0;){var u=o.shift();e-u.interval<=t&&i.push(u.value)}r.onNext(i),r.onCompleted()})},e)},gr.takeWithTime=function(t,n){var e=this;return qn(n)||(n=sr),new xo(function(r){return new ze(n.scheduleWithRelative(t,function(){r.onCompleted()}),e.subscribe(r))},e)},gr.skipWithTime=function(t,n){var e=this;return qn(n)||(n=sr),new xo(function(r){var o=!1;return new ze(n.scheduleWithRelative(t,function(){o=!0}),e.subscribe(function(t){o&&r.onNext(t)},r.onError.bind(r),r.onCompleted.bind(r)))},e)},gr.skipUntilWithTime=function(t,n){qn(n)||(n=sr);var e=this,r=t instanceof Date?"scheduleWithAbsolute":"scheduleWithRelative";return new xo(function(o){var i=!1;return new ze(n[r](t,function(){i=!0}),e.subscribe(function(t){i&&o.onNext(t)},function(t){o.onError(t)},function(){o.onCompleted()}))},e)},gr.takeUntilWithTime=function(t,n){qn(n)||(n=sr);var e=this,r=t instanceof Date?"scheduleWithAbsolute":"scheduleWithRelative";return new xo(function(o){return new ze(n[r](t,function(){o.onCompleted()}),e.subscribe(o))},e)},gr.throttleFirst=function(t,n){qn(n)||(n=sr);var e=+t||0;if(0>=e)throw new RangeError("windowDuration cannot be less or equal zero.");var r=this;return new xo(function(t){var o=0;return r.subscribe(function(r){var i=n.now();(0===o||i-o>=e)&&(o=i,t.onNext(r))},function(n){t.onError(n)},function(){t.onCompleted()})},r)},gr.transduce=function(t){function n(t){return{init:function(){return t},step:function(t,n){return t.onNext(n)},result:function(t){return t.onCompleted()}}}var e=this;return new xo(function(r){var o=t(n(r));return e.subscribe(function(t){try{o.step(r,t)}catch(n){r.onError(n)}},r.onError.bind(r),function(){o.result(r)})},e)},gr.exclusive=function(){var t=this;return new xo(function(n){var e=!1,r=!1,o=new Ke,i=new ze;return i.add(o),o.setDisposable(t.subscribe(function(t){if(!e){e=!0,Fn(t)&&(t=Or(t));var o=new Ke;i.add(o),o.setDisposable(t.subscribe(n.onNext.bind(n),n.onError.bind(n),function(){i.remove(o),e=!1,r&&1===i.length&&n.onCompleted()}))}},n.onError.bind(n),function(){r=!0,e||1!==i.length||n.onCompleted()})),i},this)},gr.exclusiveMap=function(t,n){var e=this,r=ce(t,n,3);return new xo(function(t){var n=0,o=!1,i=!0,u=new Ke,s=new ze;return s.add(u),u.setDisposable(e.subscribe(function(e){o||(o=!0,innerSubscription=new Ke,s.add(innerSubscription),Fn(e)&&(e=Or(e)),innerSubscription.setDisposable(e.subscribe(function(o){var i;try{i=r(o,n++,e)}catch(u){return void t.onError(u)}t.onNext(i)},function(n){t.onError(n)},function(){s.remove(innerSubscription),o=!1,i&&1===s.length&&t.onCompleted()})))},function(n){t.onError(n)},function(){i=!0,1!==s.length||o||t.onCompleted()})),s},this)},Pn.VirtualTimeScheduler=function(t){function n(){return this.toDateTimeOffset(this.clock)}function e(t,n){return this.scheduleAbsoluteWithState(t,this.clock,n)}function r(t,n,e){return this.scheduleRelativeWithState(t,this.toRelative(n),e)}function o(t,n,e){return this.scheduleRelativeWithState(t,this.toRelative(n-this.now()),e)}function i(t,n){return n(),Be}function u(i,u){this.clock=i,this.comparer=u,this.isEnabled=!1,this.queue=new Me(1024),t.call(this,n,e,r,o)}We(u,t);var s=u.prototype;return s.add=ne,s.toDateTimeOffset=ne,s.toRelative=ne,s.schedulePeriodicWithState=function(t,n,e){var r=new nr(this,t,n,e);return r.start()},s.scheduleRelativeWithState=function(t,n,e){var r=this.add(this.clock,n);return this.scheduleAbsoluteWithState(t,r,e)},s.scheduleRelative=function(t,n){return this.scheduleRelativeWithState(n,t,i)},s.start=function(){if(!this.isEnabled){this.isEnabled=!0;do{var t=this.getNext();null!==t?(this.comparer(t.dueTime,this.clock)>0&&(this.clock=t.dueTime),t.invoke()):this.isEnabled=!1}while(this.isEnabled)}},s.stop=function(){this.isEnabled=!1},s.advanceTo=function(t){var n=this.comparer(this.clock,t);if(this.comparer(this.clock,t)>0)throw new Yn;if(0!==n&&!this.isEnabled){this.isEnabled=!0;do{var e=this.getNext();null!==e&&this.comparer(e.dueTime,t)<=0?(this.comparer(e.dueTime,this.clock)>0&&(this.clock=e.dueTime),e.invoke()):this.isEnabled=!1}while(this.isEnabled);this.clock=t}},s.advanceBy=function(t){var n=this.add(this.clock,t),e=this.comparer(this.clock,n);if(e>0)throw new Yn;0!==e&&this.advanceTo(n)},s.sleep=function(t){var n=this.add(this.clock,t);if(this.comparer(this.clock,n)>=0)throw new Yn;this.clock=n},s.getNext=function(){for(;this.queue.length>0;){var t=this.queue.peek();if(!t.isCancelled())return t;this.queue.dequeue()}return null},s.scheduleAbsolute=function(t,n){return this.scheduleAbsoluteWithState(n,t,i)},s.scheduleAbsoluteWithState=function(t,n,e){function r(t,n){return o.queue.remove(i),e(t,n)}var o=this,i=new Xe(this,t,r,n,this.comparer);return this.queue.enqueue(i),i.disposable},u}(Ye),Pn.HistoricalScheduler=function(t){function n(n,e){var r=null==n?0:n,o=e||Vn;t.call(this,r,o)}We(n,t);var e=n.prototype;return e.add=function(t,n){return t+n},e.toDateTimeOffset=function(t){return new Date(t).getTime()},e.toRelative=function(t){return t},n}(Pn.VirtualTimeScheduler);var xo=Pn.AnonymousObservable=function(t){function n(t){return t&&Un(t.dispose)?t:Un(t)?Ue(t):Be}function e(t,e){var r=e[0],o=e[1],i=E(o)(r);return i!==$e||r.fail($e.e)?void r.setDisposable(n(i)):x($e.e)}function r(n,r){function o(t){var r=new Co(t),o=[r,n];return rr.scheduleRequired()?rr.scheduleWithState(o,e):e(null,o),r}this.source=r,t.call(this,o)}return We(r,t),r}(Nr),Co=function(t){function n(n){t.call(this),this.observer=n,this.m=new Ke}We(n,t);var e=n.prototype;return e.next=function(t){var n=E(this.observer.onNext).call(this.observer,t);n===$e&&(this.dispose(),x(n.e))},e.error=function(t){var n=E(this.observer.onError).call(this.observer,t);this.dispose(),n===$e&&x(n.e)},e.completed=function(){var t=E(this.observer.onCompleted).call(this.observer);this.dispose(),t===$e&&x(t.e)},e.setDisposable=function(t){this.m.setDisposable(t)},e.getDisposable=function(){return this.m.getDisposable()},e.dispose=function(){t.prototype.dispose.call(this),this.m.dispose()},n}(wr),No=function(t){function n(t){return this.underlyingObservable.subscribe(t)}function e(e,r,o){t.call(this,n),this.key=e,this.underlyingObservable=o?new xo(function(t){return new ze(o.getDisposable(),r.subscribe(t))}):r}return We(e,t),e}(Nr),So=Pn.Subject=function(t){function n(t){return Ge(this),this.isStopped?this.hasError?(t.onError(this.error),Be):(t.onCompleted(),Be):(this.observers.push(t),new lo(this,t))}function e(){t.call(this,n),this.isDisposed=!1,this.isStopped=!1,this.observers=[],this.hasError=!1}return We(e,t),qe(e.prototype,br.prototype,{hasObservers:function(){return this.observers.length>0},onCompleted:function(){if(Ge(this),!this.isStopped){this.isStopped=!0;for(var t=0,n=c(this.observers),e=n.length;e>t;t++)n[t].onCompleted();this.observers.length=0}},onError:function(t){if(Ge(this),!this.isStopped){this.isStopped=!0,this.error=t,this.hasError=!0;for(var n=0,e=c(this.observers),r=e.length;r>n;n++)e[n].onError(t);this.observers.length=0}},onNext:function(t){if(Ge(this),!this.isStopped)for(var n=0,e=c(this.observers),r=e.length;r>n;n++)e[n].onNext(t)},dispose:function(){this.isDisposed=!0,this.observers=null}}),e.create=function(t,n){return new Ao(t,n)},e}(Nr),Oo=Pn.AsyncSubject=function(t){function n(t){return Ge(this),this.isStopped?(this.hasError?t.onError(this.error):this.hasValue?(t.onNext(this.value),t.onCompleted()):t.onCompleted(),Be):(this.observers.push(t),new lo(this,t))}function e(){t.call(this,n),this.isDisposed=!1,this.isStopped=!1,this.hasValue=!1,this.observers=[],this.hasError=!1}return We(e,t),qe(e.prototype,br,{hasObservers:function(){return Ge(this),this.observers.length>0},onCompleted:function(){var t,n;if(Ge(this),!this.isStopped){this.isStopped=!0;var e=c(this.observers),n=e.length;if(this.hasValue)for(t=0;n>t;t++){var r=e[t];r.onNext(this.value),r.onCompleted()}else for(t=0;n>t;t++)e[t].onCompleted();this.observers.length=0}},onError:function(t){if(Ge(this),!this.isStopped){this.isStopped=!0,this.hasError=!0,this.error=t;for(var n=0,e=c(this.observers),r=e.length;r>n;n++)e[n].onError(t);this.observers.length=0}},onNext:function(t){Ge(this),this.isStopped||(this.value=t,this.hasValue=!0)},dispose:function(){this.isDisposed=!0,this.observers=null,this.exception=null,this.value=null}}),e}(Nr),Ao=Pn.AnonymousSubject=function(t){function n(t){return this.observable.subscribe(t)}function e(e,r){this.observer=e,this.observable=r,t.call(this,n)}return We(e,t),qe(e.prototype,br.prototype,{onCompleted:function(){this.observer.onCompleted()},onError:function(t){this.observer.onError(t)},onNext:function(t){this.observer.onNext(t)}}),e}(Nr);Pn.Pauser=function(t){function n(){t.call(this)}return We(n,t),n.prototype.pause=function(){this.onNext(!1)},n.prototype.resume=function(){this.onNext(!0)},n}(So),kn.Rx=Pn,r=function(){return Pn}.call(n,e,n,t),!(r!==u&&(t.exports=r));var ko=p()}).call(this)}).call(n,e(27)(t),function(){return this}(),e(57))},function(t,n,e){function r(t){return t&&"VirtualNode"===t.type&&t.version===o}var o=e(5);t.exports=r},function(t){t.exports="2"},function(t){function n(t){return t&&"Thunk"===t.type}t.exports=n},function(t){function n(t){return t&&("function"==typeof t.hook&&!t.hasOwnProperty("hook")||"function"==typeof t.unhook&&!t.hasOwnProperty("unhook"))}t.exports=n},function(t,n,e){function r(t){return t&&"VirtualText"===t.type&&t.version===o}var o=e(5);t.exports=r},function(t,n,e){"use strict";var r=function(){function t(t,n){for(var e in n){var r=n[e];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(t,n)}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),o=function l(t,n,e){var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:l(o,n,e)}if("value"in r&&r.writable)return r.value;var i=r.get;return void 0===i?void 0:i.call(e)},i=function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(t.__proto__=n)},u=function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")},s=e(10),c=e(13),a=c.CycleInterfaceError,f=function(t){function n(t,e){u(this,n),this._cycleInterfaceErrorMessage=e,o(Object.getPrototypeOf(n.prototype),"constructor",this).call(this,t)}return i(n,t),r(n,{inject:{value:function(){try{return o(Object.getPrototypeOf(n.prototype),"inject",this).apply(this,arguments)}catch(t){throw"CycleInterfaceError"===t.name?new a(this._cycleInterfaceErrorMessage+t.missingMember,t.missingMember):t}}}}),n}(s);t.exports=f},function(t,n,e){"use strict";var r=function(){function t(t,n){for(var e in n){var r=n[e];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(t,n)}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),o=function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")},i=e(3),u=e(13),s=e(14),c=u.CycleInterfaceError,a=function(){function t(n){if(o(this,t),1!==arguments.length||"function"!=typeof n)throw new Error("DataFlowNode expects the definitionFn as the only argument.");this.type="DataFlowNode",this._definitionFn=n,this._proxies=[];for(var e=0;e<n.length;e++)this._proxies[e]=new s;this._wasInjected=!1,this._output=n.apply(this,this._proxies),t._checkOutputObject(this._output)}return r(t,{get:{value:function(t){return this._output[t]||null}},inject:{value:function(){this._wasInjected&&console.warn("DataFlowNode has already been injected an input."),this._definitionFn.length!==arguments.length&&console.warn("The call to inject() should provide the inputs that this DataFlowNode expects according to its definition function.");for(var n=0;n<this._definitionFn.length;n++)t._replicateAll(arguments[n],this._proxies[n]);return this._wasInjected=!0,1===arguments.length?arguments[0]:arguments.length>1?Array.prototype.slice.call(arguments):null}}},{_checkOutputObject:{value:function(t){if("object"!=typeof t)throw new Error("A DataFlowNode should always return an object.")}},_replicateAll:{value:function(n,e){if(n&&e)for(var r in e.proxiedProps)if(e.proxiedProps.hasOwnProperty(r)){var o=e.proxiedProps[r];if("function"==typeof n.event$&&o._hasEvent$)t._replicateAllEvent$(n,r,o);else if(!n.hasOwnProperty(r)&&n instanceof s)t._replicate(n.get(r),o);else if("function"==typeof n.get&&null!==n.get(r))t._replicate(n.get(r),o);else{if("object"!=typeof n||!n.hasOwnProperty(r))throw new c("Input should have the required property "+r,String(r));n[r]||(n[r]=new i.Subject),t._replicate(n[r],o)}}}},_replicateAllEvent$:{value:function(n,e,r){for(var o in r)if(r.hasOwnProperty(o)&&"_hasEvent$"!==o){var i=n.event$(e,o);null!==i&&t._replicate(i,r[o])}}},_replicate:{value:function(t,n){if("undefined"==typeof t)throw new Error("Cannot replicate() if source is undefined.");return t.subscribe(function(t){n.onNext(t)},function(t){n.onError(t),console.error(t)})}}}),t}();t.exports=a},function(t){function n(t){return"[object Array]"===r.call(t)}var e=Array.isArray,r=Object.prototype.toString;t.exports=e||n},function(t,n,e){"use strict";var r=function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t)){for(var e,r=[],o=t[Symbol.iterator]();!(e=o.next()).done&&(r.push(e.value),!n||r.length!==n););return r}throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function t(t,n){for(var e in n){var r=n[e];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(t,n)}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),i=function p(t,n,e){var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:p(o,n,e)}if("value"in r&&r.writable)return r.value;var i=r.get;return void 0===i?void 0:i.call(e)},u=function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(t.__proto__=n)},s=function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")},c={h:e(16).h,diff:e(15),patch:e(19)},a=e(3),f=e(10),l=e(28),h=function(t){function n(t){var e=this;if(s(this,n),this.type="DOMUser",this._domContainer="string"==typeof t?document.querySelector(t):t,"string"==typeof t&&null===this._domContainer)throw new Error("Cannot render into unknown element '"+t+"'");if(!n._isElement(this._domContainer))throw new Error("Given container is not a DOM element neither a selector string.");this._defineRootElemStream(),this._error$=new a.Subject,i(Object.getPrototypeOf(n.prototype),"constructor",this).call(this,function(t){return e._renderEvery(t.get("vtree$")),{error$:e._error$}})}return u(n,t),o(n,{_renderEvery:{value:function(t){var e=this,o=void 0;return null!==/cycleCustomElement-[^\b]+/.exec(e._domContainer.className)?o=e._domContainer:(o=document.createElement("div"),e._domContainer.innerHTML="",e._domContainer.appendChild(o)),setTimeout(function(){return e._rawRootElem$.onNext(o)},0),t.startWith(c.h()).map(function(t){return e._replaceCustomElements(t)}).map(function(t){if(n._isVtreeCustomElement(t))throw new Error("Illegal to use a Cycle custom element as the root of a View.");return t}).pairwise().subscribe(function(t){var i=r(t,2),u=i[0],s=i[1];if("undefined"!=typeof s){var f=n._getArrayOfAllWidgetRootElemStreams(s);f.length>0&&a.Observable.combineLatest(f,function(){return 0}).first().subscribe(function(){e._rawRootElem$.onNext(o)});var l=o.cycleCustomElementDOMUser,h=o.cycleCustomElementProperties;try{o=c.patch(o,c.diff(u,s))}catch(p){console.error(p)}l&&(o.cycleCustomElementDOMUser=l),h&&(o.cycleCustomElementProperties=h),0===f.length&&e._rawRootElem$.onNext(o)}},function(t){console.error(t),e._error$.onNext(t)})}},_defineRootElemStream:{value:function(){var t=(this._domContainer.className||"").trim().split(/\s+/);this._rawRootElem$=new a.Subject,this._rootElem$=this._rawRootElem$.map(function(n){var e=n.className.trim().split(/\s+/),r=t.filter(function(t){return e.indexOf(t)<0});return n.className=e.concat(r).join(" "),n}).shareReplay(1)}},_replaceCustomElements:{value:function(t){if(!t||!n._customElements||"VirtualText"===t.type)return t;var e=(t.tagName||"").toUpperCase();if(e&&n._customElements.hasOwnProperty(e))return new n._customElements[e](t);if(Array.isArray(t.children))for(var r=t.children.length-1;r>=0;r--)t.children[r]=this._replaceCustomElements(t.children[r]);return t}},event$:{value:function(t,n){if("string"!=typeof t)throw new Error("DOMUser.event$ expects first argument to be a string as a CSS selector");if("string"!=typeof n)throw new Error("DOMUser.event$ expects second argument to be a string representing the event type to listen for.");return this._rootElem$.flatMapLatest(function(e){if(!e)return a.Observable.empty();var r=t.replace(".","");if(e.className.search(new RegExp("\\b"+r+"\\b"))>=0)return a.Observable.fromEvent(e,n);var o=e.querySelectorAll(t);return o&&o.length>0?a.Observable.fromEvent(o,n):a.Observable.empty()})}}},{_isElement:{value:function(t){return"object"==typeof HTMLElement?t instanceof HTMLElement||t instanceof DocumentFragment:t&&"object"==typeof t&&null!==t&&(1===t.nodeType||11===t.nodeType)&&"string"==typeof t.nodeName}},_getArrayOfAllWidgetRootElemStreams:{value:function(t){if("Widget"===t.type&&t._rootElem$)return[t._rootElem$];var e=[];if(Array.isArray(t.children))for(var r=t.children.length-1;r>=0;r--)e=e.concat(n._getArrayOfAllWidgetRootElemStreams(t.children[r]));return e}},_isVtreeCustomElement:{value:function(t){return"Widget"===t.type&&!!t._rootElem$}},registerCustomElement:{value:function(t,e){if("string"!=typeof t||"function"!=typeof e)throw new Error("registerCustomElement requires parameters `tagName` and `definitionFn`.");if(t=t.toUpperCase(),n._customElements&&n._customElements.hasOwnProperty(t))throw new Error("Cannot register custom element `"+t+"` for the DOMUser because that tagName is already registered.");var r=l.makeConstructor();r.prototype.init=l.makeInit(t,e),r.prototype.update=l.makeUpdate(),n._customElements=n._customElements||{},n._customElements[t]=r}}}),n}(f);t.exports=h},function(t){"use strict";var n=function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(t.__proto__=n)},e=function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")},r=function(t){function r(t,n){e(this,r),this.name="CycleInterfaceError",this.message=t||"",this.missingMember=n||""}return n(r,t),r}(Error);t.exports={CycleInterfaceError:r}},function(t,n,e){"use strict";var r=function(){function t(t,n){for(var e in n){var r=n[e];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(t,n)}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),o=function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")},i=e(3),u=function(){function t(){o(this,t),this.type="InputProxy",this.proxiedProps={}}return r(t,{get:{value:function(t){return"undefined"==typeof this.proxiedProps[t]&&(this.proxiedProps[t]=new i.Subject),this.proxiedProps[t]}},event$:{value:function(t,n){return"undefined"==typeof this.proxiedProps[t]&&(this.proxiedProps[t]={_hasEvent$:!0}),"undefined"==typeof this.proxiedProps[t][n]&&(this.proxiedProps[t][n]=new i.Subject),this.proxiedProps[t][n]}}}),t}();t.exports=u},function(t,n,e){var r=e(50);t.exports=r},function(t,n,e){var r=e(15),o=e(19),i=e(36),u=e(35),s=e(23),c=e(25);t.exports={diff:r,patch:o,h:i,create:u,VNode:s,VText:c}},function(t,n,e){(function(n){var r="undefined"!=typeof n?n:"undefined"!=typeof window?window:{},o=e(58);if("undefined"!=typeof document)t.exports=document;else{var i=r["__GLOBAL_DOCUMENT_CACHE@4"];i||(i=r["__GLOBAL_DOCUMENT_CACHE@4"]=o),t.exports=i}}).call(n,function(){return this}())},function(t){"use strict";t.exports=function(t){return"object"==typeof t&&null!==t}},function(t,n,e){var r=e(43);t.exports=r},function(t,n,e){function r(t,n,e){for(var r in n){var u=n[r];void 0===u?o(t,r,u,e):c(u)?(o(t,r,u,e),u.hook&&u.hook(t,r,e?e[r]:void 0)):s(u)?i(t,n,e,r,u):t[r]=u}}function o(t,n,e,r){if(r){var o=r[n];if(c(o))o.unhook&&o.unhook(t,n,e);else if("attributes"===n)for(var i in o)t.removeAttribute(i);else if("style"===n)for(var u in o)t.style[u]="";else t[n]="string"==typeof o?"":null}}function i(t,n,e,r,o){var i=e?e[r]:void 0;if("attributes"!==r){if(i&&s(i)&&u(i)!==u(o))return void(t[r]=o);s(t[r])||(t[r]={});var c="style"===r?"":void 0;for(var a in o){var f=o[a];t[r][a]=void 0===f?c:f}}else for(var l in o){var h=o[l];void 0===h?t.removeAttribute(l):t.setAttribute(l,h)}}function u(t){return Object.getPrototypeOf?Object.getPrototypeOf(t):t.__proto__?t.__proto__:t.constructor?t.constructor.prototype:void 0}var s=e(18),c=e(7);t.exports=r},function(t,n,e){function r(t,n){var e=n?n.document||o:o,f=n?n.warn:null;if(t=a(t).a,c(t))return t.init();if(s(t))return e.createTextNode(t.text);if(!u(t))return f&&f("Item is not a valid virtual dom node",t),null;var l=null===t.namespace?e.createElement(t.tagName):e.createElementNS(t.namespace,t.tagName),h=t.properties;i(l,h);for(var p=t.children,v=0;v<p.length;v++){var d=r(p[v],n);d&&l.appendChild(d)}return l}var o=e(17),i=e(20),u=e(4),s=e(8),c=e(1),a=e(22);t.exports=r},function(t,n,e){function r(t,n){var e=t,r=n;return c(n)&&(r=o(n,t)),c(t)&&(e=o(t,null)),{a:e,b:r}}function o(t,n){var e=t.vnode;if(e||(e=t.vnode=t.render(n)),!(i(e)||u(e)||s(e)))throw new Error("thunk did not return a valid node");return e}var i=e(4),u=e(8),s=e(1),c=e(6);t.exports=r},function(t,n,e){function r(t,n,e,r,o){this.tagName=t,this.properties=n||a,this.children=e||f,this.key=null!=r?String(r):void 0,this.namespace="string"==typeof o?o:null;var l,h=e&&e.length||0,p=0,v=!1,d=!1,m=!1;for(var b in n)if(n.hasOwnProperty(b)){var y=n[b];c(y)&&y.unhook&&(l||(l={}),l[b]=y)}for(var g=0;h>g;g++){var w=e[g];i(w)?(p+=w.count||0,!v&&w.hasWidgets&&(v=!0),!d&&w.hasThunks&&(d=!0),m||!w.hooks&&!w.descendantHooks||(m=!0)):!v&&u(w)?"function"==typeof w.destroy&&(v=!0):!d&&s(w)&&(d=!0)}this.count=h+p,this.hasWidgets=v,this.hasThunks=d,this.hooks=l,this.descendantHooks=m}var o=e(5),i=e(4),u=e(1),s=e(6),c=e(7);t.exports=r;var a={},f=[];r.prototype.version=o,r.prototype.type="VirtualNode"},function(t,n,e){function r(t,n,e){this.type=Number(t),this.vNode=n,this.patch=e}var o=e(5);r.NONE=0,r.VTEXT=1,r.VNODE=2,r.WIDGET=3,r.PROPS=4,r.ORDER=5,r.INSERT=6,r.REMOVE=7,r.THUNK=8,t.exports=r,r.prototype.version=o,r.prototype.type="VirtualPatch"},function(t,n,e){function r(t){this.text=String(t)}var o=e(5);t.exports=r,r.prototype.version=o,r.prototype.type="VirtualText"},function(t,n,e){var r;(function(t,o){(function(){function i(t,n){if(t!==n){var e=t===t,r=n===n;if(t>n||!e||"undefined"==typeof t&&r)return 1;if(n>t||!r||"undefined"==typeof n&&e)return-1}return 0}function u(t,n,e){if(n!==n)return y(t,e);for(var r=(e||0)-1,o=t.length;++r<o;)if(t[r]===n)return r;return-1}function s(t){return"function"==typeof t||!1}function c(t,n){var e=t.length;for(t.sort(n);e--;)t[e]=t[e].value;return t}function a(t){return"string"==typeof t?t:null==t?"":t+""}function f(t){return t.charCodeAt(0)}function l(t,n){for(var e=-1,r=t.length;++e<r&&n.indexOf(t.charAt(e))>-1;);return e}function h(t,n){for(var e=t.length;e--&&n.indexOf(t.charAt(e))>-1;);return e}function p(t,n){return i(t.criteria,n.criteria)||t.index-n.index}function v(t,n){for(var e=-1,r=t.criteria,o=n.criteria,u=r.length;++e<u;){var s=i(r[e],o[e]);if(s)return s}return t.index-n.index}function d(t){return Bn[t]}function m(t){return Hn[t]}function b(t){return"\\"+Jn[t]}function y(t,n,e){for(var r=t.length,o=e?n||r:(n||0)-1;e?o--:++o<r;){var i=t[o];if(i!==i)return o}return-1}function g(t){return t&&"object"==typeof t||!1}function w(t){return 160>=t&&t>=9&&13>=t||32==t||160==t||5760==t||6158==t||t>=8192&&(8202>=t||8232==t||8233==t||8239==t||8287==t||12288==t||65279==t)}function _(t,n){for(var e=-1,r=t.length,o=-1,i=[];++e<r;)t[e]===n&&(t[e]=H,i[++o]=e);return i}function E(t,n){for(var e,r=-1,o=t.length,i=-1,u=[];++r<o;){var s=t[r],c=n?n(s,r,t):s;r&&e===c||(e=c,u[++i]=s)}return u}function x(t){for(var n=-1,e=t.length;++n<e&&w(t.charCodeAt(n)););return n}function C(t){for(var n=t.length;n--&&w(t.charCodeAt(n)););return n}function N(t){return Gn[t]}function S(t){function n(t){if(g(t)&&!Ys(t)&&!(t instanceof o)){if(t instanceof r)return t;if(es.call(t,"__chain__")&&es.call(t,"__wrapped__"))return Ir(t)}return new r(t)}function e(){}function r(t,n,e){this.__wrapped__=t,this.__actions__=e||[],this.__chain__=!!n}function o(t){this.__wrapped__=t,this.__actions__=null,this.__dir__=1,this.__dropCount__=0,this.__filtered__=!1,this.__iteratees__=null,this.__takeCount__=Rs,this.__views__=null}function w(){var t=this.__actions__,n=this.__iteratees__,e=this.__views__,r=new o(this.__wrapped__);return r.__actions__=t?Zn(t):null,r.__dir__=this.__dir__,r.__dropCount__=this.__dropCount__,r.__filtered__=this.__filtered__,r.__iteratees__=n?Zn(n):null,r.__takeCount__=this.__takeCount__,r.__views__=e?Zn(e):null,r}function Z(){if(this.__filtered__){var t=new o(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function rn(){var t=this.__wrapped__.value();if(!Ys(t))return Xe(t,this.__actions__);var n=this.__dir__,e=0>n,r=wr(0,t.length,this.__views__),o=r.start,i=r.end,u=i-o,s=this.__dropCount__,c=Ss(u,this.__takeCount__),a=e?i:o-1,f=this.__iteratees__,l=f?f.length:0,h=0,p=[];t:for(;u--&&c>h;){a+=n;for(var v=-1,d=t[a];++v<l;){var m=f[v],b=m.iteratee,y=b(d,a,t),g=m.type;if(g==L)d=y;else if(!y){if(g==F)continue t;break t}}s?s--:p[h++]=d}return p}function un(){this.__data__={}}function Bn(t){return this.has(t)&&delete this.__data__[t]}function Hn(t){return"__proto__"==t?O:this.__data__[t]}function Gn(t){return"__proto__"!=t&&es.call(this.__data__,t)}function Kn(t,n){return"__proto__"!=t&&(this.__data__[t]=n),this}function Jn(t){var n=t?t.length:0;for(this.data={hash:Es(null),set:new ds};n--;)this.push(t[n])}function Xn(t,n){var e=t.data,r="string"==typeof n||ki(n)?e.set.has(n):e.hash[n];return r?0:-1}function Yn(t){var n=this.data;"string"==typeof t||ki(t)?n.set.add(t):n.hash[t]=!0}function Zn(t,n){var e=-1,r=t.length;for(n||(n=zu(r));++e<r;)n[e]=t[e];return n}function ne(t,n){for(var e=-1,r=t.length;++e<r&&n(t[e],e,t)!==!1;);return t}function ee(t,n){for(var e=t.length;e--&&n(t[e],e,t)!==!1;);return t}function re(t,n){for(var e=-1,r=t.length;++e<r;)if(!n(t[e],e,t))return!1;return!0}function oe(t,n){for(var e=-1,r=t.length,o=-1,i=[];++e<r;){var u=t[e];n(u,e,t)&&(i[++o]=u)}return i}function ie(t,n){for(var e=-1,r=t.length,o=zu(r);++e<r;)o[e]=n(t[e],e,t);return o}function ue(t){for(var n=-1,e=t.length,r=js;++n<e;){var o=t[n];o>r&&(r=o)}return r}function se(t){for(var n=-1,e=t.length,r=Rs;++n<e;){var o=t[n];r>o&&(r=o)}return r}function ce(t,n,e,r){var o=-1,i=t.length;for(r&&i&&(e=t[++o]);++o<i;)e=n(e,t[o],o,t);return e}function ae(t,n,e,r){var o=t.length;for(r&&o&&(e=t[--o]);o--;)e=n(e,t[o],o,t);return e}function fe(t,n){for(var e=-1,r=t.length;++e<r;)if(n(t[e],e,t))return!0;return!1}function le(t,n){return"undefined"==typeof t?n:t}function he(t,n,e,r){return"undefined"!=typeof t&&es.call(r,e)?t:n}function pe(t,n,e){var r=rc(n);if(!e)return de(n,t,r);for(var o=-1,i=r.length;++o<i;){var u=r[o],s=t[u],c=e(s,n[u],u,t,n);(c===c?c===s:s!==s)&&("undefined"!=typeof s||u in t)||(t[u]=c)}return t}function ve(t,n){for(var e=-1,r=t.length,o=Or(r),i=n.length,u=zu(i);++e<i;){var s=n[e];o?(s=parseFloat(s),u[e]=Nr(s,r)?t[s]:O):u[e]=t[s]}return u}function de(t,n,e){e||(e=n,n={});for(var r=-1,o=e.length;++r<o;){var i=e[r];n[i]=t[i]}return n}function me(t,n){for(var e=-1,r=n.length;++e<r;){var o=n[e];t[o]=pr(t[o],k,t)}return t}function be(t,n,e){var r=typeof t;return"function"==r?"undefined"!=typeof n&&Cr(t)?tr(t,n,e):t:null==t?Du:"object"==r?Me(t):"undefined"==typeof n?Le(t+""):Ve(t+"",n)}function ye(t,n,e,r,o,i,u){var s;if(e&&(s=o?e(t,r,o):e(t)),"undefined"!=typeof s)return s;if(!ki(t))return t;var c=Ys(t);if(c){if(s=_r(t),!n)return Zn(t,s)}else{var a=os.call(t),f=a==Y;if(a!=nn&&a!=G&&(!f||o))return Ln[a]?xr(t,a,n):o?t:{};if(s=Er(f?{}:t),!n)return de(t,s,rc(t))}i||(i=[]),u||(u=[]);for(var l=i.length;l--;)if(i[l]==t)return u[l];return i.push(t),u.push(s),(c?ne:je)(t,function(r,o){s[o]=ye(r,n,e,o,t,i,u)}),s}function ge(t,n,e,r){if("function"!=typeof t)throw new Qu(B);return ms(function(){t.apply(O,Ge(e,r))},n)}function we(t,n){var e=t?t.length:0,r=[];if(!e)return r;var o=-1,i=gr(),s=i==u,c=s&&n.length>=200?Fs(n):null,a=n.length;c&&(i=Xn,s=!1,n=c);t:for(;++o<e;){var f=t[o];if(s&&f===f){for(var l=a;l--;)if(n[l]===f)continue t;r.push(f)}else i(n,f)<0&&r.push(f)}return r}function _e(t,n){var e=t?t.length:0;if(!Or(e))return je(t,n);for(var r=-1,o=qr(t);++r<e&&n(o[r],r,o)!==!1;);return t}function Ee(t,n){var e=t?t.length:0;if(!Or(e))return Re(t,n);for(var r=qr(t);e--&&n(r[e],e,r)!==!1;);return t}function xe(t,n){var e=!0;return _e(t,function(t,r,o){return e=!!n(t,r,o)}),e}function Ce(t,n,e,r){var o=t.length;for(e=null==e?0:+e||0,0>e&&(e=-e>o?0:o+e),r="undefined"==typeof r||r>o?o:+r||0,0>r&&(r+=o),o=e>r?0:r>>>0,e>>>=0;o>e;)t[e++]=n;return t}function Ne(t,n){var e=[];return _e(t,function(t,r,o){n(t,r,o)&&e.push(t)}),e
}function Se(t,n,e,r){var o;return e(t,function(t,e,i){return n(t,e,i)?(o=r?e:t,!1):void 0}),o}function Oe(t,n,e,r){for(var o=(r||0)-1,i=t.length,u=-1,s=[];++o<i;){var c=t[o];if(g(c)&&Or(c.length)&&(Ys(c)||Ei(c))){n&&(c=Oe(c,n,e));var a=-1,f=c.length;for(s.length+=f;++a<f;)s[++u]=c[a]}else e||(s[++u]=c)}return s}function Ae(t,n,e){for(var r=-1,o=qr(t),i=e(t),u=i.length;++r<u;){var s=i[r];if(n(o[s],s,o)===!1)break}return t}function ke(t,n,e){for(var r=qr(t),o=e(t),i=o.length;i--;){var u=o[i];if(n(r[u],u,r)===!1)break}return t}function De(t,n){return Ae(t,n,Yi)}function je(t,n){return Ae(t,n,rc)}function Re(t,n){return ke(t,n,rc)}function Te(t,n){for(var e=-1,r=n.length,o=-1,i=[];++e<r;){var u=n[e];tc(t[u])&&(i[++o]=u)}return i}function Pe(t,n,e){var r=-1,o="function"==typeof n,i=t?t.length:0,u=Or(i)?zu(i):[];return _e(t,function(t){var i=o?n:null!=t&&t[n];u[++r]=i?i.apply(t,e):O}),u}function We(t,n,e,r,o,i){if(t===n)return 0!==t||1/t==1/n;var u=typeof t,s=typeof n;return"function"!=u&&"object"!=u&&"function"!=s&&"object"!=s||null==t||null==n?t!==t&&n!==n:qe(t,n,We,e,r,o,i)}function qe(t,n,e,r,o,i,u){var s=Ys(t),c=Ys(n),a=K,f=K;s||(a=os.call(t),a==G?a=nn:a!=nn&&(s=Ii(t))),c||(f=os.call(n),f==G?f=nn:f!=nn&&(c=Ii(n)));var l=a==nn,h=f==nn,p=a==f;if(p&&!s&&!l)return dr(t,n,a);var v=l&&es.call(t,"__wrapped__"),d=h&&es.call(n,"__wrapped__");if(v||d)return e(v?t.value():t,d?n.value():n,r,o,i,u);if(!p)return!1;i||(i=[]),u||(u=[]);for(var m=i.length;m--;)if(i[m]==t)return u[m]==n;i.push(t),u.push(n);var b=(s?vr:mr)(t,n,e,r,o,i,u);return i.pop(),u.pop(),b}function Ie(t,n,e,r,o){var i=n.length;if(null==t)return!i;for(var u=-1,s=!o;++u<i;)if(s&&r[u]?e[u]!==t[n[u]]:!es.call(t,n[u]))return!1;for(u=-1;++u<i;){var c=n[u];if(s&&r[u])var a=es.call(t,c);else{var f=t[c],l=e[u];a=o?o(f,l,c):O,"undefined"==typeof a&&(a=We(l,f,o,!0))}if(!a)return!1}return!0}function $e(t,n){var e=[];return _e(t,function(t,r,o){e.push(n(t,r,o))}),e}function Me(t){var n=rc(t),e=n.length;if(1==e){var r=n[0],o=t[r];if(Ar(o))return function(t){return null!=t&&t[r]===o&&es.call(t,r)}}for(var i=zu(e),u=zu(e);e--;)o=t[n[e]],i[e]=o,u[e]=Ar(o);return function(t){return Ie(t,n,i,u)}}function Ve(t,n){return Ar(n)?function(e){return null!=e&&e[t]===n}:function(e){return null!=e&&We(n,e[t],null,!0)}}function ze(t,n,e,r,o){if(!ki(t))return t;var i=Or(n.length)&&(Ys(n)||Ii(n));return(i?ne:je)(n,function(n,u,s){if(g(n))return r||(r=[]),o||(o=[]),Fe(t,s,u,ze,e,r,o);var c=t[u],a=e?e(c,n,u,t,s):O,f="undefined"==typeof a;f&&(a=n),!i&&"undefined"==typeof a||!f&&(a===a?a===c:c!==c)||(t[u]=a)}),t}function Fe(t,n,e,r,o,i,u){for(var s=i.length,c=n[e];s--;)if(i[s]==c)return void(t[e]=u[s]);var a=t[e],f=o?o(a,c,e,t,n):O,l="undefined"==typeof f;l&&(f=c,Or(c.length)&&(Ys(c)||Ii(c))?f=Ys(a)?a:a?Zn(a):[]:nc(c)||Ei(c)?f=Ei(a)?Vi(a):nc(a)?a:{}:l=!1),i.push(c),u.push(f),l?t[e]=r(f,c,o,i,u):(f===f?f!==a:a===a)&&(t[e]=f)}function Le(t){return function(n){return null==n?O:n[t]}}function Ue(t,n){var e=n.length,r=ve(t,n);for(n.sort(i);e--;){var o=parseFloat(n[e]);if(o!=u&&Nr(o)){var u=o;bs.call(t,o,1)}}return r}function Be(t,n){return t+ls(Ds()*(n-t+1))}function He(t,n,e,r,o){return o(t,function(t,o,i){e=r?(r=!1,t):n(e,t,o,i)}),e}function Ge(t,n,e){var r=-1,o=t.length;n=null==n?0:+n||0,0>n&&(n=-n>o?0:o+n),e="undefined"==typeof e||e>o?o:+e||0,0>e&&(e+=o),o=n>e?0:e-n>>>0,n>>>=0;for(var i=zu(o);++r<o;)i[r]=t[r+n];return i}function Ke(t,n){var e;return _e(t,function(t,r,o){return e=n(t,r,o),!e}),!!e}function Je(t,n){var e=-1,r=gr(),o=t.length,i=r==u,s=i&&o>=200,c=s?Fs():null,a=[];c?(r=Xn,i=!1):(s=!1,c=n?[]:a);t:for(;++e<o;){var f=t[e],l=n?n(f,e,t):f;if(i&&f===f){for(var h=c.length;h--;)if(c[h]===l)continue t;n&&c.push(l),a.push(f)}else r(c,l)<0&&((n||s)&&c.push(l),a.push(f))}return a}function Qe(t,n){for(var e=-1,r=n.length,o=zu(r);++e<r;)o[e]=t[n[e]];return o}function Xe(t,n){var e=t;e instanceof o&&(e=e.value());for(var r=-1,i=n.length;++r<i;){var u=[e],s=n[r];ps.apply(u,s.args),e=s.func.apply(s.thisArg,u)}return e}function Ye(t,n,e){var r=0,o=t?t.length:r;if("number"==typeof n&&n===n&&Ws>=o){for(;o>r;){var i=r+o>>>1,u=t[i];(e?n>=u:n>u)?r=i+1:o=i}return o}return Ze(t,n,Du,e)}function Ze(t,n,e,r){n=e(n);for(var o=0,i=t?t.length:0,u=n!==n,s="undefined"==typeof n;i>o;){var c=ls((o+i)/2),a=e(t[c]),f=a===a;if(u)var l=f||r;else l=s?f&&(r||"undefined"!=typeof a):r?n>=a:n>a;l?o=c+1:i=c}return Ss(i,Ps)}function tr(t,n,e){if("function"!=typeof t)return Du;if("undefined"==typeof n)return t;switch(e){case 1:return function(e){return t.call(n,e)};case 3:return function(e,r,o){return t.call(n,e,r,o)};case 4:return function(e,r,o,i){return t.call(n,e,r,o,i)};case 5:return function(e,r,o,i,u){return t.call(n,e,r,o,i,u)}}return function(){return t.apply(n,arguments)}}function nr(t){return cs.call(t,0)}function er(t,n,e){for(var r=e.length,o=-1,i=Ns(t.length-r,0),u=-1,s=n.length,c=zu(i+s);++u<s;)c[u]=n[u];for(;++o<r;)c[e[o]]=t[o];for(;i--;)c[u++]=t[o++];return c}function rr(t,n,e){for(var r=-1,o=e.length,i=-1,u=Ns(t.length-o,0),s=-1,c=n.length,a=zu(u+c);++i<u;)a[i]=t[i];for(var f=i;++s<c;)a[f+s]=n[s];for(;++r<o;)a[f+e[r]]=t[i++];return a}function or(t,n){return function(e,r,o){var i=n?n():{};if(r=yr(r,o,3),Ys(e))for(var u=-1,s=e.length;++u<s;){var c=e[u];t(i,c,r(c,u,e),e)}else _e(e,function(n,e,o){t(i,n,r(n,e,o),o)});return i}}function ir(t){return function(){var n=arguments.length,e=arguments[0];if(2>n||null==e)return e;if(n>3&&Sr(arguments[1],arguments[2],arguments[3])&&(n=2),n>3&&"function"==typeof arguments[n-2])var r=tr(arguments[--n-1],arguments[n--],5);else n>2&&"function"==typeof arguments[n-1]&&(r=arguments[--n]);for(var o=0;++o<n;){var i=arguments[o];i&&t(e,i,r)}return e}}function ur(t,n){function e(){return(this instanceof e?r:t).apply(n,arguments)}var r=cr(t);return e}function sr(t){return function(n){for(var e=-1,r=Su(fu(n)),o=r.length,i="";++e<o;)i=t(i,r[e],e);return i}}function cr(t){return function(){var n=Vs(t.prototype),e=t.apply(n,arguments);return ki(e)?e:n}}function ar(t,n){return function(e,r,o){o&&Sr(e,r,o)&&(r=null);var i=yr(),u=null==r;if(i===be&&u||(u=!1,r=i(r,o,3)),u){var s=Ys(e);if(s||!qi(e))return t(s?e:Wr(e));r=f}return br(e,r,n)}}function fr(t,n,e,r,o,i,u,s,c,a){function f(){for(var g=arguments.length,w=g,E=zu(g);w--;)E[w]=arguments[w];if(r&&(E=er(E,r,o)),i&&(E=rr(E,i,u)),v||m){var x=f.placeholder,C=_(E,x);if(g-=C.length,a>g){var N=s?Zn(s):null,S=Ns(a-g,0),O=v?C:null,A=v?null:C,j=v?E:null,R=v?null:E;n|=v?P:W,n&=~(v?W:P),d||(n&=~(k|D));var T=fr(t,n,e,j,O,R,A,N,c,S);return T.placeholder=x,T}}var q=h?e:this;return p&&(t=q[y]),s&&(E=Rr(E,s)),l&&c<E.length&&(E.length=c),(this instanceof f?b||cr(t):t).apply(q,E)}var l=n&I,h=n&k,p=n&D,v=n&R,d=n&j,m=n&T,b=!p&&cr(t),y=t;return f}function lr(t,n,e){var r=t.length;if(n=+n,r>=n||!xs(n))return"";var o=n-r;return e=null==e?" ":e+"",yu(e,as(o/e.length)).slice(0,o)}function hr(t,n,e,r){function o(){for(var n=-1,s=arguments.length,c=-1,a=r.length,f=zu(s+a);++c<a;)f[c]=r[c];for(;s--;)f[c++]=arguments[++n];return(this instanceof o?u:t).apply(i?e:this,f)}var i=n&k,u=cr(t);return o}function pr(t,n,e,r,o,i,u,s){var c=n&D;if(!c&&"function"!=typeof t)throw new Qu(B);var a=r?r.length:0;if(a||(n&=~(P|W),r=o=null),a-=o?o.length:0,n&W){var f=r,l=o;r=o=null}var h=!c&&Ls(t),p=[t,n,e,r,o,f,l,i,u,s];if(h&&h!==!0&&(kr(p,h),n=p[1],s=p[9]),p[9]=null==s?c?0:t.length:Ns(s-a,0)||0,n==k)var v=ur(p[0],p[2]);else v=n!=P&&n!=(k|P)||p[4].length?fr.apply(O,p):hr.apply(O,p);var d=h?zs:Us;return d(v,p)}function vr(t,n,e,r,o,i,u){var s=-1,c=t.length,a=n.length,f=!0;if(c!=a&&!(o&&a>c))return!1;for(;f&&++s<c;){var l=t[s],h=n[s];if(f=O,r&&(f=o?r(h,l,s):r(l,h,s)),"undefined"==typeof f)if(o)for(var p=a;p--&&(h=n[p],!(f=l&&l===h||e(l,h,r,o,i,u))););else f=l&&l===h||e(l,h,r,o,i,u)}return!!f}function dr(t,n,e){switch(e){case J:case Q:return+t==+n;case X:return t.name==n.name&&t.message==n.message;case tn:return t!=+t?n!=+n:0==t?1/t==1/n:t==+n;case en:case on:return t==n+""}return!1}function mr(t,n,e,r,o,i,u){var s=rc(t),c=s.length,a=rc(n),f=a.length;if(c!=f&&!o)return!1;for(var l,h=-1;++h<c;){var p=s[h],v=es.call(n,p);if(v){var d=t[p],m=n[p];v=O,r&&(v=o?r(m,d,p):r(d,m,p)),"undefined"==typeof v&&(v=d&&d===m||e(d,m,r,o,i,u))}if(!v)return!1;l||(l="constructor"==p)}if(!l){var b=t.constructor,y=n.constructor;if(b!=y&&"constructor"in t&&"constructor"in n&&!("function"==typeof b&&b instanceof b&&"function"==typeof y&&y instanceof y))return!1}return!0}function br(t,n,e){var r=e?Rs:js,o=r,i=o;return _e(t,function(t,u,s){var c=n(t,u,s);((e?o>c:c>o)||c===r&&c===i)&&(o=c,i=t)}),i}function yr(t,e,r){var o=n.callback||Au;return o=o===Au?be:o,r?o(t,e,r):o}function gr(t,e,r){var o=n.indexOf||Xr;return o=o===Xr?u:o,t?o(t,e,r):o}function wr(t,n,e){for(var r=-1,o=e?e.length:0;++r<o;){var i=e[r],u=i.size;switch(i.type){case"drop":t+=u;break;case"dropRight":n-=u;break;case"take":n=Ss(n,t+u);break;case"takeRight":t=Ns(t,n-u)}}return{start:t,end:n}}function _r(t){var n=t.length,e=new t.constructor(n);return n&&"string"==typeof t[0]&&es.call(t,"index")&&(e.index=t.index,e.input=t.input),e}function Er(t){var n=t.constructor;return"function"==typeof n&&n instanceof n||(n=Gu),new n}function xr(t,n,e){var r=t.constructor;switch(n){case sn:return nr(t);case J:case Q:return new r(+t);case cn:case an:case fn:case ln:case hn:case pn:case vn:case dn:case mn:var o=t.buffer;return new r(e?nr(o):o,t.byteOffset,t.length);case tn:case on:return new r(t);case en:var i=new r(t.source,An.exec(t));i.lastIndex=t.lastIndex}return i}function Cr(t){var e=n.support,r=!(e.funcNames?t.name:e.funcDecomp);if(!r){var o=ts.call(t);e.funcNames||(r=!kn.test(o)),r||(r=qn.test(o)||Ri(t),zs(t,r))}return r}function Nr(t,n){return t=+t,n=null==n?Is:n,t>-1&&t%1==0&&n>t}function Sr(t,n,e){if(!ki(e))return!1;var r=typeof n;if("number"==r)var o=e.length,i=Or(o)&&Nr(n,o);else i="string"==r&&n in e;if(i){var u=e[n];return t===t?t===u:u!==u}return!1}function Or(t){return"number"==typeof t&&t>-1&&t%1==0&&Is>=t}function Ar(t){return t===t&&(0===t?1/t>0:!ki(t))}function kr(t,n){var e=t[1],r=n[1],o=e|r,i=I|q,u=k|D,s=i|u|j|T,c=e&I&&!(r&I),a=e&q&&!(r&q),f=(a?t:n)[7],l=(c?t:n)[8],h=!(e>=q&&r>u||e>u&&r>=q),p=o>=i&&s>=o&&(q>e||(a||c)&&f.length<=l);if(!h&&!p)return t;r&k&&(t[2]=n[2],o|=e&k?0:j);var v=n[3];if(v){var d=t[3];t[3]=d?er(d,v,n[4]):Zn(v),t[4]=d?_(t[3],H):Zn(n[4])}return v=n[5],v&&(d=t[5],t[5]=d?rr(d,v,n[6]):Zn(v),t[6]=d?_(t[5],H):Zn(n[6])),v=n[7],v&&(t[7]=Zn(v)),r&I&&(t[8]=null==t[8]?n[8]:Ss(t[8],n[8])),null==t[9]&&(t[9]=n[9]),t[0]=n[0],t[1]=o,t}function Dr(t,n){t=qr(t);for(var e=-1,r=n.length,o={};++e<r;){var i=n[e];i in t&&(o[i]=t[i])}return o}function jr(t,n){var e={};return De(t,function(t,r,o){n(t,r,o)&&(e[r]=t)}),e}function Rr(t,n){for(var e=t.length,r=Ss(n.length,e),o=Zn(t);r--;){var i=n[r];t[r]=Nr(i,e)?o[i]:O}return t}function Tr(t){{var e;n.support}if(!g(t)||os.call(t)!=nn||!es.call(t,"constructor")&&(e=t.constructor,"function"==typeof e&&!(e instanceof e)))return!1;var r;return De(t,function(t,n){r=n}),"undefined"==typeof r||es.call(t,r)}function Pr(t){for(var e=Yi(t),r=e.length,o=r&&t.length,i=n.support,u=o&&Or(o)&&(Ys(t)||i.nonEnumArgs&&Ei(t)),s=-1,c=[];++s<r;){var a=e[s];(u&&Nr(a,o)||es.call(t,a))&&c.push(a)}return c}function Wr(t){return null==t?[]:Or(t.length)?ki(t)?t:Gu(t):iu(t)}function qr(t){return ki(t)?t:Gu(t)}function Ir(t){return t instanceof o?t.clone():new r(t.__wrapped__,t.__chain__,Zn(t.__actions__))}function $r(t,n,e){n=(e?Sr(t,n,e):null==n)?1:Ns(+n||1,1);for(var r=0,o=t?t.length:0,i=-1,u=zu(as(o/n));o>r;)u[++i]=Ge(t,r,r+=n);return u}function Mr(t){for(var n=-1,e=t?t.length:0,r=-1,o=[];++n<e;){var i=t[n];i&&(o[++r]=i)}return o}function Vr(){for(var t=-1,n=arguments.length;++t<n;){var e=arguments[t];if(Ys(e)||Ei(e))break}return we(e,Oe(arguments,!1,!0,++t))}function zr(t,n,e){var r=t?t.length:0;return r?((e?Sr(t,n,e):null==n)&&(n=1),Ge(t,0>n?0:n)):[]}function Fr(t,n,e){var r=t?t.length:0;return r?((e?Sr(t,n,e):null==n)&&(n=1),n=r-(+n||0),Ge(t,0,0>n?0:n)):[]}function Lr(t,n,e){var r=t?t.length:0;if(!r)return[];for(n=yr(n,e,3);r--&&n(t[r],r,t););return Ge(t,0,r+1)}function Ur(t,n,e){var r=t?t.length:0;if(!r)return[];var o=-1;for(n=yr(n,e,3);++o<r&&n(t[o],o,t););return Ge(t,o)}function Br(t,n,e,r){var o=t?t.length:0;return o?(e&&"number"!=typeof e&&Sr(t,n,e)&&(e=0,r=o),Ce(t,n,e,r)):[]}function Hr(t,n,e){var r=-1,o=t?t.length:0;for(n=yr(n,e,3);++r<o;)if(n(t[r],r,t))return r;return-1}function Gr(t,n,e){var r=t?t.length:0;for(n=yr(n,e,3);r--;)if(n(t[r],r,t))return r;return-1}function Kr(t){return t?t[0]:O}function Jr(t,n,e){var r=t?t.length:0;return e&&Sr(t,n,e)&&(n=!1),r?Oe(t,n):[]}function Qr(t){var n=t?t.length:0;return n?Oe(t,!0):[]}function Xr(t,n,e){var r=t?t.length:0;if(!r)return-1;if("number"==typeof e)e=0>e?Ns(r+e,0):e||0;else if(e){var o=Ye(t,n),i=t[o];return(n===n?n===i:i!==i)?o:-1}return u(t,n,e)}function Yr(t){return Fr(t,1)}function Zr(){for(var t=[],n=-1,e=arguments.length,r=[],o=gr(),i=o==u;++n<e;){var s=arguments[n];(Ys(s)||Ei(s))&&(t.push(s),r.push(i&&s.length>=120?Fs(n&&s):null))}e=t.length;var c=t[0],a=-1,f=c?c.length:0,l=[],h=r[0];t:for(;++a<f;)if(s=c[a],(h?Xn(h,s):o(l,s))<0){for(n=e;--n;){var p=r[n];if((p?Xn(p,s):o(t[n],s))<0)continue t}h&&h.push(s),l.push(s)}return l}function to(t){var n=t?t.length:0;return n?t[n-1]:O}function no(t,n,e){var r=t?t.length:0;if(!r)return-1;var o=r;if("number"==typeof e)o=(0>e?Ns(r+e,0):Ss(e||0,r-1))+1;else if(e){o=Ye(t,n,!0)-1;var i=t[o];return(n===n?n===i:i!==i)?o:-1}if(n!==n)return y(t,o,!0);for(;o--;)if(t[o]===n)return o;return-1}function eo(){var t=arguments[0];if(!t||!t.length)return t;for(var n=0,e=gr(),r=arguments.length;++n<r;)for(var o=0,i=arguments[n];(o=e(t,i,o))>-1;)bs.call(t,o,1);return t}function ro(t){return Ue(t||[],Oe(arguments,!1,!1,1))}function oo(t,n,e){var r=-1,o=t?t.length:0,i=[];for(n=yr(n,e,3);++r<o;){var u=t[r];n(u,r,t)&&(i.push(u),bs.call(t,r--,1),o--)}return i}function io(t){return zr(t,1)}function uo(t,n,e){var r=t?t.length:0;return r?(e&&"number"!=typeof e&&Sr(t,n,e)&&(n=0,e=r),Ge(t,n,e)):[]}function so(t,n,e,r){var o=yr(e);return o===be&&null==e?Ye(t,n):Ze(t,n,o(e,r,1))}function co(t,n,e,r){var o=yr(e);return o===be&&null==e?Ye(t,n,!0):Ze(t,n,o(e,r,1),!0)}function ao(t,n,e){var r=t?t.length:0;return r?((e?Sr(t,n,e):null==n)&&(n=1),Ge(t,0,0>n?0:n)):[]}function fo(t,n,e){var r=t?t.length:0;return r?((e?Sr(t,n,e):null==n)&&(n=1),n=r-(+n||0),Ge(t,0>n?0:n)):[]}function lo(t,n,e){var r=t?t.length:0;if(!r)return[];for(n=yr(n,e,3);r--&&n(t[r],r,t););return Ge(t,r+1)}function ho(t,n,e){var r=t?t.length:0;if(!r)return[];var o=-1;for(n=yr(n,e,3);++o<r&&n(t[o],o,t););return Ge(t,0,o)}function po(){return Je(Oe(arguments,!1,!0))}function vo(t,n,e,r){var o=t?t.length:0;if(!o)return[];null!=n&&"boolean"!=typeof n&&(r=e,e=Sr(t,n,r)?null:n,n=!1);var i=yr();return(i!==be||null!=e)&&(e=i(e,r,3)),n&&gr()==u?E(t,e):Je(t,e)}function mo(t){for(var n=-1,e=(t&&t.length&&ue(ie(t,ns)))>>>0,r=zu(e);++n<e;)r[n]=ie(t,Le(n));return r}function bo(t){return we(t,Ge(arguments,1))}function yo(){for(var t=-1,n=arguments.length;++t<n;){var e=arguments[t];if(Ys(e)||Ei(e))var r=r?we(r,e).concat(we(e,r)):e}return r?Je(r):[]}function go(){for(var t=arguments.length,n=zu(t);t--;)n[t]=arguments[t];return mo(n)}function wo(t,n){var e=-1,r=t?t.length:0,o={};for(!r||n||Ys(t[0])||(n=[]);++e<r;){var i=t[e];n?o[i]=n[e]:i&&(o[i[0]]=i[1])}return o}function _o(t){var e=n(t);return e.__chain__=!0,e}function Eo(t,n,e){return n.call(e,t),t}function xo(t,n,e){return n.call(e,t)}function Co(){return _o(this)}function No(){return new r(this.value(),this.__chain__)}function So(t){for(var n,r=this;r instanceof e;){var o=Ir(r);n?i.__wrapped__=o:n=o;var i=o;r=r.__wrapped__}return i.__wrapped__=t,n}function Oo(){var t=this.__wrapped__;return t instanceof o?(this.__actions__.length&&(t=new o(this)),new r(t.reverse(),this.__chain__)):this.thru(function(t){return t.reverse()})}function Ao(){return this.value()+""}function ko(){return Xe(this.__wrapped__,this.__actions__)}function Do(t){var n=t?t.length:0;return Or(n)&&(t=Wr(t)),ve(t,Oe(arguments,!1,!1,1))}function jo(t,n,e){var r=Ys(t)?re:xe;return("function"!=typeof n||"undefined"!=typeof e)&&(n=yr(n,e,3)),r(t,n)}function Ro(t,n,e){var r=Ys(t)?oe:Ne;return n=yr(n,e,3),r(t,n)}function To(t,n,e){if(Ys(t)){var r=Hr(t,n,e);return r>-1?t[r]:O}return n=yr(n,e,3),Se(t,n,_e)}function Po(t,n,e){return n=yr(n,e,3),Se(t,n,Ee)}function Wo(t,n){return To(t,Me(n))}function qo(t,n,e){return"function"==typeof n&&"undefined"==typeof e&&Ys(t)?ne(t,n):_e(t,tr(n,e,3))}function Io(t,n,e){return"function"==typeof n&&"undefined"==typeof e&&Ys(t)?ee(t,n):Ee(t,tr(n,e,3))}function $o(t,n,e){var r=t?t.length:0;return Or(r)||(t=iu(t),r=t.length),r?(e="number"==typeof e?0>e?Ns(r+e,0):e||0:0,"string"==typeof t||!Ys(t)&&qi(t)?r>e&&t.indexOf(n,e)>-1:gr(t,n,e)>-1):!1}function Mo(t,n){return Pe(t,n,Ge(arguments,2))}function Vo(t,n,e){var r=Ys(t)?ie:$e;return n=yr(n,e,3),r(t,n)}function zo(t,n){return Vo(t,Le(n))}function Fo(t,n,e,r){var o=Ys(t)?ce:He;return o(t,yr(n,r,4),e,arguments.length<3,_e)}function Lo(t,n,e,r){var o=Ys(t)?ae:He;return o(t,yr(n,r,4),e,arguments.length<3,Ee)}function Uo(t,n,e){var r=Ys(t)?oe:Ne;return n=yr(n,e,3),r(t,function(t,e,r){return!n(t,e,r)})}function Bo(t,n,e){if(e?Sr(t,n,e):null==n){t=Wr(t);var r=t.length;return r>0?t[Be(0,r-1)]:O}var o=Ho(t);return o.length=Ss(0>n?0:+n||0,o.length),o}function Ho(t){t=Wr(t);for(var n=-1,e=t.length,r=zu(e);++n<e;){var o=Be(0,n);n!=o&&(r[n]=r[o]),r[o]=t[n]}return r}function Go(t){var n=t?t.length:0;return Or(n)?n:rc(t).length}function Ko(t,n,e){var r=Ys(t)?fe:Ke;return("function"!=typeof n||"undefined"!=typeof e)&&(n=yr(n,e,3)),r(t,n)}function Jo(t,n,e){var r=-1,o=t?t.length:0,i=Or(o)?zu(o):[];return e&&Sr(t,n,e)&&(n=null),n=yr(n,e,3),_e(t,function(t,e,o){i[++r]={criteria:n(t,e,o),index:r,value:t}}),c(i,p)}function Qo(t){var n=arguments;n.length>3&&Sr(n[1],n[2],n[3])&&(n=[t,n[1]]);var e=-1,r=t?t.length:0,o=Oe(n,!1,!1,1),i=Or(r)?zu(r):[];return _e(t,function(t){for(var n=o.length,r=zu(n);n--;)r[n]=null==t?O:t[o[n]];i[++e]={criteria:r,index:e,value:t}}),c(i,v)}function Xo(t,n){return Ro(t,Me(n))}function Yo(t,n){if("function"!=typeof n){if("function"!=typeof t)throw new Qu(B);var e=t;t=n,n=e}return t=xs(t=+t)?t:0,function(){return--t<1?n.apply(this,arguments):void 0}}function Zo(t,n,e){return e&&Sr(t,n,e)&&(n=null),n=t&&null==n?t.length:Ns(+n||0,0),pr(t,I,null,null,null,null,n)}function ti(t,n){var e;if("function"!=typeof n){if("function"!=typeof t)throw new Qu(B);var r=t;t=n,n=r}return function(){return--t>0?e=n.apply(this,arguments):n=null,e}}function ni(t,n){var e=k;if(arguments.length>2){var r=Ge(arguments,2),o=_(r,ni.placeholder);e|=P}return pr(t,e,n,r,o)}function ei(t){return me(t,arguments.length>1?Oe(arguments,!1,!1,1):Ji(t))}function ri(t,n){var e=k|D;if(arguments.length>2){var r=Ge(arguments,2),o=_(r,ri.placeholder);e|=P}return pr(n,e,t,r,o)}function oi(t,n,e){e&&Sr(t,n,e)&&(n=null);var r=pr(t,R,null,null,null,null,null,n);return r.placeholder=oi.placeholder,r}function ii(t,n,e){e&&Sr(t,n,e)&&(n=null);var r=pr(t,T,null,null,null,null,null,n);return r.placeholder=ii.placeholder,r}function ui(t,n,e){function r(){h&&fs(h),c&&fs(c),c=h=p=O}function o(){var e=n-(Xs()-f);if(0>=e||e>n){c&&fs(c);var r=p;c=h=p=O,r&&(v=Xs(),a=t.apply(l,s),h||c||(s=l=null))}else h=ms(o,e)}function i(){h&&fs(h),c=h=p=O,(m||d!==n)&&(v=Xs(),a=t.apply(l,s),h||c||(s=l=null))}function u(){if(s=arguments,f=Xs(),l=this,p=m&&(h||!b),d===!1)var e=b&&!h;else{c||b||(v=f);var r=d-(f-v),u=0>=r||r>d;u?(c&&(c=fs(c)),v=f,a=t.apply(l,s)):c||(c=ms(i,r))}return u&&h?h=fs(h):h||n===d||(h=ms(o,n)),e&&(u=!0,a=t.apply(l,s)),!u||h||c||(s=l=null),a}var s,c,a,f,l,h,p,v=0,d=!1,m=!0;if("function"!=typeof t)throw new Qu(B);if(n=0>n?0:+n||0,e===!0){var b=!0;m=!1}else ki(e)&&(b=e.leading,d="maxWait"in e&&Ns(+e.maxWait||0,n),m="trailing"in e?e.trailing:m);return u.cancel=r,u}function si(t){return ge(t,1,arguments,1)}function ci(t,n){return ge(t,n,arguments,2)}function ai(){var t=arguments,n=t.length;if(!n)return function(){return arguments[0]};if(!re(t,s))throw new Qu(B);return function(){for(var e=0,r=t[e].apply(this,arguments);++e<n;)r=t[e].call(this,r);return r}}function fi(){var t=arguments,n=t.length-1;if(0>n)return function(){return arguments[0]};if(!re(t,s))throw new Qu(B);return function(){for(var e=n,r=t[e].apply(this,arguments);e--;)r=t[e].call(this,r);return r}}function li(t,n){if("function"!=typeof t||n&&"function"!=typeof n)throw new Qu(B);var e=function(){var r=e.cache,o=n?n.apply(this,arguments):arguments[0];if(r.has(o))return r.get(o);var i=t.apply(this,arguments);return r.set(o,i),i};return e.cache=new li.Cache,e}function hi(t){if("function"!=typeof t)throw new Qu(B);return function(){return!t.apply(this,arguments)}}function pi(t){return ti(t,2)}function vi(t){var n=Ge(arguments,1),e=_(n,vi.placeholder);return pr(t,P,null,n,e)}function di(t){var n=Ge(arguments,1),e=_(n,di.placeholder);return pr(t,W,null,n,e)}function mi(t){var n=Oe(arguments,!1,!1,1);return pr(t,q,null,null,null,n)}function bi(t){if("function"!=typeof t)throw new Qu(B);return function(n){return t.apply(this,n)}}function yi(t,n,e){var r=!0,o=!0;if("function"!=typeof t)throw new Qu(B);return e===!1?r=!1:ki(e)&&(r="leading"in e?!!e.leading:r,o="trailing"in e?!!e.trailing:o),Un.leading=r,Un.maxWait=+n,Un.trailing=o,ui(t,n,Un)}function gi(t,n){return n=null==n?Du:n,pr(n,P,null,[t],[])}function wi(t,n,e,r){return n&&"boolean"!=typeof n&&Sr(t,n,e)?n=!1:"function"==typeof n&&(r=e,e=n,n=!1),e="function"==typeof e&&tr(e,r,1),ye(t,n,e)}function _i(t,n,e){return n="function"==typeof n&&tr(n,e,1),ye(t,!0,n)}function Ei(t){var n=g(t)?t.length:O;return Or(n)&&os.call(t)==G||!1}function xi(t){return t===!0||t===!1||g(t)&&os.call(t)==J||!1}function Ci(t){return g(t)&&os.call(t)==Q||!1}function Ni(t){return t&&1===t.nodeType&&g(t)&&os.call(t).indexOf("Element")>-1||!1}function Si(t){if(null==t)return!0;var n=t.length;return Or(n)&&(Ys(t)||qi(t)||Ei(t)||g(t)&&tc(t.splice))?!n:!rc(t).length}function Oi(t,n,e,r){if(e="function"==typeof e&&tr(e,r,3),!e&&Ar(t)&&Ar(n))return t===n;var o=e?e(t,n):O;return"undefined"==typeof o?We(t,n,e):!!o}function Ai(t){return g(t)&&"string"==typeof t.message&&os.call(t)==X||!1}function ki(t){var n=typeof t;return"function"==n||t&&"object"==n||!1}function Di(t,n,e,r){var o=rc(n),i=o.length;if(e="function"==typeof e&&tr(e,r,3),!e&&1==i){var u=o[0],s=n[u];if(Ar(s))return null!=t&&s===t[u]&&es.call(t,u)}for(var c=zu(i),a=zu(i);i--;)s=c[i]=n[o[i]],a[i]=Ar(s);return Ie(t,o,c,a,e)}function ji(t){return Pi(t)&&t!=+t}function Ri(t){return null==t?!1:os.call(t)==Y?us.test(ts.call(t)):g(t)&&jn.test(t)||!1}function Ti(t){return null===t}function Pi(t){return"number"==typeof t||g(t)&&os.call(t)==tn||!1}function Wi(t){return g(t)&&os.call(t)==en||!1}function qi(t){return"string"==typeof t||g(t)&&os.call(t)==on||!1}function Ii(t){return g(t)&&Or(t.length)&&Fn[os.call(t)]||!1}function $i(t){return"undefined"==typeof t}function Mi(t){var n=t?t.length:0;return Or(n)?n?Zn(t):[]:iu(t)}function Vi(t){return de(t,Yi(t))}function zi(t,n,e){var r=Vs(t);return e&&Sr(t,n,e)&&(n=null),n?de(n,r,rc(n)):r}function Fi(t){if(null==t)return t;var n=Zn(arguments);return n.push(le),ec.apply(O,n)}function Li(t,n,e){return n=yr(n,e,3),Se(t,n,je,!0)}function Ui(t,n,e){return n=yr(n,e,3),Se(t,n,Re,!0)}function Bi(t,n,e){return("function"!=typeof n||"undefined"!=typeof e)&&(n=tr(n,e,3)),Ae(t,n,Yi)}function Hi(t,n,e){return n=tr(n,e,3),ke(t,n,Yi)}function Gi(t,n,e){return("function"!=typeof n||"undefined"!=typeof e)&&(n=tr(n,e,3)),je(t,n)}function Ki(t,n,e){return n=tr(n,e,3),ke(t,n,rc)}function Ji(t){return Te(t,Yi(t))}function Qi(t,n){return t?es.call(t,n):!1}function Xi(t,n,e){e&&Sr(t,n,e)&&(n=null);for(var r=-1,o=rc(t),i=o.length,u={};++r<i;){var s=o[r],c=t[s];n?es.call(u,c)?u[c].push(s):u[c]=[s]:u[c]=s}return u}function Yi(t){if(null==t)return[];ki(t)||(t=Gu(t));var n=t.length;n=n&&Or(n)&&(Ys(t)||Ms.nonEnumArgs&&Ei(t))&&n||0;for(var e=t.constructor,r=-1,o="function"==typeof e&&e.prototype===t,i=zu(n),u=n>0;++r<n;)i[r]=r+"";for(var s in t)u&&Nr(s,n)||"constructor"==s&&(o||!es.call(t,s))||i.push(s);return i}function Zi(t,n,e){var r={};return n=yr(n,e,3),je(t,function(t,e,o){r[e]=n(t,e,o)}),r}function tu(t,n,e){if(null==t)return{};if("function"!=typeof n){var r=ie(Oe(arguments,!1,!1,1),Ju);return Dr(t,we(Yi(t),r))}return n=tr(n,e,3),jr(t,function(t,e,r){return!n(t,e,r)})}function nu(t){for(var n=-1,e=rc(t),r=e.length,o=zu(r);++n<r;){var i=e[n];o[n]=[i,t[i]]}return o}function eu(t,n,e){return null==t?{}:"function"==typeof n?jr(t,tr(n,e,3)):Dr(t,Oe(arguments,!1,!1,1))}function ru(t,n,e){var r=null==t?O:t[n];return"undefined"==typeof r&&(r=e),tc(r)?r.call(t):r}function ou(t,n,e,r){var o=Ys(t)||Ii(t);if(n=yr(n,r,4),null==e)if(o||ki(t)){var i=t.constructor;e=o?Ys(t)?new i:[]:Vs(tc(i)&&i.prototype)}else e={};return(o?ne:je)(t,function(t,r,o){return n(e,t,r,o)}),e}function iu(t){return Qe(t,rc(t))}function uu(t){return Qe(t,Yi(t))}function su(t,n,e){return n=+n||0,"undefined"==typeof e?(e=n,n=0):e=+e||0,t>=n&&e>t}function cu(t,n,e){e&&Sr(t,n,e)&&(n=e=null);var r=null==t,o=null==n;if(null==e&&(o&&"boolean"==typeof t?(e=t,t=1):"boolean"==typeof n&&(e=n,o=!0)),r&&o&&(n=1,o=!1),t=+t||0,o?(n=t,t=0):n=+n||0,e||t%1||n%1){var i=Ds();return Ss(t+i*(n-t+parseFloat("1e-"+((i+"").length-1))),n)}return Be(t,n)}function au(t){return t=a(t),t&&t.charAt(0).toUpperCase()+t.slice(1)}function fu(t){return t=a(t),t&&t.replace(Rn,d)}function lu(t,n,e){t=a(t),n+="";var r=t.length;return e=("undefined"==typeof e?r:Ss(0>e?0:+e||0,r))-n.length,e>=0&&t.indexOf(n,e)==e}function hu(t){return t=a(t),t&&xn.test(t)?t.replace(_n,m):t}function pu(t){return t=a(t),t&&Wn.test(t)?t.replace(Pn,"\\$&"):t}function vu(t,n,e){t=a(t),n=+n;var r=t.length;if(r>=n||!xs(n))return t;var o=(n-r)/2,i=ls(o),u=as(o);return e=lr("",u,e),e.slice(0,i)+t+e}function du(t,n,e){return t=a(t),t&&lr(t,n,e)+t}function mu(t,n,e){return t=a(t),t&&t+lr(t,n,e)}function bu(t,n,e){return e&&Sr(t,n,e)&&(n=0),ks(t,n)}function yu(t,n){var e="";if(t=a(t),n=+n,1>n||!t||!xs(n))return e;do n%2&&(e+=t),n=ls(n/2),t+=t;while(n);return e}function gu(t,n,e){return t=a(t),e=null==e?0:Ss(0>e?0:+e||0,t.length),t.lastIndexOf(n,e)==e}function wu(t,e,r){var o=n.templateSettings;r&&Sr(t,e,r)&&(e=r=null),t=a(t),e=pe(pe({},r||e),o,he);var i,u,s=pe(pe({},e.imports),o.imports,he),c=rc(s),f=Qe(s,c),l=0,h=e.interpolate||Tn,p="__p += '",v=Ku((e.escape||Tn).source+"|"+h.source+"|"+(h===Sn?On:Tn).source+"|"+(e.evaluate||Tn).source+"|$","g"),d="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++zn+"]")+"\n";t.replace(v,function(n,e,r,o,s,c){return r||(r=o),p+=t.slice(l,c).replace(In,b),e&&(i=!0,p+="' +\n__e("+e+") +\n'"),s&&(u=!0,p+="';\n"+s+";\n__p += '"),r&&(p+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=c+n.length,n}),p+="';\n";var m=e.variable;m||(p="with (obj) {\n"+p+"\n}\n"),p=(u?p.replace(bn,""):p).replace(yn,"$1").replace(gn,"$1;"),p="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(u?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var y=Ou(function(){return Uu(c,d+"return "+p).apply(O,f)});if(y.source=p,Ai(y))throw y;return y}function _u(t,n,e){var r=t;return(t=a(t))?(e?Sr(r,n,e):null==n)?t.slice(x(t),C(t)+1):(n+="",t.slice(l(t,n),h(t,n)+1)):t}function Eu(t,n,e){var r=t;return t=a(t),t?t.slice((e?Sr(r,n,e):null==n)?x(t):l(t,n+"")):t}function xu(t,n,e){var r=t;return t=a(t),t?(e?Sr(r,n,e):null==n)?t.slice(0,C(t)+1):t.slice(0,h(t,n+"")+1):t}function Cu(t,n,e){e&&Sr(t,n,e)&&(n=null);var r=$,o=M;if(null!=n)if(ki(n)){var i="separator"in n?n.separator:i;r="length"in n?+n.length||0:r,o="omission"in n?a(n.omission):o}else r=+n||0;if(t=a(t),r>=t.length)return t;var u=r-o.length;if(1>u)return o;var s=t.slice(0,u);if(null==i)return s+o;if(Wi(i)){if(t.slice(u).search(i)){var c,f,l=t.slice(0,u);for(i.global||(i=Ku(i.source,(An.exec(i)||"")+"g")),i.lastIndex=0;c=i.exec(l);)f=c.index;s=s.slice(0,null==f?u:f)}}else if(t.indexOf(i,u)!=u){var h=s.lastIndexOf(i);h>-1&&(s=s.slice(0,h))}return s+o}function Nu(t){return t=a(t),t&&En.test(t)?t.replace(wn,N):t}function Su(t,n,e){return e&&Sr(t,n,e)&&(n=null),t=a(t),t.match(n||$n)||[]}function Ou(){var t=arguments.length,n=arguments[0];try{for(var e=zu(t?t-1:0);--t>0;)e[t-1]=arguments[t];return n.apply(O,e)}catch(r){return Ai(r)?r:new Lu(r)}}function Au(t,n,e){return e&&Sr(t,n,e)&&(n=null),g(t)?ju(t):be(t,n)}function ku(t){return function(){return t}}function Du(t){return t}function ju(t){return Me(ye(t,!0))}function Ru(t,n){return Ve(t+"",ye(n,!0))}function Tu(t,n,e){if(null==e){var r=ki(n),o=r&&rc(n),i=o&&o.length&&Te(n,o);(i?i.length:r)||(i=!1,e=n,n=t,t=this)}i||(i=Te(n,rc(n)));var u=!0,s=-1,c=tc(t),a=i.length;e===!1?u=!1:ki(e)&&"chain"in e&&(u=e.chain);for(;++s<a;){var f=i[s],l=n[f];t[f]=l,c&&(t.prototype[f]=function(n){return function(){var e=this.__chain__;if(u||e){var r=t(this.__wrapped__);return(r.__actions__=Zn(this.__actions__)).push({func:n,args:arguments,thisArg:t}),r.__chain__=e,r}var o=[this.value()];return ps.apply(o,arguments),n.apply(t,o)}}(l))}return t}function Pu(){return t._=is,this}function Wu(){}function qu(t){return Le(t+"")}function Iu(t){return function(n){return null==t?O:t[n]}}function $u(t,n,e){e&&Sr(t,n,e)&&(n=e=null),t=+t||0,e=null==e?1:+e||0,null==n?(n=t,t=0):n=+n||0;for(var r=-1,o=Ns(as((n-t)/(e||1)),0),i=zu(o);++r<o;)i[r]=t,t+=e;return i}function Mu(t,n,e){if(t=+t,1>t||!xs(t))return[];var r=-1,o=zu(Ss(t,Ts));for(n=tr(n,e,1);++r<t;)Ts>r?o[r]=n(r):n(r);return o}function Vu(t){var n=++rs;return a(t)+n}t=t?te.defaults(Qn.Object(),t,te.pick(Qn,Vn)):Qn;var zu=t.Array,Fu=t.Date,Lu=t.Error,Uu=t.Function,Bu=t.Math,Hu=t.Number,Gu=t.Object,Ku=t.RegExp,Ju=t.String,Qu=t.TypeError,Xu=zu.prototype,Yu=Gu.prototype,Zu=(Zu=t.window)&&Zu.document,ts=Uu.prototype.toString,ns=Le("length"),es=Yu.hasOwnProperty,rs=0,os=Yu.toString,is=t._,us=Ku("^"+pu(os).replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ss=Ri(ss=t.ArrayBuffer)&&ss,cs=Ri(cs=ss&&new ss(0).slice)&&cs,as=Bu.ceil,fs=t.clearTimeout,ls=Bu.floor,hs=Ri(hs=Gu.getPrototypeOf)&&hs,ps=Xu.push,vs=Yu.propertyIsEnumerable,ds=Ri(ds=t.Set)&&ds,ms=t.setTimeout,bs=Xu.splice,ys=Ri(ys=t.Uint8Array)&&ys,gs=Ri(gs=t.WeakMap)&&gs,ws=function(){try{var n=Ri(n=t.Float64Array)&&n,e=new n(new ss(10),0,1)&&n}catch(r){}return e}(),_s=Ri(_s=zu.isArray)&&_s,Es=Ri(Es=Gu.create)&&Es,xs=t.isFinite,Cs=Ri(Cs=Gu.keys)&&Cs,Ns=Bu.max,Ss=Bu.min,Os=Ri(Os=Fu.now)&&Os,As=Ri(As=Hu.isFinite)&&As,ks=t.parseInt,Ds=Bu.random,js=Hu.NEGATIVE_INFINITY,Rs=Hu.POSITIVE_INFINITY,Ts=Bu.pow(2,32)-1,Ps=Ts-1,Ws=Ts>>>1,qs=ws?ws.BYTES_PER_ELEMENT:0,Is=Bu.pow(2,53)-1,$s=gs&&new gs,Ms=n.support={};!function(){Ms.funcDecomp=!Ri(t.WinRTError)&&qn.test(S),Ms.funcNames="string"==typeof Uu.name;try{Ms.dom=11===Zu.createDocumentFragment().nodeType}catch(n){Ms.dom=!1}try{Ms.nonEnumArgs=!vs.call(arguments,1)}catch(n){Ms.nonEnumArgs=!0}}(0,0),n.templateSettings={escape:Cn,evaluate:Nn,interpolate:Sn,variable:"",imports:{_:n}};var Vs=function(){function n(){}return function(e){if(ki(e)){n.prototype=e;var r=new n;n.prototype=null}return r||t.Object()}}(),zs=$s?function(t,n){return $s.set(t,n),t}:Du;cs||(nr=ss&&ys?function(t){var n=t.byteLength,e=ws?ls(n/qs):0,r=e*qs,o=new ss(n);if(e){var i=new ws(o,0,e);i.set(new ws(t,0,e))}return n!=r&&(i=new ys(o,r),i.set(new ys(t,r))),o}:ku(null));var Fs=Es&&ds?function(t){return new Jn(t)}:ku(null),Ls=$s?function(t){return $s.get(t)}:Wu,Us=function(){var t=0,n=0;return function(e,r){var o=Xs(),i=z-(o-n);if(n=o,i>0){if(++t>=V)return e}else t=0;return zs(e,r)}}(),Bs=or(function(t,n,e){es.call(t,e)?++t[e]:t[e]=1}),Hs=or(function(t,n,e){es.call(t,e)?t[e].push(n):t[e]=[n]}),Gs=or(function(t,n,e){t[e]=n}),Ks=ar(ue),Js=ar(se,!0),Qs=or(function(t,n,e){t[e?0:1].push(n)},function(){return[[],[]]}),Xs=Os||function(){return(new Fu).getTime()},Ys=_s||function(t){return g(t)&&Or(t.length)&&os.call(t)==K||!1
};Ms.dom||(Ni=function(t){return t&&1===t.nodeType&&g(t)&&!nc(t)||!1});var Zs=As||function(t){return"number"==typeof t&&xs(t)},tc=s(/x/)||ys&&!s(ys)?function(t){return os.call(t)==Y}:s,nc=hs?function(t){if(!t||os.call(t)!=nn)return!1;var n=t.valueOf,e=Ri(n)&&(e=hs(n))&&hs(e);return e?t==e||hs(t)==e:Tr(t)}:Tr,ec=ir(pe),rc=Cs?function(t){if(t)var n=t.constructor,e=t.length;return"function"==typeof n&&n.prototype===t||"function"!=typeof t&&e&&Or(e)?Pr(t):ki(t)?Cs(t):[]}:Pr,oc=ir(ze),ic=sr(function(t,n,e){return n=n.toLowerCase(),t+(e?n.charAt(0).toUpperCase()+n.slice(1):n)}),uc=sr(function(t,n,e){return t+(e?"-":"")+n.toLowerCase()});8!=ks(Mn+"08")&&(bu=function(t,n,e){return(e?Sr(t,n,e):null==n)?n=0:n&&(n=+n),t=_u(t),ks(t,n||(Dn.test(t)?16:10))});var sc=sr(function(t,n,e){return t+(e?"_":"")+n.toLowerCase()}),cc=sr(function(t,n,e){return t+(e?" ":"")+(n.charAt(0).toUpperCase()+n.slice(1))});return n.prototype=e.prototype,r.prototype=Vs(e.prototype),r.prototype.constructor=r,o.prototype=Vs(e.prototype),o.prototype.constructor=o,un.prototype["delete"]=Bn,un.prototype.get=Hn,un.prototype.has=Gn,un.prototype.set=Kn,Jn.prototype.push=Yn,li.Cache=un,n.after=Yo,n.ary=Zo,n.assign=ec,n.at=Do,n.before=ti,n.bind=ni,n.bindAll=ei,n.bindKey=ri,n.callback=Au,n.chain=_o,n.chunk=$r,n.compact=Mr,n.constant=ku,n.countBy=Bs,n.create=zi,n.curry=oi,n.curryRight=ii,n.debounce=ui,n.defaults=Fi,n.defer=si,n.delay=ci,n.difference=Vr,n.drop=zr,n.dropRight=Fr,n.dropRightWhile=Lr,n.dropWhile=Ur,n.fill=Br,n.filter=Ro,n.flatten=Jr,n.flattenDeep=Qr,n.flow=ai,n.flowRight=fi,n.forEach=qo,n.forEachRight=Io,n.forIn=Bi,n.forInRight=Hi,n.forOwn=Gi,n.forOwnRight=Ki,n.functions=Ji,n.groupBy=Hs,n.indexBy=Gs,n.initial=Yr,n.intersection=Zr,n.invert=Xi,n.invoke=Mo,n.keys=rc,n.keysIn=Yi,n.map=Vo,n.mapValues=Zi,n.matches=ju,n.matchesProperty=Ru,n.memoize=li,n.merge=oc,n.mixin=Tu,n.negate=hi,n.omit=tu,n.once=pi,n.pairs=nu,n.partial=vi,n.partialRight=di,n.partition=Qs,n.pick=eu,n.pluck=zo,n.property=qu,n.propertyOf=Iu,n.pull=eo,n.pullAt=ro,n.range=$u,n.rearg=mi,n.reject=Uo,n.remove=oo,n.rest=io,n.shuffle=Ho,n.slice=uo,n.sortBy=Jo,n.sortByAll=Qo,n.spread=bi,n.take=ao,n.takeRight=fo,n.takeRightWhile=lo,n.takeWhile=ho,n.tap=Eo,n.throttle=yi,n.thru=xo,n.times=Mu,n.toArray=Mi,n.toPlainObject=Vi,n.transform=ou,n.union=po,n.uniq=vo,n.unzip=mo,n.values=iu,n.valuesIn=uu,n.where=Xo,n.without=bo,n.wrap=gi,n.xor=yo,n.zip=go,n.zipObject=wo,n.backflow=fi,n.collect=Vo,n.compose=fi,n.each=qo,n.eachRight=Io,n.extend=ec,n.iteratee=Au,n.methods=Ji,n.object=wo,n.select=Ro,n.tail=io,n.unique=vo,Tu(n,n),n.attempt=Ou,n.camelCase=ic,n.capitalize=au,n.clone=wi,n.cloneDeep=_i,n.deburr=fu,n.endsWith=lu,n.escape=hu,n.escapeRegExp=pu,n.every=jo,n.find=To,n.findIndex=Hr,n.findKey=Li,n.findLast=Po,n.findLastIndex=Gr,n.findLastKey=Ui,n.findWhere=Wo,n.first=Kr,n.has=Qi,n.identity=Du,n.includes=$o,n.indexOf=Xr,n.inRange=su,n.isArguments=Ei,n.isArray=Ys,n.isBoolean=xi,n.isDate=Ci,n.isElement=Ni,n.isEmpty=Si,n.isEqual=Oi,n.isError=Ai,n.isFinite=Zs,n.isFunction=tc,n.isMatch=Di,n.isNaN=ji,n.isNative=Ri,n.isNull=Ti,n.isNumber=Pi,n.isObject=ki,n.isPlainObject=nc,n.isRegExp=Wi,n.isString=qi,n.isTypedArray=Ii,n.isUndefined=$i,n.kebabCase=uc,n.last=to,n.lastIndexOf=no,n.max=Ks,n.min=Js,n.noConflict=Pu,n.noop=Wu,n.now=Xs,n.pad=vu,n.padLeft=du,n.padRight=mu,n.parseInt=bu,n.random=cu,n.reduce=Fo,n.reduceRight=Lo,n.repeat=yu,n.result=ru,n.runInContext=S,n.size=Go,n.snakeCase=sc,n.some=Ko,n.sortedIndex=so,n.sortedLastIndex=co,n.startCase=cc,n.startsWith=gu,n.template=wu,n.trim=_u,n.trimLeft=Eu,n.trimRight=xu,n.trunc=Cu,n.unescape=Nu,n.uniqueId=Vu,n.words=Su,n.all=jo,n.any=Ko,n.contains=$o,n.detect=To,n.foldl=Fo,n.foldr=Lo,n.head=Kr,n.include=$o,n.inject=Fo,Tu(n,function(){var t={};return je(n,function(e,r){n.prototype[r]||(t[r]=e)}),t}(),!1),n.sample=Bo,n.prototype.sample=function(t){return this.__chain__||null!=t?this.thru(function(n){return Bo(n,t)}):Bo(this.value())},n.VERSION=A,ne(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){n[t].placeholder=n}),ne(["filter","map","takeWhile"],function(t,n){var e=n==F||n==U;o.prototype[t]=function(t,r){var o=this.clone(),i=o.__iteratees__||(o.__iteratees__=[]);return o.__filtered__=o.__filtered__||e,i.push({iteratee:yr(t,r,3),type:n}),o}}),ne(["drop","take"],function(t,n){var e="__"+t+"Count__",r=t+"While";o.prototype[t]=function(r){r=null==r?1:Ns(ls(r)||0,0);var o=this.clone();if(o.__filtered__){var i=o[e];o[e]=n?Ss(i,r):i+r}else{var u=o.__views__||(o.__views__=[]);u.push({size:r,type:t+(o.__dir__<0?"Right":"")})}return o},o.prototype[t+"Right"]=function(n){return this.reverse()[t](n).reverse()},o.prototype[t+"RightWhile"]=function(t,n){return this.reverse()[r](t,n).reverse()}}),ne(["first","last"],function(t,n){var e="take"+(n?"Right":"");o.prototype[t]=function(){return this[e](1).value()[0]}}),ne(["initial","rest"],function(t,n){var e="drop"+(n?"":"Right");o.prototype[t]=function(){return this[e](1)}}),ne(["pluck","where"],function(t,n){var e=n?"filter":"map",r=n?Me:Le;o.prototype[t]=function(t){return this[e](r(t))}}),o.prototype.compact=function(){return this.filter(Du)},o.prototype.dropWhile=function(t,n){var e,r,o=this.__dir__<0;return t=yr(t,n,3),this.filter(function(n,i,u){return e=e&&(o?r>i:i>r),r=i,e||(e=!t(n,i,u))})},o.prototype.reject=function(t,n){return t=yr(t,n,3),this.filter(function(n,e,r){return!t(n,e,r)})},o.prototype.slice=function(t,n){t=null==t?0:+t||0;var e=0>t?this.takeRight(-t):this.drop(t);return"undefined"!=typeof n&&(n=+n||0,e=0>n?e.dropRight(-n):e.take(n-t)),e},o.prototype.toArray=function(){return this.drop(0)},je(o.prototype,function(t,e){var i=n[e],u=/^(?:first|last)$/.test(e);n.prototype[e]=function(){var e=this.__wrapped__,s=arguments,c=this.__chain__,a=!!this.__actions__.length,f=e instanceof o,l=f&&!a;if(u&&!c)return l?t.call(e):i.call(n,this.value());var h=function(t){var e=[t];return ps.apply(e,s),i.apply(n,e)};if(f||Ys(e)){var p=l?e:new o(this),v=t.apply(p,s);if(!u&&(a||v.__actions__)){var d=v.__actions__||(v.__actions__=[]);d.push({func:xo,args:[h],thisArg:n})}return new r(v,c)}return this.thru(h)}}),ne(["concat","join","pop","push","shift","sort","splice","unshift"],function(t){var e=Xu[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",o=/^(?:join|pop|shift)$/.test(t);n.prototype[t]=function(){var t=arguments;return o&&!this.__chain__?e.apply(this.value(),t):this[r](function(n){return e.apply(n,t)})}}),o.prototype.clone=w,o.prototype.reverse=Z,o.prototype.value=rn,n.prototype.chain=Co,n.prototype.commit=No,n.prototype.plant=So,n.prototype.reverse=Oo,n.prototype.toString=Ao,n.prototype.run=n.prototype.toJSON=n.prototype.valueOf=n.prototype.value=ko,n.prototype.collect=n.prototype.map,n.prototype.head=n.prototype.first,n.prototype.select=n.prototype.filter,n.prototype.tail=n.prototype.rest,n}var O,A="3.3.1",k=1,D=2,j=4,R=8,T=16,P=32,W=64,q=128,I=256,$=30,M="...",V=150,z=16,F=0,L=1,U=2,B="Expected a function",H="__lodash_placeholder__",G="[object Arguments]",K="[object Array]",J="[object Boolean]",Q="[object Date]",X="[object Error]",Y="[object Function]",Z="[object Map]",tn="[object Number]",nn="[object Object]",en="[object RegExp]",rn="[object Set]",on="[object String]",un="[object WeakMap]",sn="[object ArrayBuffer]",cn="[object Float32Array]",an="[object Float64Array]",fn="[object Int8Array]",ln="[object Int16Array]",hn="[object Int32Array]",pn="[object Uint8Array]",vn="[object Uint8ClampedArray]",dn="[object Uint16Array]",mn="[object Uint32Array]",bn=/\b__p \+= '';/g,yn=/\b(__p \+=) '' \+/g,gn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,wn=/&(?:amp|lt|gt|quot|#39|#96);/g,_n=/[&<>"'`]/g,En=RegExp(wn.source),xn=RegExp(_n.source),Cn=/<%-([\s\S]+?)%>/g,Nn=/<%([\s\S]+?)%>/g,Sn=/<%=([\s\S]+?)%>/g,On=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,An=/\w*$/,kn=/^\s*function[ \n\r\t]+\w/,Dn=/^0[xX]/,jn=/^\[object .+?Constructor\]$/,Rn=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Tn=/($^)/,Pn=/[.*+?^${}()|[\]\/\\]/g,Wn=RegExp(Pn.source),qn=/\bthis\b/,In=/['\n\r\u2028\u2029\\]/g,$n=function(){var t="[A-Z\\xc0-\\xd6\\xd8-\\xde]",n="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(t+"{2,}(?="+t+n+")|"+t+"?"+n+"|"+t+"+|[0-9]+","g")}(),Mn=" 	\f\n\r\u2028\u2029",Vn=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","document","isFinite","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","window","WinRTError"],zn=-1,Fn={};Fn[cn]=Fn[an]=Fn[fn]=Fn[ln]=Fn[hn]=Fn[pn]=Fn[vn]=Fn[dn]=Fn[mn]=!0,Fn[G]=Fn[K]=Fn[sn]=Fn[J]=Fn[Q]=Fn[X]=Fn[Y]=Fn[Z]=Fn[tn]=Fn[nn]=Fn[en]=Fn[rn]=Fn[on]=Fn[un]=!1;var Ln={};Ln[G]=Ln[K]=Ln[sn]=Ln[J]=Ln[Q]=Ln[cn]=Ln[an]=Ln[fn]=Ln[ln]=Ln[hn]=Ln[tn]=Ln[nn]=Ln[en]=Ln[on]=Ln[pn]=Ln[vn]=Ln[dn]=Ln[mn]=!0,Ln[X]=Ln[Y]=Ln[Z]=Ln[rn]=Ln[un]=!1;var Un={leading:!1,maxWait:0,trailing:!1},Bn={"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss"},Hn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Gn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Kn={"function":!0,object:!0},Jn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Qn=Kn[typeof window]&&window!==(this&&this.window)?window:this,Xn=Kn[typeof n]&&n&&!n.nodeType&&n,Yn=Kn[typeof t]&&t&&!t.nodeType&&t,Zn=Xn&&Yn&&"object"==typeof o&&o;!Zn||Zn.global!==Zn&&Zn.window!==Zn&&Zn.self!==Zn||(Qn=Zn);var te=(Yn&&Yn.exports===Xn&&Xn,S());Qn._=te,r=function(){return te}.call(n,e,n,t),!(r!==O&&(t.exports=r))}).call(this)}).call(n,e(27)(t),function(){return this}())},function(t){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,n,e){"use strict";function r(t){return"string"!=typeof t?!1:-1!==t.indexOf("$",t.length-1)}function o(t,n){return function(e){var r;try{r=new Event(n)}catch(o){r=document.createEvent("Event"),r.initEvent(n,!0,!0)}r.data=e,t.dispatchEvent(r)}}function i(t,n){if(n&&"object"==typeof n){var e=new v.CompositeDisposable;for(var i in n)if(n.hasOwnProperty(i)&&r(i)&&"function"==typeof n[i].subscribe){var u=i.slice(0,-1),s=n[i].subscribe(o(t,u));e.add(s)}return e}}function u(t,n){t._rootElem$.distinctUntilChanged(v.helpers.identity,function(t,n){return t&&n&&t.isEqualNode&&t.isEqualNode(n)}).subscribe(function(e){t.eventStreamsSubscriptions&&t.eventStreamsSubscriptions.dispose(),t.eventStreamsSubscriptions=i(e,n)})}function s(){var t=new p,n=t.get;return t.get=function(t){var e=n.call(this,t);return e&&e.distinctUntilChanged?e.distinctUntilChanged():e},t}function c(t,n){var e=document.createElement("div");return e.className=n.className||"",e.id=n.id||"",e.className+=" cycleCustomElement-"+t.toUpperCase(),e}function a(t,n){t._rootElem$.subscribe(function(t){return n._rootElem$.onNext(t)})}function f(){return function(t){this.type="Widget",this.properties=t.properties,this.key=t.key,this._rootElem$=new v.ReplaySubject(1)}}function l(t,n){var r=e(12);return function(){var e=this,o=c(t,e.properties);o.cycleCustomElementDOMUser=new r(o),o.cycleCustomElementProperties=s();var a=n(o.cycleCustomElementDOMUser,o.cycleCustomElementProperties);return e.eventStreamsSubscriptions=i(o,a),u(e,a),e.update(null,o),o}}function h(){return function(t,n){if(n&&n.cycleCustomElementProperties&&n.cycleCustomElementProperties instanceof p&&n.cycleCustomElementProperties.proxiedProps){a(n.cycleCustomElementDOMUser,this);var e=n.cycleCustomElementProperties.proxiedProps;for(var r in e)if(e.hasOwnProperty(r)){var o=r,i=r.slice(0,-1);this.properties.hasOwnProperty(i)&&e[o].onNext(this.properties[i])}}}}var p=e(14),v=e(3);t.exports={makeConstructor:f,makeInit:l,makeUpdate:h}},function(t){"use strict";var n=function(){function t(t,n){for(var e in n){var r=n[e];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(t,n)}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),e=function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")},r=function(){function t(n){if(e(this,t),1!==arguments.length)throw new Error("DataFlowSink expects only one argument: the definition function.");if("function"!=typeof n)throw new Error("DataFlowSink expects the argument to be the definition function.");n.displayName+="(DataFlowSink defFn)",this.type="DataFlowSink",this._definitionFn=n}return n(t,{inject:{value:function(){var n=t.makeLightweightInputProxies(arguments);return this._definitionFn.apply({},n)}}},{makeLightweightInputProxies:{value:function(t){return Array.prototype.slice.call(t).map(function(t){return{get:function(n){return"function"==typeof t.get?t.get(n):t[n]||null}}})}}}),t}();t.exports=r},function(t){"use strict";var n=function(){function t(t,n){for(var e in n){var r=n[e];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(t,n)}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),e=function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")},r=function(){function t(n){if(e(this,t),1!==arguments.length)throw new Error("DataFlowSource expects only one argument: the output object.");if("object"!=typeof n)throw new Error("DataFlowSource expects the constructor argument to be the output object.");this.type="DataFlowSource";for(var r in n)n.hasOwnProperty(r)&&(this[r]=n[r])}return n(t,{inject:{value:function(){throw new Error("A DataFlowSource cannot be injected. Use a DataFlowNode instead.")}}}),t}();t.exports=r},function(t,n,e){"use strict";var r=function c(t,n,e){var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:c(o,n,e)}if("value"in r&&r.writable)return r.value;var i=r.get;return void 0===i?void 0:i.call(e)},o=function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(t.__proto__=n)},i=function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")},u=e(9),s=function(t){function n(t){i(this,n),this.type="Intent",r(Object.getPrototypeOf(n.prototype),"constructor",this).call(this,t,"Intent expects an input to have the required property ")}return o(n,t),n}(u);t.exports=s},function(t,n,e){"use strict";var r=function c(t,n,e){var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:c(o,n,e)}if("value"in r&&r.writable)return r.value;var i=r.get;return void 0===i?void 0:i.call(e)},o=function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(t.__proto__=n)},i=function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")},u=e(9),s=function(t){function n(t){i(this,n),this.type="Model",r(Object.getPrototypeOf(n.prototype),"constructor",this).call(this,t,"Model expects an input to have the required property ")}return o(n,t),n}(u);t.exports=s},function(t){"use strict";var n=function(){function t(t,n){for(var e in n){var r=n[e];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(t,n)}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),e=function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")},r=function(){function t(n){e(this,t),this.fn=n}return n(t,{hook:{value:function(){this.fn.apply(this,arguments)}}}),t}();t.exports=r},function(t,n,e){"use strict";var r=function(){function t(t,n){for(var e in n){var r=n[e];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(t,n)}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),o=function f(t,n,e){var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:f(o,n,e)}if("value"in r&&r.writable)return r.value;var i=r.get;return void 0===i?void 0:i.call(e)},i=function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(t.__proto__=n)},u=function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")},s=e(3),c=e(9),a=function(t){function n(t){u(this,n),this.type="View",o(Object.getPrototypeOf(n.prototype),"constructor",this).call(this,t,"View expects an input to have the required property "),n.checkVTree$(this._output),this._correctedVtree$=n.getCorrectedVtree$(this._output)}return i(n,t),r(n,{get:{value:function(t){if("vtree$"===t)return this._correctedVtree$;if(this._output[t])return this._output[t];var e=o(Object.getPrototypeOf(n.prototype),"get",this).call(this,t);return e?e:(this._output[t]=new s.Subject,this._output[t])}}},{checkVTree$:{value:function(t){if(!t.vtree$||"function"!=typeof t.vtree$.subscribe)throw new Error("View must define `vtree$` Observable emitting virtual DOM elements")}},throwErrorIfNotVTree:{value:function(t){if("VirtualNode"!==t.type||"undefined"===t.tagName)throw new Error("View `vtree$` must emit only VirtualNode instances. Hint: create them with Cycle.h()")}},getCorrectedVtree$:{value:function(t){var e=t.vtree$.map(function(t){return"Widget"===t.type?t:(n.throwErrorIfNotVTree(t),t)}).replay(null,1);return e.connect(),e}}}),n}(c);t.exports=a},function(t,n,e){var r=e(21);t.exports=r},function(t,n,e){var r=e(47);t.exports=r},function(t){/*!
	 * Cross-Browser Split 1.1.1
	 * Copyright 2007-2012 Steven Levithan <stevenlevithan.com>
	 * Available under the MIT License
	 * ECMAScript compliant, uniform cross-browser split method
	 */
t.exports=function(t){var n,e=String.prototype.split,r=/()??/.exec("")[1]===t;return n=function(n,o,i){if("[object RegExp]"!==Object.prototype.toString.call(o))return e.call(n,o,i);var u,s,c,a,f=[],l=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.extended?"x":"")+(o.sticky?"y":""),h=0,o=new RegExp(o.source,l+"g");for(n+="",r||(u=new RegExp("^"+o.source+"$(?!\\s)",l)),i=i===t?-1>>>0:i>>>0;(s=o.exec(n))&&(c=s.index+s[0].length,!(c>h&&(f.push(n.slice(h,s.index)),!r&&s.length>1&&s[0].replace(u,function(){for(var n=1;n<arguments.length-2;n++)arguments[n]===t&&(s[n]=t)}),s.length>1&&s.index<n.length&&Array.prototype.push.apply(f,s.slice(1)),a=s[0].length,h=c,f.length>=i)));)o.lastIndex===s.index&&o.lastIndex++;return h===n.length?(a||!o.test(""))&&f.push(""):f.push(n.slice(h)),f.length>i?f.slice(0,i):f}}()},function(t,n,e){"use strict";function r(t){var n=t[u];return n||(n=t[u]={}),n}var o=e(40),i="7";o("ev-store",i);var u="__EV_STORE_KEY@"+i;t.exports=r},function(t,n){(function(n){"use strict";function e(t,n){return t in r?r[t]:(r[t]=n,n)}var r="undefined"!=typeof window?window:"undefined"!=typeof n?n:{};t.exports=e}).call(n,function(){return this}())},function(t,n,e){"use strict";function r(t,n,e){var r="__INDIVIDUAL_ONE_VERSION_"+t,i=r+"_ENFORCE_SINGLETON",u=o(i,n);if(u!==n)throw new Error("Can only have one copy of "+t+".\nYou already have version "+u+" installed.\nThis means you cannot install version "+n);return o(r,e)}var o=e(39);t.exports=r},function(t){function n(t,n,r,i){return r&&0!==r.length?(r.sort(o),e(t,n,r,i,0)):{}}function e(t,n,o,u,s){if(u=u||{},t){r(o,s,s)&&(u[s]=t);var c=n.children;if(c)for(var a=t.childNodes,f=0;f<n.children.length;f++){s+=1;var l=c[f]||i,h=s+(l.count||0);r(o,s,h)&&e(a[f],l,o,u,s),s=h}}return u}function r(t,n,e){if(0===t.length)return!1;for(var r,o,i=0,u=t.length-1;u>=i;){if(r=(u+i)/2>>0,o=t[r],i===u)return o>=n&&e>=o;if(n>o)i=r+1;else{if(!(o>e))return!0;u=r-1}}return!1}function o(t,n){return t>n?1:-1}var i={};t.exports=n},function(t,n,e){function r(t,n,e){var r=t.type,a=t.vNode,p=t.patch;switch(r){case v.REMOVE:return o(n,a);case v.INSERT:return i(n,p,e);case v.VTEXT:return u(n,a,p,e);case v.WIDGET:return s(n,a,p,e);case v.VNODE:return c(n,a,p,e);case v.ORDER:return f(n,p),n;case v.PROPS:return h(n,p,a.properties),n;case v.THUNK:return l(n,e.patch(n,p,e));default:return n}}function o(t,n){var e=t.parentNode;return e&&e.removeChild(t),a(t,n),null}function i(t,n,e){var r=d(n,e);return t&&t.appendChild(r),t}function u(t,n,e,r){var o;if(3===t.nodeType)t.replaceData(0,t.length,e.text),o=t;else{var i=t.parentNode;o=d(e,r),i&&o!==t&&i.replaceChild(o,t)}return o}function s(t,n,e,r){var o,i=m(n,e);o=i?e.update(n,t)||t:d(e,r);var u=t.parentNode;return u&&o!==t&&u.replaceChild(o,t),i||a(t,n),o}function c(t,n,e,r){var o=t.parentNode,i=d(e,r);return o&&i!==t&&o.replaceChild(i,t),i}function a(t,n){"function"==typeof n.destroy&&p(n)&&n.destroy(t)}function f(t,n){for(var e,r,o,i=t.childNodes,u={},s=0;s<n.removes.length;s++)r=n.removes[s],e=i[r.from],r.key&&(u[r.key]=e),t.removeChild(e);for(var c=i.length,a=0;a<n.inserts.length;a++)o=n.inserts[a],e=u[o.key],t.insertBefore(e,o.to>=c++?null:i[o.to])}function l(t,n){return t&&n&&t!==n&&t.parentNode&&t.parentNode.replaceChild(n,t),n}var h=e(20),p=e(1),v=e(24),d=e(21),m=e(44);t.exports=r},function(t,n,e){function r(t,n){return o(t,n)}function o(t,n,e){var r=u(n);if(0===r.length)return t;var c=a(t,n.a,r),f=t.ownerDocument;e||(e={patch:o},f!==s&&(e.document=f));for(var l=0;l<r.length;l++){var h=r[l];t=i(t,c[h],n[h],e)}return t}function i(t,n,e,r){if(!n)return t;var o;if(c(e))for(var i=0;i<e.length;i++)o=f(e[i],n,r),n===t&&(t=o);else o=f(e,n,r),n===t&&(t=o);return t}function u(t){var n=[];for(var e in t)"a"!==e&&n.push(Number(e));return n}var s=e(17),c=e(11),a=e(41),f=e(42);t.exports=r},function(t,n,e){function r(t,n){return o(t)&&o(n)?"name"in t&&"name"in n?t.id===n.id:t.init===n.init:!1}var o=e(1);t.exports=r},function(t,n,e){"use strict";function r(t){return this instanceof r?void(this.value=t):new r(t)}var o=e(38);t.exports=r,r.prototype.hook=function(t,n){var e=o(t),r=n.substr(3);e[r]=this.value},r.prototype.unhook=function(t,n){var e=o(t),r=n.substr(3);e[r]=void 0}},function(t){"use strict";function n(t){return this instanceof n?void(this.value=t):new n(t)}t.exports=n,n.prototype.hook=function(t,n){t[n]!==this.value&&(t[n]=this.value)}},function(t,n,e){"use strict";function r(t,n,e){var r,u,c,a,f=[];return!e&&s(n)&&(e=n,u={}),u=u||n||{},r=y(t,u),u.hasOwnProperty("key")&&(c=u.key,u.key=void 0),u.hasOwnProperty("namespace")&&(a=u.namespace,u.namespace=void 0),"INPUT"!==r||a||!u.hasOwnProperty("value")||void 0===u.value||m(u.value)||(u.value=g(u.value)),i(u),void 0!==e&&null!==e&&o(e,f,r,u),new l(r,u,f,c,a)}function o(t,n,e,r){if("string"==typeof t)n.push(new h(t));else if(u(t))n.push(t);else{if(!f(t)){if(null===t||void 0===t)return;throw c({foreignObject:t,parentVnode:{tagName:e,properties:r}})}for(var i=0;i<t.length;i++)o(t[i],n,e,r)}}function i(t){for(var n in t)if(t.hasOwnProperty(n)){var e=t[n];if(m(e))continue;"ev-"===n.substr(0,3)&&(t[n]=w(e))}}function u(t){return p(t)||v(t)||d(t)||b(t)}function s(t){return"string"==typeof t||f(t)||u(t)}function c(t){var n=new Error;return n.type="virtual-hyperscript.unexpected.virtual-element",n.message="Unexpected virtual child passed to h().\nExpected a VNode / Vthunk / VWidget / string but:\ngot:\n"+a(t.foreignObject)+".\nThe parent vnode is:\n"+a(t.parentVnode),n.foreignObject=t.foreignObject,n.parentVnode=t.parentVnode,n}function a(t){try{return JSON.stringify(t,null,"    ")}catch(n){return String(t)}}var f=e(11),l=e(23),h=e(25),p=e(4),v=e(8),d=e(1),m=e(7),b=e(6),y=e(48),g=e(46),w=e(45);t.exports=r},function(t,n,e){"use strict";function r(t,n){if(!t)return"DIV";var e=!n.hasOwnProperty("id"),r=o(t,i),s=null;u.test(r[1])&&(s="DIV");var c,a,f,l;for(l=0;l<r.length;l++)a=r[l],a&&(f=a.charAt(0),s?"."===f?(c=c||[],c.push(a.substring(1,a.length))):"#"===f&&e&&(n.id=a.substring(1,a.length)):s=a);return c&&(n.className&&c.push(n.className),n.className=c.join(" ")),n.namespace?s:s.toUpperCase()}var o=e(37),i=/([\.#]?[a-zA-Z0-9_:-]+)/,u=/^\.|#/;t.exports=r},function(t,n,e){function r(t,n){var e;for(var s in t){s in n||(e=e||{},e[s]=void 0);var c=t[s],a=n[s];if(c!==a)if(i(c)&&i(a))if(o(a)!==o(c))e=e||{},e[s]=a;else if(u(a))e=e||{},e[s]=a;else{var f=r(c,a);f&&(e=e||{},e[s]=f)}else e=e||{},e[s]=a}for(var l in n)l in t||(e=e||{},e[l]=n[l]);return e}function o(t){return Object.getPrototypeOf?Object.getPrototypeOf(t):t.__proto__?t.__proto__:t.constructor?t.constructor.prototype:void 0}var i=e(18),u=e(7);t.exports=r},function(t,n,e){function r(t,n){var e={a:t};return o(t,n,e,0),e}function o(t,n,e,r){if(t!==n){var o=e[r],s=!1;if(_(t)||_(n))c(t,n,e,r);else if(null==n)w(t)||(u(t,e,r),o=e[r]),o=d(o,new b(b.REMOVE,t,n));else if(y(n))if(y(t))if(t.tagName===n.tagName&&t.namespace===n.namespace&&t.key===n.key){var a=x(t.properties,n.properties);a&&(o=d(o,new b(b.PROPS,t,a))),o=i(t,n,e,o,r)}else o=d(o,new b(b.VNODE,t,n)),s=!0;else o=d(o,new b(b.VNODE,t,n)),s=!0;else g(n)?g(t)?t.text!==n.text&&(o=d(o,new b(b.VTEXT,t,n))):(o=d(o,new b(b.VTEXT,t,n)),s=!0):w(n)&&(w(t)||(s=!0),o=d(o,new b(b.WIDGET,t,n)));o&&(e[r]=o),s&&u(t,e,r)}}function i(t,n,e,r,i){for(var u=t.children,s=h(u,n.children),c=s.children,a=u.length,f=c.length,l=a>f?a:f,p=0;l>p;p++){var v=u[p],m=c[p];i+=1,v?o(v,m,e,i):m&&(r=d(r,new b(b.INSERT,null,m))),y(v)&&v.count&&(i+=v.count)}return s.moves&&(r=d(r,new b(b.ORDER,t,s.moves))),r}function u(t,n,e){f(t,n,e),s(t,n,e)}function s(t,n,e){if(w(t))"function"==typeof t.destroy&&(n[e]=d(n[e],new b(b.REMOVE,t,null)));else if(y(t)&&(t.hasWidgets||t.hasThunks))for(var r=t.children,o=r.length,i=0;o>i;i++){var u=r[i];e+=1,s(u,n,e),y(u)&&u.count&&(e+=u.count)}else _(t)&&c(t,null,n,e)}function c(t,n,e,o){var i=E(t,n),u=r(i.a,i.b);a(u)&&(e[o]=new b(b.THUNK,null,u))}function a(t){for(var n in t)if("a"!==n)return!0;return!1}function f(t,n,e){if(y(t)){if(t.hooks&&(n[e]=d(n[e],new b(b.PROPS,t,l(t.hooks)))),t.descendantHooks||t.hasThunks)for(var r=t.children,o=r.length,i=0;o>i;i++){var u=r[i];e+=1,f(u,n,e),y(u)&&u.count&&(e+=u.count)}}else _(t)&&c(t,null,n,e)}function l(t){var n={};for(var e in t)n[e]=void 0;return n}function h(t,n){var e=v(n),r=e.keys,o=e.free;if(o.length===n.length)return{children:n,moves:null};var i=v(t),u=i.keys,s=i.free;if(s.length===t.length)return{children:n,moves:null};for(var c=[],a=0,f=o.length,l=0,h=0;h<t.length;h++){var d,m=t[h];m.key?r.hasOwnProperty(m.key)?(d=r[m.key],c.push(n[d])):(d=h-l++,c.push(null)):f>a?(d=o[a++],c.push(n[d])):(d=h-l++,c.push(null))}for(var b=a>=o.length?n.length:o[a],y=0;y<n.length;y++){var g=n[y];g.key?u.hasOwnProperty(g.key)||c.push(g):y>=b&&c.push(g)}for(var w,_=c.slice(),E=0,x=[],C=[],N=0;N<n.length;){var S=n[N];for(w=_[E];null===w&&_.length;)x.push(p(_,E,null)),w=_[E];w&&w.key===S.key?(E++,N++):S.key?(w&&w.key&&r[w.key]!==N+1?(x.push(p(_,E,w.key)),w=_[E],w&&w.key===S.key?E++:C.push({key:S.key,to:N})):C.push({key:S.key,to:N}),N++):w&&w.key&&x.push(p(_,E,w.key))}for(;E<_.length;)w=_[E],x.push(p(_,E,w&&w.key));return x.length!==l||C.length?{children:c,moves:{removes:x,inserts:C}}:{children:c,moves:null}}function p(t,n,e){return t.splice(n,1),{from:n,key:e}}function v(t){for(var n={},e=[],r=t.length,o=0;r>o;o++){var i=t[o];i.key?n[i.key]=o:e.push(o)}return{keys:n,free:e}}function d(t,n){return t?(m(t)?t.push(n):t=[t,n],t):n}var m=e(11),b=e(24),y=e(4),g=e(8),w=e(1),_=e(6),E=e(22),x=e(49);t.exports=r},function(t,n,e){"use strict";function r(){return Math.floor(Math.pow(u[0].pizzas[0].diameter/2,2)*Math.PI*1e3/u[0].pizzas[0].cuts)/1e3}var o=function(t){return t&&t.__esModule?t["default"]:t},i=o(e(2)),u=window&&window.menus||[{_id:"54fca86fe976eead6c54544c",name:"Monte Cellos Pittsburgh",pizzas:[{name:"Large",diameter:16,cuts:10,cost:12.95},{name:"Medium",diameter:14,cost:9.95},{name:"Small",diameter:12,cost:8.95}]}],s=window&&window.gathering||{eaters:[],servingSize:r(),menu:u[0]._id},c=i.createDataFlowSource({model$:Rx.Observable.just({menus:u,gathering:s,sortBy:"rank"})});t.exports=c},function(t,n,e){"use strict";var r=function(t){return t&&t.__esModule?t["default"]:t},o=r(e(2)),i=o.createIntent(function(t){return{sortBy$:t.event$("th","click").map(function(t){return t.target.getAttribute("data-order")}).filter(function(t){return!!t}),selectMenu$:t.event$(".menu","change").map(function(t){return t.target.options[t.target.selectedIndex].value}),eaterAdd$:t.event$(".new-eater","keypress").filter(function(t){return 13===t.keyCode}).map(function(t){return t.target.value.match(/^([^:]*)[:\s]+(\d+(\.\d*)?)$/)}).filter(function(t){return t}).map(function(t){return{name:t[1],servings:parseInt(t[2],10)}}),eaterStartEdit$:o.Rx.Observable.merge(t.event$(".init-edit","click"),t.event$(".eater-name","dblclick")).map(function(t){return t.target.getAttribute("data-index")}),eaterFinishEdit$:t.event$(".edit-eater","keypress").filter(function(t){return 13===t.keyCode}).merge(t.event$(".edit-eater","blur")).map(function(t){return{index:t.target.getAttribute("data-index"),match:t.target.value.match(/^([^:]*)[:\s]+(\d+(\.\d*)?)$/)}}).filter(function(t){return t.match}).map(function(t){return{index:t.index,name:t.match[1],servings:parseInt(t.match[2],10)}}),eaterCancelEdit$:t.event$(".edit-eater","keypress").filter(function(t){return 27===t.keyCode}).map(function(t){return t.target.getAttribute("data-index")}),saveGathering$:t.event$("button.save","click").map(function(){return!0})}});t.exports=i},function(t,n,e){"use strict";function r(t,n){if(t.gathering._id||n){var e=new XMLHttpRequest;t.gathering._id?e.open("PUT","/"+t.gathering._id,!0):e.open("POST","/",!0),e.setRequestHeader("Content-type","application/json; charset=utf-8"),e.setRequestHeader("Accept","application/json"),e.onreadystatechange=function(){if(4===e.readyState&&e.status>=200&&e.status<300){var t=JSON.parse(e.responseText);window.history.pushState(null,document.title,"/"+t._id),o.onNext(t)}},e.send(JSON.stringify(t.gathering))}}var o,i=function(t){return t&&t.__esModule?t["default"]:t},u=i(e(2)),s=i(e(26)),c=i(e(56)),a=u.Rx.Observable.create(function(t){return o=t}),f=u.createModel(function(t,n,e){function o(t,n){return n.gathering.eaters.push({name:t.name,servings:Math.max(t.servings,0)}),n}function i(t,n){return n.gathering.eaters[t.index].name=t.name,n.gathering.eaters[t.index].servings=Math.max(t.servings,0),n}var f=t.get("sortBy$").map(function(t){return function(n){return n.sortBy=t,n}}),l=t.get("selectMenu$").map(function(t){return function(n){return n.gathering.menu=(s.find(n.menus,{name:t})||n.menus[0])._id,r(n),n}}),h=u.Rx.Observable.merge(t.get("eaterAdd$").map(function(t){return function(n){return o(t,n),r(n),n}}),e.get("eaterAdd$").map(function(t){return function(n){return o(t,n)}})),p=t.get("eaterStartEdit$").map(function(t){return function(n){return n.gathering.eaters[t].editing=!0,n}}),v=u.Rx.Observable.merge(t.get("eaterFinishEdit$").map(function(t){return function(n){return i(t,n),n.gathering.eaters[t.index].editing=!1,r(n),n}}),e.get("eaterFinishEdit$").map(function(t){return function(n){return i(t,n)}})),d=t.get("eaterCancelEdit$").map(function(t){return function(n){return n.gathering.eaters[t].editing=!1,n}}),m=t.get("saveGathering$").map(function(){return function(t){return r(t,!0),t}}),b=a.map(function(t){return function(n){return n.gathering._id=t._id,n}}),y=Rx.Observable.merge(f,l,h,m,b,d,v,p);return y["do"](function(t){return console.log(t)}),{model$:y["do"](function(t){return console.log(""+Date()+": "+t)}).merge(n.get("model$")).scan(function(t,n){return n(t)}).tap(function(t){return t.numServings=s(t.gathering.eaters).map("servings").reduce(function(t,n){return t+n})||0}).tap(function(t){return t.purchaseOptions=c(t.gathering.eaters,s.find(t.menus,{_id:t.gathering.menu}).pizzas,t.gathering.servingSize,t.sortBy)}).share(),serverUpdated$:b}});t.exports=f},function(t,n,e){"use strict";function r(t){return[f.h("h2",null,["Let's get one of these:"]),f.h("table",null,[f.h("thead",null,[f.h("tr",null,[f.h("th",null,["Pizzas"]),f.h("th",{attributes:{"data-order":"total"},className:"total"===t.sortBy?"active":""},["Leftovers"]),f.h("th",{attributes:{"data-order":"cost"},className:"cost"===t.sortBy?"active":""},["Cost"]),f.h("th",{attributes:{"data-order":"rank"},className:"rank"===t.sortBy?"active":""},["PizzaRank"])])]),f.h("tbody",null,[t.purchaseOptions.map(o.bind(this,t.gathering.servingSize,t.numServings))])])]}function o(t,n,e){return f.h("tr",null,[f.h("td",null,[l(e.pizzas).groupBy("name").map(function(t,n){return""+t.length+" "+n}).value().join(", ")]),f.h("td",null,[e.mostPizza?f.h("span",{className:"most-pizza",title:"Most Pizza!"}):null,(e.total/t-n).toFixed(1)+" slices"]),f.h("td",null,[e.cheapest?f.h("span",{className:"low-price",title:"Lowest Price!"}):null,"$",""+e.cost.toFixed(2)]),f.h("td",null,[e.bestDeal?f.h("span",{className:"best-deal",title:"Best Deal!"}):null,""+e.rank])])}function i(t,n,e){return[f.h("h2",null,["Where are we ordering ",""+e," slices from?"]),f.h("select",{className:"menu"},[l.map(t,function(t){return f.h("option",{selected:n.menu===t._id},[t.name])})])]}function u(t){return t._id?[]:[f.h("button",{className:"save"},["Save this gathering"])]}function s(t){return[f.h("h2",null,["Who's eating?"]),f.h("ul",null,[t.eaters.map(c),f.h("li",null,[f.h("input",{className:"new-eater"})])])]}function c(t,n){function e(n){t.editing&&(n.focus(),n.selectionStart=n.value.length)}return f.h("li",{className:t.editing?"editing":""},[f.h("span",{className:"eater-name",attributes:{"data-index":n}},[""+t.name+": "+t.servings+" slice"+(1===t.servings?"":"s")]),f.h("span",{className:"init-edit",attributes:{"data-index":n}},[" edit"]),f.h("input",{className:"edit-eater",value:""+t.name+": "+t.servings,attributes:{"data-index":n},vdomPropHook:f.vdomPropHook(e)})])}var a=function(t){return t&&t.__esModule?t["default"]:t},f=a(e(2)),l=a(e(26)),h=f.createView(function(t){return{vtree$:t.get("model$").map(function(t){return f.h("div",null,[f.h("h1",null,["TODO: Order Minimum Viable Pizza"]),u(t.gathering),s(t.gathering),i(t.menus,t.gathering,t.numServings),r(t)])})}});t.exports=h},function(t,n,e){"use strict";function r(t){t.gathering&&t.gathering._id&&(c.emit("setRoom",t.gathering._id),c.on("intent",function(t){console.log("publishing event from web socket"),f[t.event].onNext(t.data)}),a.dispose(),a=null)}function o(t,n){t.get(n).subscribe(function(t){return!a&&c.emit("intent",{event:n,data:t})})}function i(t){var n=Rx.Observable.create(function(n){f[t]=n});return n}var u=function(t){return t&&t.__esModule?t["default"]:t},s=u(e(2)),c=io.connect(window.location.origin),a=null,f={},l=i("eaterAdd$"),h=i("eaterFinishEdit$"),p={eaterAdd$:l,eaterFinishEdit$:h},v=s.createDataFlowNode(function(t,n){return a=n.get("model$").subscribe(function(t){return r(t)}),r({gathering:window&&window.gathering}),o(t,"eaterAdd$"),o(t,"eaterFinishEdit$"),p});t.exports=v},function(t){"use strict";function n(t){t.total=_(t.pizzas).map("diameter").map(function(t){return t/2}).map(function(t){return t*t}).map(function(t){return t*Math.PI}).reduce(function(t,n){return n+t})}function e(t,r,o,i,u){if(u=u||0,o.total>t)i.push(o);else for(var s=u;s<r.length;++s){var c={pizzas:_.clone(o.pizzas)};c.pizzas.push(r[s]),n(c),e(t,r,c,i,s)}return i}function r(t,n,r,o){var n=_.sortBy(_.cloneDeep(n),"diameter").reverse(),i=_(t).map("servings").reduce(function(t,n){return t+n})||0,u=i*r;return _(e(u,n,{pizzas:[],total:0},[])).tap(function(t){return console.log("Found "+t.length+" options")}).forEach(function(t){t.cost=_(t.pizzas).map("cost").reduce(function(t,n){return t+n}),t.ratio=t.cost/t.total}).sortBy("ratio").forEach(function(t,n){return t.rank=n+1}).sortBy("total").forEach(function(t,n){return t.rank+=n}).sortBy(o).take(10).sortBy("total").tap(function(t){return t.length&&(t[t.length-1].mostPizza=!0)}).sortBy("ratio").tap(function(t){return t.length&&(t[0].bestDeal=!0)}).sortBy("cost").tap(function(t){return t.length&&(t[0].cheapest=!0)}).sortBy(o).value()}t.exports=r},function(t){function n(){if(!i){i=!0;for(var t,n=o.length;n;){t=o,o=[];for(var e=-1;++e<n;)t[e]();n=o.length}i=!1}}function e(){}var r=t.exports={},o=[],i=!1;r.nextTick=function(t){o.push(t),i||setTimeout(n,0)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=e,r.addListener=e,r.once=e,r.off=e,r.removeListener=e,r.removeAllListeners=e,r.emit=e,r.binding=function(){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(){}]);
//# sourceMappingURL=script.js.map